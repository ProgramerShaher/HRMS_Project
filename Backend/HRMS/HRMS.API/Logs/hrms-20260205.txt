2026-02-05 00:00:18.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Attendance/reports/payroll-summary?month=2&year=2026 - null null
2026-02-05 00:00:18.554 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceController.GetPayrollSummary (HRMS.API)'
2026-02-05 00:00:18.588 +03:00 [INF] Route matched with {action = "GetPayrollSummary", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.Features.Attendance.Reports.Queries.GetMonthlyPayrollSummary.PayrollAttendanceSummaryDto]]]] GetPayrollSummary(Int32, Int32) on controller HRMS.API.Controllers.Attendance.AttendanceController (HRMS.API).
2026-02-05 00:00:18.670 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d0].[DEPT_ID], [d0].[BranchId], [d0].[COST_CENTER_CODE], [d0].[CREATED_AT], [d0].[CREATED_BY], [d0].[DEPT_NAME_AR], [d0].[DEPT_NAME_EN], [d0].[IS_ACTIVE], [d0].[IS_DELETED], [d0].[MANAGER_ID], [d0].[PARENT_DEPT_ID], [d0].[UPDATED_AT], [d0].[UPDATED_BY], [d0].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [d].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d0] ON [e].[DEPARTMENT_ID] = [d0].[DEPT_ID]
WHERE [d].[ATTENDANCE_DATE] >= @__startDate_0 AND [d].[ATTENDANCE_DATE] <= @__endDate_1 AND [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 00:00:18.722 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__endDate_0='?' (DbType = DateTime2), @__startDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LEAVE_TYPE_ID], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[DEFAULT_DAYS], [l0].[IS_CARRY_FORWARD], [l0].[IS_DEDUCTIBLE], [l0].[IS_DELETED], [l0].[IS_PAID], [l0].[LEAVE_NAME_AR], [l0].[LEAVE_NAME_EN], [l0].[MAX_DAYS_PER_YEAR], [l0].[REQUIRES_ATTACHMENT], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
WHERE [l].[STATUS] = N'APPROVED' AND [l].[IS_DELETED] = CAST(0 AS tinyint) AND [l].[START_DATE] <= @__endDate_0 AND [l].[END_DATE] >= @__startDate_1
2026-02-05 00:00:18.749 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.Features.Attendance.Reports.Queries.GetMonthlyPayrollSummary.PayrollAttendanceSummaryDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:00:18.764 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceController.GetPayrollSummary (HRMS.API) in 171.8366ms
2026-02-05 00:00:18.767 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceController.GetPayrollSummary (HRMS.API)'
2026-02-05 00:00:18.769 +03:00 [INF] HTTP GET /api/Attendance/reports/payroll-summary responded 200 in 215.5762 ms
2026-02-05 00:00:18.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Attendance/reports/payroll-summary?month=2&year=2026 - 200 null application/json; charset=utf-8 232.5958ms
2026-02-05 00:01:39.549 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Attendance/correction - application/json 211
2026-02-05 00:01:39.564 +03:00 [INF] CORS policy execution successful.
2026-02-05 00:01:39.566 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceController.ManualCorrection (HRMS.API)'
2026-02-05 00:01:39.568 +03:00 [INF] Route matched with {action = "ManualCorrection", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] ManualCorrection(HRMS.Application.Features.Attendance.Commands.ManualCorrection.ManualCorrectionCommand) on controller HRMS.API.Controllers.Attendance.AttendanceController (HRMS.API).
2026-02-05 00:01:39.614 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_DailyAttendanceId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [d].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
WHERE [d].[RECORD_ID] = @__request_DailyAttendanceId_0
2026-02-05 00:01:39.633 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int64), @p5='?' (DbType = Int32), @p6='?' (Size = 50), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (Size = 50), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (DbType = Int64), @p20='?' (Size = 100), @p21='?' (Size = 200), @p23='?' (DbType = Int64), @p22='?' (DbType = DateTime2), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[ATTENDANCE_CORRECTIONS] ([ATTENDANCE_DATE], [AUDIT_NOTE], [CREATED_AT], [CREATED_BY], [DAILY_ATTENDANCE_ID], [EMPLOYEE_ID], [FIELD_NAME], [IS_DELETED], [NEW_VALUE], [OLD_VALUE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[CORRECTION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
UPDATE [HR_ATTENDANCE].[DAILY_ATTENDANCE] SET [ACTUAL_IN_TIME] = @p22
OUTPUT 1
WHERE [RECORD_ID] = @p23 AND [VERSION_NO] = @p24;
2026-02-05 00:01:39.646 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 00:01:39.651 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:01:39.653 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceController.ManualCorrection (HRMS.API) in 81.783ms
2026-02-05 00:01:39.656 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceController.ManualCorrection (HRMS.API)'
2026-02-05 00:01:39.658 +03:00 [INF] HTTP POST /api/Attendance/correction responded 200 in 93.6385 ms
2026-02-05 00:01:39.662 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Attendance/correction - 200 null application/json; charset=utf-8 113.7469ms
2026-02-05 00:02:16.549 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Attendance/correction - application/json 211
2026-02-05 00:02:16.555 +03:00 [INF] CORS policy execution successful.
2026-02-05 00:02:16.556 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceController.ManualCorrection (HRMS.API)'
2026-02-05 00:02:16.557 +03:00 [INF] Route matched with {action = "ManualCorrection", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] ManualCorrection(HRMS.Application.Features.Attendance.Commands.ManualCorrection.ManualCorrectionCommand) on controller HRMS.API.Controllers.Attendance.AttendanceController (HRMS.API).
2026-02-05 00:02:16.572 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_DailyAttendanceId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [d].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
WHERE [d].[RECORD_ID] = @__request_DailyAttendanceId_0
2026-02-05 00:02:16.774 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int64), @p5='?' (DbType = Int32), @p6='?' (Size = 50), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (Size = 50), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (DbType = Int64), @p20='?' (Size = 100), @p21='?' (Size = 200), @p23='?' (DbType = Int64), @p22='?' (DbType = DateTime2), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[ATTENDANCE_CORRECTIONS] ([ATTENDANCE_DATE], [AUDIT_NOTE], [CREATED_AT], [CREATED_BY], [DAILY_ATTENDANCE_ID], [EMPLOYEE_ID], [FIELD_NAME], [IS_DELETED], [NEW_VALUE], [OLD_VALUE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[CORRECTION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
UPDATE [HR_ATTENDANCE].[DAILY_ATTENDANCE] SET [ACTUAL_IN_TIME] = @p22
OUTPUT 1
WHERE [RECORD_ID] = @p23 AND [VERSION_NO] = @p24;
2026-02-05 00:02:16.788 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 00:02:16.792 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:02:16.794 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceController.ManualCorrection (HRMS.API) in 234.1599ms
2026-02-05 00:02:16.832 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceController.ManualCorrection (HRMS.API)'
2026-02-05 00:02:16.834 +03:00 [INF] HTTP POST /api/Attendance/correction responded 200 in 278.2096 ms
2026-02-05 00:02:16.836 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Attendance/correction - 200 null application/json; charset=utf-8 287.3372ms
2026-02-05 00:05:27.663 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/stats - null null
2026-02-05 00:05:27.687 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetStats (HRMS.API)'
2026-02-05 00:05:27.708 +03:00 [INF] Route matched with {action = "GetStats", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Leaves.Dashboard.Queries.GetApprovalStats.ApprovalStatsDto]]] GetStats() on controller HRMS.API.Controllers.Leaves.ApprovalsController (HRMS.API).
2026-02-05 00:05:27.782 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[STATUS] = N'PENDING' AND [l].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 00:05:27.817 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__today_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[WORKFLOW_APPROVALS] AS [w]
WHERE [w].[REQUEST_TYPE] = N'LEAVE' AND [w].[STATUS] = N'APPROVED' AND [w].[APPROVAL_DATE] >= @__today_0 AND [w].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 00:05:27.832 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startOfMonth_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[WORKFLOW_APPROVALS] AS [w]
WHERE [w].[REQUEST_TYPE] = N'LEAVE' AND [w].[STATUS] = N'REJECTED' AND [w].[APPROVAL_DATE] >= @__startOfMonth_0 AND [w].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 00:05:27.837 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Leaves.Dashboard.Queries.GetApprovalStats.ApprovalStatsDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 00:05:27.846 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.ApprovalsController.GetStats (HRMS.API) in 133.3665ms
2026-02-05 00:05:27.852 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetStats (HRMS.API)'
2026-02-05 00:05:27.854 +03:00 [INF] HTTP GET /api/Leaves/Approvals/stats responded 200 in 174.9931 ms
2026-02-05 00:05:27.858 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/stats - 200 null application/json; charset=utf-8 195.2827ms
2026-02-05 00:05:44.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/delayed - null null
2026-02-05 00:05:44.778 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetDelayed (HRMS.API)'
2026-02-05 00:05:44.793 +03:00 [INF] Route matched with {action = "GetDelayed", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveRequestDto]]]] GetDelayed() on controller HRMS.API.Controllers.Leaves.ApprovalsController (HRMS.API).
2026-02-05 00:05:45.424 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__thresholdDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [l0].[LEAVE_TYPE_ID], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[DEFAULT_DAYS], [l0].[IS_CARRY_FORWARD], [l0].[IS_DEDUCTIBLE], [l0].[IS_DELETED], [l0].[IS_PAID], [l0].[LEAVE_NAME_AR], [l0].[LEAVE_NAME_EN], [l0].[MAX_DAYS_PER_YEAR], [l0].[REQUIRES_ATTACHMENT], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [l].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
WHERE [l].[STATUS] = N'PENDING' AND [l].[IS_DELETED] = CAST(0 AS tinyint) AND [l].[CREATED_AT] <= @__thresholdDate_0
ORDER BY [l].[CREATED_AT]
2026-02-05 00:05:45.459 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveRequestDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:05:45.473 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.ApprovalsController.GetDelayed (HRMS.API) in 671.3072ms
2026-02-05 00:05:45.476 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetDelayed (HRMS.API)'
2026-02-05 00:05:45.477 +03:00 [INF] HTTP GET /api/Leaves/Approvals/delayed responded 200 in 701.9886 ms
2026-02-05 00:05:45.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/delayed - 200 null application/json; charset=utf-8 710.7939ms
2026-02-05 00:07:05.244 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/reports/transactions?fromDate=1&toDate=2&employeeId=23&status=Approve - null null
2026-02-05 00:07:05.282 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API)'
2026-02-05 00:07:05.301 +03:00 [INF] Route matched with {action = "GetTransactionReport", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.Features.Leaves.Reports.Queries.GetLeaveTransactionReport.LeaveTransactionReportDto]]]] GetTransactionReport(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.String) on controller HRMS.API.Controllers.Leaves.ApprovalsController (HRMS.API).
2026-02-05 00:07:05.317 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-05 00:07:05.340 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API) in 35.457ms
2026-02-05 00:07:05.345 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API)'
2026-02-05 00:07:05.347 +03:00 [INF] HTTP GET /api/Leaves/Approvals/reports/transactions responded 400 in 65.2013 ms
2026-02-05 00:07:05.349 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/reports/transactions?fromDate=1&toDate=2&employeeId=23&status=Approve - 400 null application/json; charset=utf-8 104.5335ms
2026-02-05 00:07:46.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/reports/transactions?fromDate=2026-02-01&toDate=2026-02-04&employeeId=23&status=Approve - null null
2026-02-05 00:07:46.381 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API)'
2026-02-05 00:07:46.383 +03:00 [INF] Route matched with {action = "GetTransactionReport", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.Features.Leaves.Reports.Queries.GetLeaveTransactionReport.LeaveTransactionReportDto]]]] GetTransactionReport(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.String) on controller HRMS.API.Controllers.Leaves.ApprovalsController (HRMS.API).
2026-02-05 00:07:46.573 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__request_FromDate_Value_0='?' (DbType = DateTime2), @__request_ToDate_Value_1='?' (DbType = DateTime2), @__request_EmployeeId_Value_2='?' (DbType = Int32), @__request_Status_3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [e].[FIRST_NAME_AR] + N' ' + [e].[FIRST_NAME_AR], [d].[DEPT_NAME_AR], [l0].[LEAVE_NAME_AR], [l].[START_DATE], [l].[END_DATE], [l].[DAYS_COUNT], COALESCE([l].[STATUS], N'Unknown'), [l].[CREATED_AT]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [l].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
WHERE [l].[START_DATE] >= @__request_FromDate_Value_0 AND [l].[START_DATE] <= @__request_ToDate_Value_1 AND [l].[EMPLOYEE_ID] = @__request_EmployeeId_Value_2 AND [l].[STATUS] = @__request_Status_3
ORDER BY [l].[START_DATE] DESC
2026-02-05 00:07:46.587 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.Features.Leaves.Reports.Queries.GetLeaveTransactionReport.LeaveTransactionReportDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:07:46.595 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API) in 206.0404ms
2026-02-05 00:07:46.599 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API)'
2026-02-05 00:07:46.603 +03:00 [INF] HTTP GET /api/Leaves/Approvals/reports/transactions responded 200 in 221.3073 ms
2026-02-05 00:07:46.606 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/reports/transactions?fromDate=2026-02-01&toDate=2026-02-04&employeeId=23&status=Approve - 200 null application/json; charset=utf-8 280.8459ms
2026-02-05 00:08:22.937 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/reports/payroll?month=2&year=2026 - null null
2026-02-05 00:08:22.989 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetPayrollReport (HRMS.API)'
2026-02-05 00:08:23.006 +03:00 [INF] Route matched with {action = "GetPayrollReport", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.Features.Leaves.Reports.Queries.GetPayrollIntegrationReport.PayrollLeaveDto]]]] GetPayrollReport(Int32, Int32) on controller HRMS.API.Controllers.Leaves.ApprovalsController (HRMS.API).
2026-02-05 00:08:23.104 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__endDate_0='?' (DbType = DateTime2), @__startDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [l0].[LEAVE_TYPE_ID], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[DEFAULT_DAYS], [l0].[IS_CARRY_FORWARD], [l0].[IS_DEDUCTIBLE], [l0].[IS_DELETED], [l0].[IS_PAID], [l0].[LEAVE_NAME_AR], [l0].[LEAVE_NAME_EN], [l0].[MAX_DAYS_PER_YEAR], [l0].[REQUIRES_ATTACHMENT], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [l].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
WHERE [l].[STATUS] IN (N'MANAGER_APPROVED', N'HR_APPROVED') AND [l].[IS_DELETED] = CAST(0 AS tinyint) AND [l].[START_DATE] <= @__endDate_0 AND [l].[END_DATE] >= @__startDate_1
2026-02-05 00:08:23.120 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.Features.Leaves.Reports.Queries.GetPayrollIntegrationReport.PayrollLeaveDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:08:23.129 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.ApprovalsController.GetPayrollReport (HRMS.API) in 116.507ms
2026-02-05 00:08:23.139 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetPayrollReport (HRMS.API)'
2026-02-05 00:08:23.140 +03:00 [INF] HTTP GET /api/Leaves/Approvals/reports/payroll responded 200 in 151.4108 ms
2026-02-05 00:08:23.142 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/reports/payroll?month=2&year=2026 - 200 null application/json; charset=utf-8 205.9127ms
2026-02-05 00:13:27.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/reports/transactions - null null
2026-02-05 00:13:27.751 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API)'
2026-02-05 00:13:27.754 +03:00 [INF] Route matched with {action = "GetTransactionReport", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.Features.Leaves.Reports.Queries.GetLeaveTransactionReport.LeaveTransactionReportDto]]]] GetTransactionReport(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.String) on controller HRMS.API.Controllers.Leaves.ApprovalsController (HRMS.API).
2026-02-05 00:13:27.846 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [e].[FIRST_NAME_AR] + N' ' + [e].[FIRST_NAME_AR], [d].[DEPT_NAME_AR], [l0].[LEAVE_NAME_AR], [l].[START_DATE], [l].[END_DATE], [l].[DAYS_COUNT], COALESCE([l].[STATUS], N'Unknown'), [l].[CREATED_AT]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [l].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
ORDER BY [l].[START_DATE] DESC
2026-02-05 00:13:27.866 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.Features.Leaves.Reports.Queries.GetLeaveTransactionReport.LeaveTransactionReportDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:13:27.875 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API) in 114.4438ms
2026-02-05 00:13:27.881 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.ApprovalsController.GetTransactionReport (HRMS.API)'
2026-02-05 00:13:27.882 +03:00 [INF] HTTP GET /api/Leaves/Approvals/reports/transactions responded 200 in 131.8631 ms
2026-02-05 00:13:27.884 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Leaves/Approvals/reports/transactions - 200 null application/json; charset=utf-8 176.5083ms
2026-02-05 00:19:49.010 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-05 00:19:49.018 +03:00 [INF] CORS policy execution successful.
2026-02-05 00:19:49.019 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 00:19:49.036 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 00:19:49.195 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-05 00:19:49.213 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 00:19:49.233 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 00:19:49.276 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.288 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.348 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 00:19:49.383 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 00:19:49.405 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 00:19:49.424 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 00:19:49.545 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.551 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.559 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.574 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.581 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 00:19:49.587 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 00:19:49.593 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 00:19:49.600 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 00:19:49.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.612 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 00:19:49.619 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 00:19:49.626 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 00:19:49.631 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 00:19:49.639 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:19:49.747 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-05 00:19:49.775 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 00:19:49.785 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 00:19:49.788 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 748.1251ms
2026-02-05 00:19:49.790 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 00:19:49.793 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 774.8262 ms
2026-02-05 00:19:49.796 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 785.7043ms
2026-02-05 00:20:16.472 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 00:20:16.478 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 00:20:16.493 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 00:20:16.535 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 00:20:16.544 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 00:20:16.557 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 00:20:16.566 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 00:20:16.577 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 00:20:16.581 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 00:20:16.593 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 93.2822ms
2026-02-05 00:20:16.595 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 00:20:16.596 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 118.0735 ms
2026-02-05 00:20:16.598 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 126.2752ms
2026-02-05 01:25:09.530 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 01:25:19.561 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 01:25:23.077 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 01:25:23.089 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 01:25:23.093 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 01:25:23.098 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 01:25:28.690 +03:00 [INF] Executed DbCommand (386ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 01:25:29.017 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 01:25:29.036 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 01:25:29.152 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 01:25:29.356 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 01:25:29.379 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 01:25:30.301 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 01:25:30.378 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 01:25:31.233 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 01:25:32.461 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 01:25:32.983 +03:00 [INF] Hosting environment: Development
2026-02-05 01:25:33.057 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 01:25:40.039 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 5944.6263 ms
2026-02-05 01:25:40.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 01:25:41.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 01:25:41.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 9055.3481ms
2026-02-05 01:25:41.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1413.4782ms
2026-02-05 01:25:41.900 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 676.5785ms
2026-02-05 01:25:43.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 01:25:44.423 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1096.5090 ms
2026-02-05 01:25:44.455 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1136.4114ms
2026-02-05 01:27:44.689 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/appraisals/1 - null null
2026-02-05 01:27:44.731 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalDetails (HRMS.API)'
2026-02-05 01:27:44.796 +03:00 [INF] Route matched with {action = "GetAppraisalDetails", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppraisalDetails(Int32) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 01:27:44.865 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 01:27:44.886 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalDetails (HRMS.API) in 62.8334ms
2026-02-05 01:27:44.891 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalDetails (HRMS.API)'
2026-02-05 01:27:44.893 +03:00 [INF] HTTP GET /api/Performance/appraisals/1 responded 200 in 193.6719 ms
2026-02-05 01:27:44.896 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/appraisals/1 - 200 null application/json; charset=utf-8 207.6383ms
2026-02-05 01:47:23.023 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 01:47:28.992 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 01:47:34.111 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 01:47:34.217 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 01:47:34.240 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 01:47:34.242 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 01:47:39.125 +03:00 [INF] Executed DbCommand (314ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 01:47:39.845 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 01:47:40.669 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 01:47:41.262 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 01:47:41.549 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 01:47:41.727 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 01:47:42.707 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 01:47:42.726 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 01:47:43.181 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 01:47:43.814 +03:00 [INF] Hosting environment: Development
2026-02-05 01:47:43.825 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 01:47:46.849 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 01:47:50.699 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 555.3058 ms
2026-02-05 01:47:50.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 01:47:51.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 01:47:52.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1962.583ms
2026-02-05 01:47:52.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 5915.214ms
2026-02-05 01:47:53.139 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1365.5285ms
2026-02-05 01:47:55.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 01:47:57.844 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1054.2670 ms
2026-02-05 01:48:00.600 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5505.4617ms
2026-02-05 17:35:38.242 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 17:35:43.913 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 17:35:45.421 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 17:35:45.424 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 17:35:45.426 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 17:35:45.428 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 17:35:47.886 +03:00 [INF] Executed DbCommand (198ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 17:35:48.034 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 17:35:48.039 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 17:35:48.064 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 17:35:48.144 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 17:35:48.150 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 17:35:48.712 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 17:35:48.713 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 17:35:48.880 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 17:35:48.882 +03:00 [INF] Hosting environment: Development
2026-02-05 17:35:48.886 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 17:35:49.621 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 17:35:52.771 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2790.8776 ms
2026-02-05 17:35:52.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 3212.2884ms
2026-02-05 17:35:53.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 17:35:53.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 17:35:53.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 16.9059ms
2026-02-05 17:35:53.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.1369ms
2026-02-05 17:35:54.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 17:35:54.971 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 455.8089 ms
2026-02-05 17:35:54.977 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 465.5866ms
2026-02-05 17:38:31.952 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - application/json 158
2026-02-05 17:38:31.969 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:38:31.989 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-02-05 17:38:32.004 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-05 17:38:32.007 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 401 in 42.8172 ms
2026-02-05 17:38:32.010 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - 401 0 null 58.6629ms
2026-02-05 17:39:19.721 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 77
2026-02-05 17:39:19.728 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:39:19.732 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-05 17:39:19.786 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Auth.AuthResponse]]] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-02-05 17:39:19.982 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 17:39:20.118 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 17:39:20.133 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 17:39:20.475 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-05 17:39:20.550 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 17:39:20.570 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 769.3409ms
2026-02-05 17:39:20.572 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-05 17:39:20.574 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 846.1907 ms
2026-02-05 17:39:20.583 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 401 null application/json; charset=utf-8 862.2079ms
2026-02-05 17:40:09.627 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 74
2026-02-05 17:40:09.632 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:40:09.633 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-05 17:40:09.634 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Auth.AuthResponse]]] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-02-05 17:40:09.789 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 17:40:09.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 17:40:09.926 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 17:40:09.952 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-05 17:40:09.966 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 17:40:09.972 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 17:40:09.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-05 17:40:10.075 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-05 17:40:10.169 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 17:40:10.174 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 17:40:10.182 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-05 17:40:10.190 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 17:40:10.195 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 558.265ms
2026-02-05 17:40:10.197 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-05 17:40:10.198 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 567.0763 ms
2026-02-05 17:40:10.202 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 574.9889ms
2026-02-05 17:40:44.412 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - application/json 158
2026-02-05 17:40:44.421 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:40:44.512 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 17:40:44.522 +03:00 [INF] Route matched with {action = "CreateViolationType", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateViolationType(HRMS.Application.Features.Performance.ViolationTypes.Commands.Create.CreateViolationTypeCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:41:00.875 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API) in 16350.6138ms
2026-02-05 17:41:00.883 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 17:41:00.929 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- Severity:       : LOW, MEDIUM, HIGH, CRITICAL Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- Severity:       : LOW, MEDIUM, HIGH, CRITICAL Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 32
   at HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType(CreateViolationTypeCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Performance\PerformanceController.cs:line 87
   at lambda_method527(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-05 17:41:01.015 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 400 in 16593.4514 ms
2026-02-05 17:41:01.016 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - 400 null application/json 16604.6967ms
2026-02-05 17:41:06.888 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - application/json 154
2026-02-05 17:41:07.329 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:41:07.337 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 17:41:07.339 +03:00 [INF] Route matched with {action = "CreateViolationType", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateViolationType(HRMS.Application.Features.Performance.ViolationTypes.Commands.Create.CreateViolationTypeCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:41:07.410 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ViolationNameAr_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
        WHERE [v].[VIOLATION_NAME_AR] = @__request_ViolationNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 17:41:07.492 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[VIOLATION_TYPES] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [SEVERITY_LEVEL], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [VIOLATION_NAME_AR])
OUTPUT INSERTED.[VIOLATION_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-05 17:41:07.514 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 17:41:07.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 17:41:07.524 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API) in 179.5419ms
2026-02-05 17:41:07.526 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 17:41:07.529 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 200 in 199.8868 ms
2026-02-05 17:41:07.531 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - 200 null application/json; charset=utf-8 643.1355ms
2026-02-05 17:42:00.686 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/disciplinary-actions - application/json 81
2026-02-05 17:42:00.690 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:42:00.691 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API)'
2026-02-05 17:42:00.705 +03:00 [INF] Route matched with {action = "CreateDisciplinaryAction", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateDisciplinaryAction(HRMS.Application.Features.Performance.DisciplinaryActions.Commands.Create.CreateDisciplinaryActionCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:42:00.914 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ActionNameAr_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
        WHERE [d].[ACTION_NAME_AR] = @__request_ActionNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 17:42:00.985 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Precision = 3) (Scale = 1) (DbType = Decimal), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] ([ACTION_NAME_AR], [CREATED_AT], [CREATED_BY], [DEDUCTION_DAYS], [IS_DELETED], [IS_TERMINATION], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[ACTION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 17:42:00.995 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 17:42:01.006 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 17:42:01.008 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API) in 174.4549ms
2026-02-05 17:42:01.015 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API)'
2026-02-05 17:42:01.018 +03:00 [INF] HTTP POST /api/Performance/config/disciplinary-actions responded 200 in 327.9962 ms
2026-02-05 17:42:01.020 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/disciplinary-actions - 200 null application/json; charset=utf-8 334.0386ms
2026-02-05 17:42:41.648 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/violations - application/json 192
2026-02-05 17:42:41.652 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:42:41.654 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-05 17:42:41.666 +03:00 [INF] Route matched with {action = "RegisterViolation", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RegisterViolation(HRMS.Application.Features.Performance.Violations.Commands.RegisterViolation.RegisterViolationCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:42:41.846 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 17:42:41.858 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 17:42:41.860 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API) in 190.177ms
2026-02-05 17:42:41.862 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-05 17:42:41.863 +03:00 [INF] HTTP POST /api/Performance/violations responded 400 in 211.4549 ms
2026-02-05 17:42:41.865 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/violations - 400 null application/json; charset=utf-8 217.3228ms
2026-02-05 17:42:52.222 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/violations - application/json 193
2026-02-05 17:42:52.226 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:42:52.227 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-05 17:42:52.228 +03:00 [INF] Route matched with {action = "RegisterViolation", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RegisterViolation(HRMS.Application.Features.Performance.Violations.Commands.RegisterViolation.RegisterViolationCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:42:52.239 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 17:42:52.282 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_ViolationTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VIOLATION_TYPE_ID], [v].[CREATED_AT], [v].[CREATED_BY], [v].[IS_DELETED], [v].[SEVERITY_LEVEL], [v].[UPDATED_AT], [v].[UPDATED_BY], [v].[VERSION_NO], [v].[VIOLATION_NAME_AR]
FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
WHERE [v].[VIOLATION_TYPE_ID] = @__request_ViolationTypeId_0 AND [v].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 17:42:52.369 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 17:42:52.378 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 500), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] ([ACTION_ID], [CREATED_AT], [CREATED_BY], [DESCRIPTION], [EMPLOYEE_ID], [INVESTIGATION_NOTES], [IS_DELETED], [IS_EXECUTED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [VIOLATION_DATE], [VIOLATION_TYPE_ID])
OUTPUT INSERTED.[VIOLATION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-05 17:42:52.386 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 17:42:52.389 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 17:42:52.416 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ActionId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[ACTION_ID], [d].[ACTION_NAME_AR], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEDUCTION_DAYS], [d].[IS_DELETED], [d].[IS_TERMINATION], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
WHERE [d].[ACTION_ID] = @__request_ActionId_Value_0 AND [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 17:42:52.495 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint) AND [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-05 17:42:52.698 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 17:42:52.714 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p10='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (Size = 20), @p13='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 50), @p17='?' (DbType = Int32), @p18='?' (Size = 1) (DbType = Byte), @p19='?' (DbType = Int32), @p20='?' (Size = 200), @p21='?' (DbType = DateTime2), @p22='?' (Size = 50), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] SET [IS_EXECUTED] = @p9
OUTPUT 1
WHERE [VIOLATION_ID] = @p10 AND [VERSION_NO] = @p11;
INSERT INTO [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] ([AdjustmentType], [Amount], [ApprovedBy], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [PAYROLL_RUN_ID], [Reason], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[AdjustmentId]
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2026-02-05 17:42:52.726 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 17:42:52.729 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 17:42:52.733 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 17:42:52.736 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API) in 504.2159ms
2026-02-05 17:42:52.737 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-05 17:42:52.739 +03:00 [INF] HTTP POST /api/Performance/violations responded 200 in 513.2134 ms
2026-02-05 17:42:52.741 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/violations - 200 null application/json; charset=utf-8 518.9087ms
2026-02-05 17:45:07.064 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-05 17:45:07.067 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:45:07.069 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 17:45:07.082 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 17:45:07.195 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-05 17:45:07.206 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 17:45:07.232 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 17:45:07.262 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.267 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.303 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 17:45:07.514 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 17:45:07.609 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.620 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.629 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.634 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.640 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 17:45:07.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 17:45:07.655 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.661 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 17:45:07.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 17:45:07.674 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 17:45:07.801 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-05 17:45:07.835 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 17:45:07.842 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 17:45:07.844 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 758.7245ms
2026-02-05 17:45:07.846 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 17:45:07.847 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 780.4294 ms
2026-02-05 17:45:07.850 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 786.2761ms
2026-02-05 17:46:43.869 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/25/full-profile - null null
2026-02-05 17:46:43.873 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 17:46:43.884 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 17:46:44.349 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-05 17:46:44.546 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c0].[CONTRACT_ID], [c0].[BASIC_SALARY], [c0].[CONTRACT_STATUS], [c0].[CONTRACT_TYPE], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[EMPLOYEE_ID], [c0].[END_DATE], [c0].[HOUSING_ALLOWANCE], [c0].[IS_DELETED], [c0].[IS_RENEWABLE], [c0].[OTHER_ALLOWANCES], [c0].[START_DATE], [c0].[TRANSPORT_ALLOWANCE], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VACATION_DAYS], [c0].[VERSION_NO], [c0].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c0] ON [s].[EMPLOYEE_ID] = [c0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [e2].[QUALIFICATION_ID], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c0].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 17:46:44.662 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 17:46:44.695 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 808.0186ms
2026-02-05 17:46:44.700 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 17:46:44.701 +03:00 [INF] HTTP GET /api/employee-profile/25/full-profile responded 200 in 828.8136 ms
2026-02-05 17:46:44.703 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/25/full-profile - 200 null application/json; charset=utf-8 833.6809ms
2026-02-05 17:47:11.870 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 17:47:11.888 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 17:47:11.889 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 17:47:11.945 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c0].[CONTRACT_ID], [c0].[BASIC_SALARY], [c0].[CONTRACT_STATUS], [c0].[CONTRACT_TYPE], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[EMPLOYEE_ID], [c0].[END_DATE], [c0].[HOUSING_ALLOWANCE], [c0].[IS_DELETED], [c0].[IS_RENEWABLE], [c0].[OTHER_ALLOWANCES], [c0].[START_DATE], [c0].[TRANSPORT_ALLOWANCE], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VACATION_DAYS], [c0].[VERSION_NO], [c0].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c0] ON [s].[EMPLOYEE_ID] = [c0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [e2].[QUALIFICATION_ID], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c0].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 17:47:11.977 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 17:47:11.997 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 105.0514ms
2026-02-05 17:47:11.999 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 17:47:12.000 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 112.5484 ms
2026-02-05 17:47:12.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 133.3608ms
2026-02-05 17:48:02.639 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/violations - application/json 193
2026-02-05 17:48:02.642 +03:00 [INF] CORS policy execution successful.
2026-02-05 17:48:02.643 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-05 17:48:02.644 +03:00 [INF] Route matched with {action = "RegisterViolation", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RegisterViolation(HRMS.Application.Features.Performance.Violations.Commands.RegisterViolation.RegisterViolationCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:48:02.785 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 17:48:02.823 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ViolationTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VIOLATION_TYPE_ID], [v].[CREATED_AT], [v].[CREATED_BY], [v].[IS_DELETED], [v].[SEVERITY_LEVEL], [v].[UPDATED_AT], [v].[UPDATED_BY], [v].[VERSION_NO], [v].[VIOLATION_NAME_AR]
FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
WHERE [v].[VIOLATION_TYPE_ID] = @__request_ViolationTypeId_0 AND [v].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 17:48:02.827 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 17:48:02.832 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 500), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] ([ACTION_ID], [CREATED_AT], [CREATED_BY], [DESCRIPTION], [EMPLOYEE_ID], [INVESTIGATION_NOTES], [IS_DELETED], [IS_EXECUTED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [VIOLATION_DATE], [VIOLATION_TYPE_ID])
OUTPUT INSERTED.[VIOLATION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-05 17:48:02.837 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 17:48:02.841 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 17:48:02.845 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ActionId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[ACTION_ID], [d].[ACTION_NAME_AR], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEDUCTION_DAYS], [d].[IS_DELETED], [d].[IS_TERMINATION], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
WHERE [d].[ACTION_ID] = @__request_ActionId_Value_0 AND [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 17:48:02.852 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint) AND [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-05 17:48:02.858 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 17:48:02.864 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p10='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (Size = 20), @p13='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 50), @p17='?' (DbType = Int32), @p18='?' (Size = 1) (DbType = Byte), @p19='?' (DbType = Int32), @p20='?' (Size = 200), @p21='?' (DbType = DateTime2), @p22='?' (Size = 50), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] SET [IS_EXECUTED] = @p9
OUTPUT 1
WHERE [VIOLATION_ID] = @p10 AND [VERSION_NO] = @p11;
INSERT INTO [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] ([AdjustmentType], [Amount], [ApprovedBy], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [PAYROLL_RUN_ID], [Reason], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[AdjustmentId]
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2026-02-05 17:48:02.869 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 17:48:02.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 17:48:02.876 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 17:48:02.877 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API) in 230.9566ms
2026-02-05 17:48:02.910 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-05 17:48:02.912 +03:00 [INF] HTTP POST /api/Performance/violations responded 200 in 270.0389 ms
2026-02-05 17:48:02.914 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/violations - 200 null application/json; charset=utf-8 274.866ms
2026-02-05 17:48:11.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 17:48:11.875 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 17:48:11.876 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 17:48:12.099 +03:00 [INF] Executed DbCommand (218ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c0].[CONTRACT_ID], [c0].[BASIC_SALARY], [c0].[CONTRACT_STATUS], [c0].[CONTRACT_TYPE], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[EMPLOYEE_ID], [c0].[END_DATE], [c0].[HOUSING_ALLOWANCE], [c0].[IS_DELETED], [c0].[IS_RENEWABLE], [c0].[OTHER_ALLOWANCES], [c0].[START_DATE], [c0].[TRANSPORT_ALLOWANCE], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VACATION_DAYS], [c0].[VERSION_NO], [c0].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c0] ON [s].[EMPLOYEE_ID] = [c0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [e2].[QUALIFICATION_ID], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c0].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 17:48:12.113 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 17:48:12.118 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 239.6494ms
2026-02-05 17:48:12.121 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 17:48:12.122 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 247.4740 ms
2026-02-05 17:48:12.124 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 252.5313ms
2026-02-05 17:51:33.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/violation-types/23 - null null
2026-02-05 17:51:33.428 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypeById (HRMS.API)'
2026-02-05 17:51:33.441 +03:00 [INF] Route matched with {action = "GetViolationTypeById", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolationTypeById(Int32) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:51:33.472 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ViolationTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VIOLATION_TYPE_ID], [v].[CREATED_AT], [v].[CREATED_BY], [v].[IS_DELETED], [v].[SEVERITY_LEVEL], [v].[UPDATED_AT], [v].[UPDATED_BY], [v].[VERSION_NO], [v].[VIOLATION_NAME_AR]
FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
WHERE [v].[VIOLATION_TYPE_ID] = @__request_ViolationTypeId_0
2026-02-05 17:51:33.656 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Performance.ViolationTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 17:51:33.663 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypeById (HRMS.API) in 217.8431ms
2026-02-05 17:51:33.668 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypeById (HRMS.API)'
2026-02-05 17:51:33.670 +03:00 [INF] HTTP GET /api/Performance/config/violation-types/23 responded 400 in 242.0750 ms
2026-02-05 17:51:33.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/violation-types/23 - 400 null application/json; charset=utf-8 247.4711ms
2026-02-05 17:51:56.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/violation-types - null null
2026-02-05 17:51:56.678 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypes (HRMS.API)'
2026-02-05 17:51:56.690 +03:00 [INF] Route matched with {action = "GetViolationTypes", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolationTypes() on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:51:56.735 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VIOLATION_TYPE_ID], [v].[CREATED_AT], [v].[CREATED_BY], [v].[IS_DELETED], [v].[SEVERITY_LEVEL], [v].[UPDATED_AT], [v].[UPDATED_BY], [v].[VERSION_NO], [v].[VIOLATION_NAME_AR]
FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
ORDER BY [v].[VIOLATION_NAME_AR]
2026-02-05 17:51:56.743 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.ViolationTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 17:51:56.749 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypes (HRMS.API) in 35.7461ms
2026-02-05 17:51:56.755 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypes (HRMS.API)'
2026-02-05 17:51:56.757 +03:00 [INF] HTTP GET /api/Performance/config/violation-types responded 200 in 79.3586 ms
2026-02-05 17:51:56.759 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/violation-types - 200 null application/json; charset=utf-8 84.8258ms
2026-02-05 17:52:26.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/violation-types/1 - null null
2026-02-05 17:52:26.176 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypeById (HRMS.API)'
2026-02-05 17:52:26.178 +03:00 [INF] Route matched with {action = "GetViolationTypeById", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetViolationTypeById(Int32) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 17:52:26.182 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_ViolationTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VIOLATION_TYPE_ID], [v].[CREATED_AT], [v].[CREATED_BY], [v].[IS_DELETED], [v].[SEVERITY_LEVEL], [v].[UPDATED_AT], [v].[UPDATED_BY], [v].[VERSION_NO], [v].[VIOLATION_NAME_AR]
FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
WHERE [v].[VIOLATION_TYPE_ID] = @__request_ViolationTypeId_0
2026-02-05 17:52:26.187 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Performance.ViolationTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 17:52:26.189 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypeById (HRMS.API) in 9.0171ms
2026-02-05 17:52:26.191 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetViolationTypeById (HRMS.API)'
2026-02-05 17:52:26.193 +03:00 [INF] HTTP GET /api/Performance/config/violation-types/1 responded 200 in 16.9329 ms
2026-02-05 17:52:26.195 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/violation-types/1 - 200 null application/json; charset=utf-8 21.4625ms
2026-02-05 18:23:28.206 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-05 18:23:28.216 +03:00 [INF] CORS policy execution successful.
2026-02-05 18:23:28.218 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 18:23:28.219 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 18:23:28.249 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-05 18:23:28.258 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 18:23:28.269 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 18:23:28.281 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.287 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.299 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 18:23:28.309 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 18:23:28.317 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.329 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.347 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 18:23:28.352 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 18:23:28.359 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.366 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 18:23:28.373 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 18:23:28.384 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:23:28.410 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-05 18:23:28.431 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 18:23:28.441 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 18:23:28.444 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 220.8686ms
2026-02-05 18:23:28.446 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 18:23:28.449 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 232.9601 ms
2026-02-05 18:23:28.451 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 245.2454ms
2026-02-05 18:24:05.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 18:24:05.742 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 18:24:05.799 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 18:24:05.826 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 18:24:05.886 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 18:24:05.928 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 18:24:05.948 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 18:24:05.972 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 167.9805ms
2026-02-05 18:24:05.975 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 18:24:05.977 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 236.1230 ms
2026-02-05 18:24:05.981 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 249.2635ms
2026-02-05 18:26:02.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 18:26:02.651 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 18:26:02.652 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 18:26:02.999 +03:00 [INF] Executed DbCommand (339ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c0].[CONTRACT_ID], [c0].[BASIC_SALARY], [c0].[CONTRACT_STATUS], [c0].[CONTRACT_TYPE], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[EMPLOYEE_ID], [c0].[END_DATE], [c0].[HOUSING_ALLOWANCE], [c0].[IS_DELETED], [c0].[IS_RENEWABLE], [c0].[OTHER_ALLOWANCES], [c0].[START_DATE], [c0].[TRANSPORT_ALLOWANCE], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VACATION_DAYS], [c0].[VERSION_NO], [c0].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c0] ON [s].[EMPLOYEE_ID] = [c0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [e2].[QUALIFICATION_ID], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c0].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 18:26:03.031 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 18:26:03.040 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 383.9888ms
2026-02-05 18:26:03.045 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 18:26:03.047 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 397.2552 ms
2026-02-05 18:26:03.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 404.1479ms
2026-02-05 18:28:00.901 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 46
2026-02-05 18:28:00.964 +03:00 [INF] CORS policy execution successful.
2026-02-05 18:28:00.971 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-05 18:28:00.995 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-05 18:28:09.845 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 8847.1345ms
2026-02-05 18:28:10.393 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-05 18:28:10.444 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- TargetDate:      Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- TargetDate:      Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 32
   at HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance(ProcessAttendanceCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Attendance\AttendanceSettingsController.cs:line 83
   at lambda_method2824(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-05 18:28:10.474 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 400 in 9509.6339 ms
2026-02-05 18:28:10.492 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 400 null application/json 9591.7067ms
2026-02-05 18:28:18.938 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 46
2026-02-05 18:28:19.030 +03:00 [INF] CORS policy execution successful.
2026-02-05 18:28:19.084 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-05 18:28:19.099 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-05 18:28:19.210 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[STATUS], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0 AND [e].[IS_OFF_DAY] = CAST(0 AS tinyint) AND [e].[SHIFT_ID] IS NOT NULL
2026-02-05 18:28:19.637 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE CONVERT(date, [r].[PUNCH_TIME]) = @__targetDate_0
ORDER BY [r].[PUNCH_TIME]
2026-02-05 18:28:19.676 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__roster_EmployeeId_0='?' (DbType = Int32), @__8__locals1_targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PERMISSION_REQUEST_ID], [p].[APPROVED_AT], [p].[APPROVED_BY], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[HOURS], [p].[IS_DELETED], [p].[PERMISSION_DATE], [p].[PERMISSION_TYPE], [p].[REASON], [p].[REJECTION_REASON], [p].[STATUS], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_ATTENDANCE].[PERMISSION_REQUESTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__roster_EmployeeId_0 AND [p].[PERMISSION_DATE] = @__8__locals1_targetDate_1 AND [p].[STATUS] = N'Approved'
2026-02-05 18:28:19.713 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__roster_EmployeeId_0='?' (DbType = Int32), @__8__locals1_targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__roster_EmployeeId_0 AND [d].[ATTENDANCE_DATE] = @__8__locals1_targetDate_1
2026-02-05 18:28:19.967 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int16), @p6='?' (DbType = Int32), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int16), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[DAILY_ATTENDANCE] ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RECORD_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-05 18:28:19.995 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 18:28:20.006 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-02-05 18:28:20.013 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 905.7804ms
2026-02-05 18:28:20.055 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-05 18:28:20.057 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 1026.6267 ms
2026-02-05 18:28:20.059 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 1120.9195ms
2026-02-05 18:28:29.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 18:28:29.182 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 18:28:29.183 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 18:28:29.375 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c0].[CONTRACT_ID], [c0].[BASIC_SALARY], [c0].[CONTRACT_STATUS], [c0].[CONTRACT_TYPE], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[EMPLOYEE_ID], [c0].[END_DATE], [c0].[HOUSING_ALLOWANCE], [c0].[IS_DELETED], [c0].[IS_RENEWABLE], [c0].[OTHER_ALLOWANCES], [c0].[START_DATE], [c0].[TRANSPORT_ALLOWANCE], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VACATION_DAYS], [c0].[VERSION_NO], [c0].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c0] ON [s].[EMPLOYEE_ID] = [c0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [e2].[QUALIFICATION_ID], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c0].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 18:28:29.413 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 18:28:29.424 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 156.3513ms
2026-02-05 18:28:29.437 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 18:28:29.447 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 266.1822 ms
2026-02-05 18:28:29.451 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 274.7731ms
2026-02-05 18:42:03.993 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 18:42:08.427 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 18:42:12.844 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 18:42:12.861 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 18:42:12.865 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 18:42:12.872 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 18:42:15.298 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 18:42:15.556 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 18:42:15.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 18:42:15.608 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 18:42:15.815 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 18:42:15.836 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 18:42:16.438 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 18:42:16.673 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 18:42:17.816 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 18:42:18.143 +03:00 [INF] Hosting environment: Development
2026-02-05 18:42:18.145 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 18:42:18.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 18:42:20.789 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1057.3769 ms
2026-02-05 18:42:20.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2106.8187ms
2026-02-05 18:42:20.904 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 18:42:21.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 710.2444ms
2026-02-05 18:42:21.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 18:42:21.987 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 254.8506ms
2026-02-05 18:42:23.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 18:42:25.140 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 996.7285 ms
2026-02-05 18:42:25.146 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1294.9714ms
2026-02-05 18:42:42.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 18:42:42.677 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 18:42:42.757 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 18:42:43.643 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-05 18:42:44.497 +03:00 [INF] Executed DbCommand (203ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 18:42:44.806 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 18:42:45.025 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 2235.4654ms
2026-02-05 18:42:45.066 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 18:42:45.069 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 2406.1882 ms
2026-02-05 18:42:45.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 2863.1037ms
2026-02-05 21:26:49.574 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 342
2026-02-05 21:26:49.592 +03:00 [INF] CORS policy execution successful.
2026-02-05 21:26:49.596 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 21:26:49.618 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 21:26:50.234 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 21:26:50.390 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0
2026-02-05 21:26:50.856 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 20), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 1) (DbType = Byte), @p18='?' (Size = 1) (DbType = Byte), @p19='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p20='?' (DbType = DateTime2), @p21='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int16), @p25='?' (DbType = Int32), @p26='?' (Size = 1) (DbType = Byte), @p31='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p29='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p30='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p32='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO [HR_PERSONNEL].[CONTRACTS] ([BASIC_SALARY], [CONTRACT_STATUS], [CONTRACT_TYPE], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [END_DATE], [HOUSING_ALLOWANCE], [IS_DELETED], [IS_RENEWABLE], [OTHER_ALLOWANCES], [START_DATE], [TRANSPORT_ALLOWANCE], [UPDATED_AT], [UPDATED_BY], [VACATION_DAYS], [VERSION_NO], [WORKING_HOURS_DAILY])
OUTPUT INSERTED.[CONTRACT_ID]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [BASIC_SALARY] = @p27, [HOUSING_ALLOWANCE] = @p28, [OTHER_ALLOWANCES] = @p29, [TRANSPORT_ALLOWANCE] = @p30
OUTPUT 1
WHERE [COMPENSATION_ID] = @p31 AND [VERSION_NO] = @p32;
2026-02-05 21:26:51.000 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 21:26:51.012 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 21:26:51.018 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 1396.4709ms
2026-02-05 21:26:51.023 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 21:26:51.027 +03:00 [INF] HTTP POST /api/employee-profile/23/contracts responded 200 in 1438.3178 ms
2026-02-05 21:26:51.033 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 200 null application/json; charset=utf-8 1458.3759ms
2026-02-05 21:27:05.015 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 342
2026-02-05 21:27:05.250 +03:00 [INF] CORS policy execution successful.
2026-02-05 21:27:05.260 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 21:27:05.268 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 21:27:05.284 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 21:27:05.297 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0
2026-02-05 21:27:05.317 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 20), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = DateTime2), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int16), @p16='?' (DbType = Int32), @p17='?' (Size = 1) (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERSONNEL].[CONTRACTS] ([BASIC_SALARY], [CONTRACT_STATUS], [CONTRACT_TYPE], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [END_DATE], [HOUSING_ALLOWANCE], [IS_DELETED], [IS_RENEWABLE], [OTHER_ALLOWANCES], [START_DATE], [TRANSPORT_ALLOWANCE], [UPDATED_AT], [UPDATED_BY], [VACATION_DAYS], [VERSION_NO], [WORKING_HOURS_DAILY])
OUTPUT INSERTED.[CONTRACT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2026-02-05 21:27:05.330 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 21:27:05.342 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 21:27:05.347 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 75.1243ms
2026-02-05 21:27:05.357 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 21:27:05.360 +03:00 [INF] HTTP POST /api/employee-profile/23/contracts responded 200 in 110.4703 ms
2026-02-05 21:27:05.362 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 200 null application/json; charset=utf-8 347.6005ms
2026-02-05 21:27:19.090 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 21:27:19.094 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 21:27:19.096 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 21:27:19.214 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 21:27:19.246 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 21:27:19.257 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 157.0591ms
2026-02-05 21:27:19.259 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 21:27:19.261 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 166.7822 ms
2026-02-05 21:27:19.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 173.5075ms
2026-02-05 21:34:55.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 21:34:55.273 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.2656 ms
2026-02-05 21:34:55.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 32.9962ms
2026-02-05 21:34:55.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 21:34:55.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 21:34:55.339 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 24.3137ms
2026-02-05 21:34:55.379 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.4264ms
2026-02-05 21:34:58.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 21:34:59.877 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 590.6718 ms
2026-02-05 21:34:59.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1496.651ms
2026-02-05 21:37:21.451 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 332
2026-02-05 21:37:21.504 +03:00 [INF] CORS policy execution successful.
2026-02-05 21:37:21.507 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 21:37:21.525 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 21:37:21.572 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 21:37:21.583 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0
2026-02-05 21:37:21.607 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 20), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 1) (DbType = Byte), @p18='?' (Size = 1) (DbType = Byte), @p19='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p20='?' (DbType = DateTime2), @p21='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int16), @p25='?' (DbType = Int32), @p26='?' (Size = 1) (DbType = Byte), @p31='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p29='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p30='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p32='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO [HR_PERSONNEL].[CONTRACTS] ([BASIC_SALARY], [CONTRACT_STATUS], [CONTRACT_TYPE], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [END_DATE], [HOUSING_ALLOWANCE], [IS_DELETED], [IS_RENEWABLE], [OTHER_ALLOWANCES], [START_DATE], [TRANSPORT_ALLOWANCE], [UPDATED_AT], [UPDATED_BY], [VACATION_DAYS], [VERSION_NO], [WORKING_HOURS_DAILY])
OUTPUT INSERTED.[CONTRACT_ID]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [BASIC_SALARY] = @p27, [HOUSING_ALLOWANCE] = @p28, [OTHER_ALLOWANCES] = @p29, [TRANSPORT_ALLOWANCE] = @p30
OUTPUT 1
WHERE [COMPENSATION_ID] = @p31 AND [VERSION_NO] = @p32;
2026-02-05 21:37:21.628 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 21:37:21.633 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 21:37:21.641 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 112.612ms
2026-02-05 21:37:21.645 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 21:37:21.646 +03:00 [INF] HTTP POST /api/employee-profile/23/contracts responded 200 in 142.5192 ms
2026-02-05 21:37:21.649 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 200 null application/json; charset=utf-8 197.8142ms
2026-02-05 21:38:42.719 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 21:38:45.148 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 21:38:49.659 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 21:38:49.858 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 21:38:49.897 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 21:38:49.900 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 21:38:52.165 +03:00 [INF] Executed DbCommand (120ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 21:38:52.492 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 21:38:52.608 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 21:38:52.764 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 21:38:53.012 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 21:38:53.022 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 21:38:53.657 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 21:38:53.699 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 21:38:54.201 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 21:38:55.066 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 21:38:55.075 +03:00 [INF] Hosting environment: Development
2026-02-05 21:38:55.090 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 21:38:56.723 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 890.0666 ms
2026-02-05 21:38:57.854 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 21:38:57.856 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 21:38:57.952 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2898.6832ms
2026-02-05 21:38:57.955 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 101.0044ms
2026-02-05 21:38:58.146 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 289.9747ms
2026-02-05 21:38:59.364 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 21:39:00.644 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 885.3989 ms
2026-02-05 21:39:00.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1287.1978ms
2026-02-05 21:39:47.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 21:39:47.283 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 21:39:47.382 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 21:39:48.596 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-05 21:39:49.681 +03:00 [INF] Executed DbCommand (354ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 21:39:50.194 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 21:39:50.651 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 3230.3165ms
2026-02-05 21:39:50.720 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 21:39:50.722 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 3457.9492 ms
2026-02-05 21:39:50.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 3593.3554ms
2026-02-05 21:40:49.028 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 332
2026-02-05 21:40:49.042 +03:00 [INF] CORS policy execution successful.
2026-02-05 21:40:49.045 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 21:40:49.064 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 21:40:49.748 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 21:40:49.781 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
        WHERE [c].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0 AND [c].[CONTRACT_STATUS] = N'ACTIVE') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 21:41:00.926 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 11856.2122ms
2026-02-05 21:41:00.931 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 21:41:01.139 +03:00 [ERR] CRITICAL ERROR CAUGHT:     .   23    .     .
System.InvalidOperationException:     .   23    .     .
   at HRMS.Application.Features.Personnel.Contracts.Commands.CreateContract.CreateContractCommandHandler.Handle(CreateContractCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Personnel\Contracts\Commands\CreateContract\CreateContractCommand.cs:line 38
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract(Int32 employeeId, CreateContractDto dto) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Personnel\EmployeeProfileController.cs:line 350
   at lambda_method799(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-05 21:41:01.274 +03:00 [ERR] HTTP POST /api/employee-profile/23/contracts responded 500 in 12233.1744 ms
2026-02-05 21:41:01.313 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 500 null application/json 12285.5041ms
2026-02-05 21:54:01.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 21:54:01.757 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 21:54:01.759 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 21:54:02.277 +03:00 [INF] Executed DbCommand (492ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 21:54:02.313 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 21:54:02.320 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 558.2481ms
2026-02-05 21:54:02.326 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 21:54:02.328 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 571.5808 ms
2026-02-05 21:54:02.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 583.9293ms
2026-02-05 21:59:34.786 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 21:59:38.121 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 21:59:41.582 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 21:59:42.313 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 21:59:42.352 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 21:59:42.378 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 21:59:44.535 +03:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 21:59:44.747 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 21:59:44.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 21:59:44.856 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 21:59:44.981 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 21:59:44.992 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 21:59:45.587 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 21:59:45.595 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 21:59:45.840 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 21:59:45.842 +03:00 [INF] Hosting environment: Development
2026-02-05 21:59:45.844 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 21:59:47.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 21:59:47.897 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 427.8149 ms
2026-02-05 21:59:47.965 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 814.0224ms
2026-02-05 21:59:48.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 21:59:48.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 21:59:48.977 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 20.709ms
2026-02-05 21:59:49.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 318.3074ms
2026-02-05 21:59:50.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 21:59:52.963 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 494.3841 ms
2026-02-05 21:59:52.970 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2299.3158ms
2026-02-05 22:00:12.075 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 22:00:12.099 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:00:12.159 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:00:12.871 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-05 22:00:13.338 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 22:00:13.509 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:00:13.672 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 1493.9007ms
2026-02-05 22:00:13.676 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:00:13.677 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 1591.8558 ms
2026-02-05 22:00:13.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 1614.0691ms
2026-02-05 22:01:42.834 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 334
2026-02-05 22:01:42.895 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:01:42.899 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:01:42.934 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:01:43.663 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0
2026-02-05 22:01:44.253 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:01:44.264 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 1326.4833ms
2026-02-05 22:01:44.267 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:01:44.269 +03:00 [INF] HTTP POST /api/employee-profile/23/contracts responded 400 in 1376.3685 ms
2026-02-05 22:01:44.272 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 400 null application/json; charset=utf-8 1438.7534ms
2026-02-05 22:02:32.305 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 332
2026-02-05 22:02:32.310 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:02:32.315 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:02:32.317 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:02:32.338 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0
2026-02-05 22:02:32.346 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:02:32.348 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 27.359ms
2026-02-05 22:02:32.351 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:02:32.354 +03:00 [INF] HTTP POST /api/employee-profile/23/contracts responded 400 in 43.9565 ms
2026-02-05 22:02:32.362 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 400 null application/json; charset=utf-8 56.4418ms
2026-02-05 22:03:09.382 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 332
2026-02-05 22:03:09.394 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:03:09.395 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:03:09.397 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:03:09.452 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0
2026-02-05 22:03:09.495 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:03:09.502 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 100.2835ms
2026-02-05 22:03:09.506 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:03:09.509 +03:00 [INF] HTTP POST /api/employee-profile/23/contracts responded 400 in 115.0420 ms
2026-02-05 22:03:09.513 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 400 null application/json; charset=utf-8 131.7054ms
2026-02-05 22:03:40.440 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 331
2026-02-05 22:03:40.446 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:03:40.447 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:03:40.448 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:03:40.468 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0
2026-02-05 22:03:40.567 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:03:40.570 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 118.1627ms
2026-02-05 22:03:40.572 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:03:40.573 +03:00 [INF] HTTP POST /api/employee-profile/23/contracts responded 400 in 127.5534 ms
2026-02-05 22:03:40.577 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 400 null application/json; charset=utf-8 136.7401ms
2026-02-05 22:05:34.516 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - application/json 333
2026-02-05 22:05:34.541 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:05:34.543 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:05:34.546 +03:00 [INF] Route matched with {action = "AddContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AddContract(Int32, HRMS.Application.DTOs.Personnel.CreateContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:05:34.594 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0
2026-02-05 22:05:34.668 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_Data_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
        WHERE [c].[EMPLOYEE_ID] = @__request_Data_EmployeeId_0 AND [c].[CONTRACT_STATUS] = N'ACTIVE') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 22:05:34.676 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:05:34.683 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API) in 131.6272ms
2026-02-05 22:05:34.693 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.AddContract (HRMS.API)'
2026-02-05 22:05:34.704 +03:00 [INF] HTTP POST /api/employee-profile/23/contracts responded 400 in 164.0337 ms
2026-02-05 22:05:34.710 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/employee-profile/23/contracts - 400 null application/json; charset=utf-8 194.0088ms
2026-02-05 22:18:02.154 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 22:18:05.292 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 22:18:08.279 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 22:18:08.306 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 22:18:08.333 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 22:18:08.342 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 22:18:11.128 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 22:18:11.380 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 22:18:11.386 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 22:18:11.433 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 22:18:11.569 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 22:18:11.580 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 22:18:12.118 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 22:18:12.120 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 22:18:12.345 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 22:18:12.353 +03:00 [INF] Hosting environment: Development
2026-02-05 22:18:12.354 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 22:18:13.613 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 22:18:14.447 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 344.9722 ms
2026-02-05 22:18:14.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 22:18:14.567 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 970.7405ms
2026-02-05 22:18:14.573 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 71.2861ms
2026-02-05 22:18:15.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 22:18:16.008 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 608.0008ms
2026-02-05 22:18:17.145 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 22:18:17.960 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 809.4514 ms
2026-02-05 22:18:17.965 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 819.9854ms
2026-02-05 22:19:57.438 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - application/json 271
2026-02-05 22:19:57.493 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:19:57.532 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-05 22:19:57.592 +03:00 [INF] Route matched with {action = "RenewContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RenewContract(Int32, HRMS.Application.DTOs.Personnel.RenewContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:19:58.155 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__request_Data_ContractId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [c].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [c].[CONTRACT_ID] = @__request_Data_ContractId_0
2026-02-05 22:19:58.723 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:19:58.744 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API) in 1141.2788ms
2026-02-05 22:19:58.748 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-05 22:19:58.751 +03:00 [INF] HTTP PUT /api/employee-profile/23/contracts/renew responded 400 in 1276.4059 ms
2026-02-05 22:19:58.764 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - 400 null application/json; charset=utf-8 1327.0103ms
2026-02-05 22:20:11.908 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - application/json 270
2026-02-05 22:20:11.923 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:20:11.926 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-05 22:20:11.928 +03:00 [INF] Route matched with {action = "RenewContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RenewContract(Int32, HRMS.Application.DTOs.Personnel.RenewContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:20:12.027 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_Data_ContractId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [c].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [c].[CONTRACT_ID] = @__request_Data_ContractId_0
2026-02-05 22:20:12.119 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
WHERE [c].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0 AND [c].[CONTRACT_STATUS] = N'ACTIVE'
2026-02-05 22:20:12.298 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0
2026-02-05 22:20:12.427 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-05 22:20:12.540 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32), @__basicSalaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0 AND [e].[ELEMENT_ID] = @__basicSalaryElement_ElementId_1
2026-02-05 22:20:13.281 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:20:13.347 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p29='?' (DbType = Int32), @p27='?' (Size = 20), @p28='?' (DbType = DateTime2), @p30='?' (DbType = Int32), @p31='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p32='?' (Size = 20), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Size = 1) (DbType = Byte), @p40='?' (Size = 1) (DbType = Byte), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = DateTime2), @p43='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p44='?' (DbType = DateTime2), @p45='?' (Size = 50), @p46='?' (DbType = Int16), @p47='?' (DbType = Int32), @p48='?' (Size = 1) (DbType = Byte), @p49='?' (DbType = Int32), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (Size = 1) (DbType = Byte), @p53='?' (DbType = DateTime2), @p54='?' (DbType = DateTime2), @p55='?' (Size = 500), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int32), @p65='?' (DbType = Int32), @p61='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p62='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p63='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p64='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p66='?' (DbType = Int32), @p68='?' (DbType = Int32), @p67='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
UPDATE [HR_PERSONNEL].[CONTRACTS] SET [CONTRACT_STATUS] = @p27, [END_DATE] = @p28
OUTPUT 1
WHERE [CONTRACT_ID] = @p29 AND [VERSION_NO] = @p30;
INSERT INTO [HR_PERSONNEL].[CONTRACTS] ([BASIC_SALARY], [CONTRACT_STATUS], [CONTRACT_TYPE], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [END_DATE], [HOUSING_ALLOWANCE], [IS_DELETED], [IS_RENEWABLE], [OTHER_ALLOWANCES], [START_DATE], [TRANSPORT_ALLOWANCE], [UPDATED_AT], [UPDATED_BY], [VACATION_DAYS], [VERSION_NO], [WORKING_HOURS_DAILY])
OUTPUT INSERTED.[CONTRACT_ID]
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48);
INSERT INTO [HR_PERSONNEL].[CONTRACT_RENEWALS] ([CONTRACT_ID], [CREATED_AT], [CREATED_BY], [IS_DELETED], [NEW_END_DATE], [NEW_START_DATE], [NOTES], [OLD_END_DATE], [RENEWAL_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RENEWAL_ID]
VALUES (@p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60);
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [BASIC_SALARY] = @p61, [HOUSING_ALLOWANCE] = @p62, [OTHER_ALLOWANCES] = @p63, [TRANSPORT_ALLOWANCE] = @p64
OUTPUT 1
WHERE [COMPENSATION_ID] = @p65 AND [VERSION_NO] = @p66;
UPDATE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] SET [Amount] = @p67
OUTPUT 1
WHERE [StructureId] = @p68 AND [VERSION_NO] = @p69;
2026-02-05 22:20:13.484 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:20:13.512 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 22:20:13.557 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:20:13.560 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API) in 1627.8935ms
2026-02-05 22:20:13.562 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-05 22:20:13.565 +03:00 [INF] HTTP PUT /api/employee-profile/23/contracts/renew responded 200 in 1642.9482 ms
2026-02-05 22:20:13.568 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - 200 null application/json; charset=utf-8 1659.7829ms
2026-02-05 22:20:31.443 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 22:20:31.461 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:20:31.478 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:20:31.786 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-05 22:20:32.325 +03:00 [INF] Executed DbCommand (235ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 22:20:32.457 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:20:32.559 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 1075.7967ms
2026-02-05 22:20:32.562 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:20:32.564 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 1103.0649 ms
2026-02-05 22:20:32.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 1123.5776ms
2026-02-05 22:31:17.614 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - application/json 270
2026-02-05 22:31:17.621 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:31:17.623 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-05 22:31:17.624 +03:00 [INF] Route matched with {action = "RenewContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RenewContract(Int32, HRMS.Application.DTOs.Personnel.RenewContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:31:17.696 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_Data_ContractId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [c].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [c].[CONTRACT_ID] = @__request_Data_ContractId_0
2026-02-05 22:31:17.711 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
WHERE [c].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0 AND [c].[CONTRACT_STATUS] = N'ACTIVE'
2026-02-05 22:31:17.723 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0
2026-02-05 22:31:17.731 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-05 22:31:17.742 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32), @__basicSalaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0 AND [e].[ELEMENT_ID] = @__basicSalaryElement_ElementId_1
2026-02-05 22:31:17.750 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:31:17.770 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p11='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p14='?' (Size = 20), @p15='?' (Size = 50), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Size = 1) (DbType = Byte), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = DateTime2), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (DbType = DateTime2), @p27='?' (Size = 50), @p28='?' (DbType = Int16), @p29='?' (DbType = Int32), @p30='?' (Size = 1) (DbType = Byte), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2), @p33='?' (Size = 50), @p34='?' (Size = 1) (DbType = Byte), @p35='?' (DbType = DateTime2), @p36='?' (DbType = DateTime2), @p37='?' (Size = 500), @p38='?' (DbType = DateTime2), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [HR_PERSONNEL].[CONTRACTS] SET [CONTRACT_STATUS] = @p9, [END_DATE] = @p10
OUTPUT 1
WHERE [CONTRACT_ID] = @p11 AND [VERSION_NO] = @p12;
INSERT INTO [HR_PERSONNEL].[CONTRACTS] ([BASIC_SALARY], [CONTRACT_STATUS], [CONTRACT_TYPE], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [END_DATE], [HOUSING_ALLOWANCE], [IS_DELETED], [IS_RENEWABLE], [OTHER_ALLOWANCES], [START_DATE], [TRANSPORT_ALLOWANCE], [UPDATED_AT], [UPDATED_BY], [VACATION_DAYS], [VERSION_NO], [WORKING_HOURS_DAILY])
OUTPUT INSERTED.[CONTRACT_ID]
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO [HR_PERSONNEL].[CONTRACT_RENEWALS] ([CONTRACT_ID], [CREATED_AT], [CREATED_BY], [IS_DELETED], [NEW_END_DATE], [NEW_START_DATE], [NOTES], [OLD_END_DATE], [RENEWAL_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RENEWAL_ID]
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
2026-02-05 22:31:17.780 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:31:17.791 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 22:31:17.800 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:31:17.802 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API) in 174.8765ms
2026-02-05 22:31:17.804 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-05 22:31:17.806 +03:00 [INF] HTTP PUT /api/employee-profile/23/contracts/renew responded 200 in 184.8639 ms
2026-02-05 22:31:17.809 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - 200 null application/json; charset=utf-8 194.8539ms
2026-02-05 22:32:49.866 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 22:32:49.871 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:32:49.872 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:32:50.019 +03:00 [INF] Executed DbCommand (133ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 22:32:50.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:32:50.056 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 173.5115ms
2026-02-05 22:32:50.060 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:32:50.062 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 190.8799 ms
2026-02-05 22:32:50.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 198.119ms
2026-02-05 22:34:02.308 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - application/json 270
2026-02-05 22:34:02.313 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:34:02.314 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-05 22:34:02.316 +03:00 [INF] Route matched with {action = "RenewContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RenewContract(Int32, HRMS.Application.DTOs.Personnel.RenewContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:34:02.340 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_Data_ContractId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [c].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [c].[CONTRACT_ID] = @__request_Data_ContractId_0
2026-02-05 22:34:02.395 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
WHERE [c].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0 AND [c].[CONTRACT_STATUS] = N'ACTIVE'
2026-02-05 22:34:02.408 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0
2026-02-05 22:34:02.415 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-05 22:34:02.423 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_employee_EmployeeId_0='?' (DbType = Int32), @__basicSalaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employee_EmployeeId_0 AND [e].[ELEMENT_ID] = @__basicSalaryElement_ElementId_1
2026-02-05 22:34:02.434 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:34:02.469 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p29='?' (DbType = Int32), @p27='?' (Size = 20), @p28='?' (DbType = DateTime2), @p30='?' (DbType = Int32), @p31='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p32='?' (Size = 20), @p33='?' (Size = 50), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Size = 1) (DbType = Byte), @p40='?' (Size = 1) (DbType = Byte), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = DateTime2), @p43='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p44='?' (DbType = DateTime2), @p45='?' (Size = 50), @p46='?' (DbType = Int16), @p47='?' (DbType = Int32), @p48='?' (Size = 1) (DbType = Byte), @p49='?' (DbType = Int32), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (Size = 1) (DbType = Byte), @p53='?' (DbType = DateTime2), @p54='?' (DbType = DateTime2), @p55='?' (Size = 500), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int32), @p62='?' (DbType = Int32), @p61='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p63='?' (DbType = Int32), @p65='?' (DbType = Int32), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p66='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
UPDATE [HR_PERSONNEL].[CONTRACTS] SET [CONTRACT_STATUS] = @p27, [END_DATE] = @p28
OUTPUT 1
WHERE [CONTRACT_ID] = @p29 AND [VERSION_NO] = @p30;
INSERT INTO [HR_PERSONNEL].[CONTRACTS] ([BASIC_SALARY], [CONTRACT_STATUS], [CONTRACT_TYPE], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [END_DATE], [HOUSING_ALLOWANCE], [IS_DELETED], [IS_RENEWABLE], [OTHER_ALLOWANCES], [START_DATE], [TRANSPORT_ALLOWANCE], [UPDATED_AT], [UPDATED_BY], [VACATION_DAYS], [VERSION_NO], [WORKING_HOURS_DAILY])
OUTPUT INSERTED.[CONTRACT_ID]
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48);
INSERT INTO [HR_PERSONNEL].[CONTRACT_RENEWALS] ([CONTRACT_ID], [CREATED_AT], [CREATED_BY], [IS_DELETED], [NEW_END_DATE], [NEW_START_DATE], [NOTES], [OLD_END_DATE], [RENEWAL_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RENEWAL_ID]
VALUES (@p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60);
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [BASIC_SALARY] = @p61
OUTPUT 1
WHERE [COMPENSATION_ID] = @p62 AND [VERSION_NO] = @p63;
UPDATE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] SET [Amount] = @p64
OUTPUT 1
WHERE [StructureId] = @p65 AND [VERSION_NO] = @p66;
2026-02-05 22:34:02.481 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:34:02.494 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 22:34:02.501 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:34:02.503 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API) in 183.6694ms
2026-02-05 22:34:02.505 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-05 22:34:02.508 +03:00 [INF] HTTP PUT /api/employee-profile/23/contracts/renew responded 200 in 193.9792 ms
2026-02-05 22:34:02.511 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - 200 null application/json; charset=utf-8 203.4104ms
2026-02-05 22:35:02.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 22:35:02.948 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:35:02.949 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:35:03.080 +03:00 [INF] Executed DbCommand (125ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 22:35:03.119 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:35:03.122 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 169.477ms
2026-02-05 22:35:03.130 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:35:03.132 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 184.7469 ms
2026-02-05 22:35:03.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 191.4685ms
2026-02-05 22:41:05.853 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 22:41:05.858 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:41:05.860 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:41:06.008 +03:00 [INF] Executed DbCommand (142ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 22:41:06.042 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:41:06.070 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 206.0995ms
2026-02-05 22:41:06.072 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:41:06.074 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 216.6000 ms
2026-02-05 22:41:06.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 223.7823ms
2026-02-05 22:45:16.397 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 22:45:16.501 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 5.8047 ms
2026-02-05 22:45:16.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 22:45:16.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 22:45:17.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 951.729ms
2026-02-05 22:45:17.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 735.0942ms
2026-02-05 22:45:17.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 843.8785ms
2026-02-05 22:45:18.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 22:45:20.943 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 595.5691 ms
2026-02-05 22:45:20.953 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2034.2954ms
2026-02-05 22:45:35.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 22:45:35.947 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:45:35.962 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:45:36.088 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 22:45:36.119 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:45:36.171 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 205.213ms
2026-02-05 22:45:36.174 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:45:36.177 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 231.1434 ms
2026-02-05 22:45:36.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 243.4841ms
2026-02-05 22:47:00.400 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 22:47:03.989 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 22:47:08.835 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 22:47:08.853 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 22:47:08.855 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 22:47:08.857 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 22:47:12.598 +03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 22:47:12.956 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 22:47:12.970 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 22:47:13.282 +03:00 [INF] Executed DbCommand (258ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 22:47:13.525 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 22:47:13.537 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 22:47:14.237 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 22:47:14.238 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 22:47:14.546 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 22:47:14.548 +03:00 [INF] Hosting environment: Development
2026-02-05 22:47:14.549 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 22:47:16.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 22:47:18.367 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 463.6042 ms
2026-02-05 22:47:19.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 22:47:19.532 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 22:47:20.023 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 3649.7956ms
2026-02-05 22:47:20.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 513.4471ms
2026-02-05 22:47:20.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 844.515ms
2026-02-05 22:47:21.812 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 22:47:23.039 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1182.5195 ms
2026-02-05 22:47:23.059 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1247.5013ms
2026-02-05 22:47:47.933 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 22:47:47.994 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:47:48.173 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:47:49.163 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-05 22:47:50.022 +03:00 [INF] Executed DbCommand (301ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 22:47:50.241 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:47:50.471 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 2276.0016ms
2026-02-05 22:47:50.485 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:47:50.489 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 2540.7035 ms
2026-02-05 22:47:50.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 2568.6354ms
2026-02-05 22:49:03.807 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 22:49:03.884 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 11.2168 ms
2026-02-05 22:49:03.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 22:49:03.948 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 22:49:04.951 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 1143.2938ms
2026-02-05 22:49:04.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1024.0281ms
2026-02-05 22:49:09.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5162.5629ms
2026-02-05 22:49:09.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 22:49:10.480 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 811.8375 ms
2026-02-05 22:49:10.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1371.7715ms
2026-02-05 22:49:21.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 22:49:21.391 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:49:21.418 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 22:49:21.760 +03:00 [INF] Executed DbCommand (236ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 22:49:21.833 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:49:22.072 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 642.4967ms
2026-02-05 22:49:22.103 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 22:49:22.105 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 714.5882 ms
2026-02-05 22:49:22.109 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 779.468ms
2026-02-05 22:54:18.703 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - application/json 193
2026-02-05 22:54:18.771 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:54:18.783 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-02-05 22:54:18.795 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-05 22:54:18.797 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 401 in 28.0100 ms
2026-02-05 22:54:18.803 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - 401 0 null 99.9265ms
2026-02-05 22:54:50.236 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 74
2026-02-05 22:54:50.241 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:54:50.243 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-05 22:54:50.261 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Auth.AuthResponse]]] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-02-05 22:54:50.414 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 22:54:50.724 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 22:54:50.756 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 22:54:51.633 +03:00 [INF] Executed DbCommand (140ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-05 22:54:51.767 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:54:51.773 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 1507.6093ms
2026-02-05 22:54:51.775 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-05 22:54:51.798 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 1557.3363 ms
2026-02-05 22:54:51.803 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 401 null application/json; charset=utf-8 1568.3164ms
2026-02-05 22:55:16.747 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 74
2026-02-05 22:55:17.122 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:55:17.124 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-05 22:55:17.126 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Auth.AuthResponse]]] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-02-05 22:55:17.186 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 22:55:17.459 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 22:55:17.477 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 22:55:17.513 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-05 22:55:17.533 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 22:55:17.539 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 22:55:17.549 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-05 22:55:17.610 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-05 22:55:17.677 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-05 22:55:17.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 22:55:17.693 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-05 22:55:17.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 22:55:17.708 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 575.2502ms
2026-02-05 22:55:17.713 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-05 22:55:17.716 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 593.8492 ms
2026-02-05 22:55:17.719 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 971.6283ms
2026-02-05 22:55:56.557 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - application/json 193
2026-02-05 22:55:56.595 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:55:56.776 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 22:55:56.827 +03:00 [INF] Route matched with {action = "CreateViolationType", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateViolationType(HRMS.Application.Features.Performance.ViolationTypes.Commands.Create.CreateViolationTypeCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 22:56:09.490 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API) in 12577.8294ms
2026-02-05 22:56:10.013 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 22:56:10.101 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- Severity:       : LOW, MEDIUM, HIGH, CRITICAL Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- Severity:       : LOW, MEDIUM, HIGH, CRITICAL Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType(CreateViolationTypeCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Performance\PerformanceController.cs:line 87
   at lambda_method1041(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-05 22:56:10.221 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 400 in 13625.9102 ms
2026-02-05 22:56:10.223 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - 400 null application/json 13666.9927ms
2026-02-05 22:56:20.936 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - application/json 193
2026-02-05 22:56:21.021 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:56:21.024 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 22:56:21.027 +03:00 [INF] Route matched with {action = "CreateViolationType", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateViolationType(HRMS.Application.Features.Performance.ViolationTypes.Commands.Create.CreateViolationTypeCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 22:56:35.248 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API) in 14217.4584ms
2026-02-05 22:56:35.281 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 22:56:35.387 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- Severity:       : LOW, MEDIUM, HIGH, CRITICAL Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- Severity:       : LOW, MEDIUM, HIGH, CRITICAL Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType(CreateViolationTypeCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Performance\PerformanceController.cs:line 87
   at lambda_method1041(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-05 22:56:35.413 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 400 in 14392.1061 ms
2026-02-05 22:56:35.416 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - 400 null application/json 14479.4931ms
2026-02-05 22:56:45.122 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - application/json 193
2026-02-05 22:56:45.279 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:56:45.292 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 22:56:45.295 +03:00 [INF] Route matched with {action = "CreateViolationType", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateViolationType(HRMS.Application.Features.Performance.ViolationTypes.Commands.Create.CreateViolationTypeCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 22:56:45.396 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__request_ViolationNameAr_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
        WHERE [v].[VIOLATION_NAME_AR] = @__request_ViolationNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 22:56:45.562 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[VIOLATION_TYPES] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [SEVERITY_LEVEL], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [VIOLATION_NAME_AR])
OUTPUT INSERTED.[VIOLATION_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-05 22:56:45.593 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 22:56:45.606 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:56:45.677 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API) in 379.4836ms
2026-02-05 22:56:45.686 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-05 22:56:45.688 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 200 in 409.0426 ms
2026-02-05 22:56:45.692 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/violation-types - 200 null application/json; charset=utf-8 569.1894ms
2026-02-05 22:57:55.243 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/disciplinary-actions - application/json 99
2026-02-05 22:57:55.257 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:57:55.260 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API)'
2026-02-05 22:57:55.274 +03:00 [INF] Route matched with {action = "CreateDisciplinaryAction", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateDisciplinaryAction(HRMS.Application.Features.Performance.DisciplinaryActions.Commands.Create.CreateDisciplinaryActionCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 22:57:55.363 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActionNameAr_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
        WHERE [d].[ACTION_NAME_AR] = @__request_ActionNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 22:57:55.457 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Precision = 3) (Scale = 1) (DbType = Decimal), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] ([ACTION_NAME_AR], [CREATED_AT], [CREATED_BY], [DEDUCTION_DAYS], [IS_DELETED], [IS_TERMINATION], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[ACTION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 22:57:55.473 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 22:57:55.478 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:57:55.480 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API) in 202.4314ms
2026-02-05 22:57:55.489 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API)'
2026-02-05 22:57:55.490 +03:00 [INF] HTTP POST /api/Performance/config/disciplinary-actions responded 200 in 233.2529 ms
2026-02-05 22:57:55.492 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/disciplinary-actions - 200 null application/json; charset=utf-8 249.2959ms
2026-02-05 22:58:58.207 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/violations - application/json 192
2026-02-05 22:58:58.225 +03:00 [INF] CORS policy execution successful.
2026-02-05 22:58:58.248 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-05 22:58:58.260 +03:00 [INF] Route matched with {action = "RegisterViolation", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RegisterViolation(HRMS.Application.Features.Performance.Violations.Commands.RegisterViolation.RegisterViolationCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-05 22:58:58.360 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-05 22:58:58.377 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_ViolationTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VIOLATION_TYPE_ID], [v].[CREATED_AT], [v].[CREATED_BY], [v].[IS_DELETED], [v].[SEVERITY_LEVEL], [v].[UPDATED_AT], [v].[UPDATED_BY], [v].[VERSION_NO], [v].[VIOLATION_NAME_AR]
FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
WHERE [v].[VIOLATION_TYPE_ID] = @__request_ViolationTypeId_0 AND [v].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 22:58:58.484 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:58:58.496 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 500), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] ([ACTION_ID], [CREATED_AT], [CREATED_BY], [DESCRIPTION], [EMPLOYEE_ID], [INVESTIGATION_NOTES], [IS_DELETED], [IS_EXECUTED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [VIOLATION_DATE], [VIOLATION_TYPE_ID])
OUTPUT INSERTED.[VIOLATION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-05 22:58:58.510 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:58:58.515 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 22:58:58.536 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ActionId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[ACTION_ID], [d].[ACTION_NAME_AR], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEDUCTION_DAYS], [d].[IS_DELETED], [d].[IS_TERMINATION], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
WHERE [d].[ACTION_ID] = @__request_ActionId_Value_0 AND [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 22:58:58.595 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint) AND [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-05 22:58:58.836 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:58:58.848 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p10='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (Size = 20), @p13='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 50), @p17='?' (DbType = Int32), @p18='?' (Size = 1) (DbType = Byte), @p19='?' (DbType = Int32), @p20='?' (Size = 200), @p21='?' (DbType = DateTime2), @p22='?' (Size = 50), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] SET [IS_EXECUTED] = @p9
OUTPUT 1
WHERE [VIOLATION_ID] = @p10 AND [VERSION_NO] = @p11;
INSERT INTO [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] ([AdjustmentType], [Amount], [ApprovedBy], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [PAYROLL_RUN_ID], [Reason], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[AdjustmentId]
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2026-02-05 22:58:58.859 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-05 22:58:58.861 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 22:58:58.867 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 22:58:58.870 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API) in 607.121ms
2026-02-05 22:58:58.872 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-05 22:58:58.874 +03:00 [INF] HTTP POST /api/Performance/violations responded 200 in 648.8964 ms
2026-02-05 22:58:58.876 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/violations - 200 null application/json; charset=utf-8 668.9484ms
2026-02-05 23:09:06.354 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-05 23:09:06.357 +03:00 [INF] CORS policy execution successful.
2026-02-05 23:09:06.359 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 23:09:06.373 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:09:06.521 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-05 23:09:06.537 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 23:09:06.568 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:09:06.614 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:06.622 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:06.668 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 23:09:06.971 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:09:07.059 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:07.066 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:07.073 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:07.079 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:07.085 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:07.091 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 23:09:07.099 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:09:07.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:07.110 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 23:09:07.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:09:07.122 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:09:07.249 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-05 23:09:07.274 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 23:09:07.281 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 23:09:07.284 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 907.384ms
2026-02-05 23:09:07.287 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 23:09:07.288 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 931.4021 ms
2026-02-05 23:09:07.294 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 939.7828ms
2026-02-05 23:11:36.253 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 23:11:36.273 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:11:36.292 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:11:36.330 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:11:36.343 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__p_0
2026-02-05 23:11:36.360 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:11:36.367 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 23:11:36.384 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 86.771ms
2026-02-05 23:11:36.386 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:11:36.389 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 116.6640 ms
2026-02-05 23:11:36.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 137.4422ms
2026-02-05 23:32:13.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 23:32:13.706 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.0009 ms
2026-02-05 23:32:13.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 23:32:13.807 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 23:32:14.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 533.1669ms
2026-02-05 23:32:14.215 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 407.1332ms
2026-02-05 23:32:14.231 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 424.0233ms
2026-02-05 23:32:16.124 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 23:32:17.133 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 983.4113 ms
2026-02-05 23:32:17.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1195.6612ms
2026-02-05 23:32:45.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 23:32:45.213 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:32:45.234 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:33:44.202 +03:00 [INF]  Starting HRMS Hospital API...
2026-02-05 23:33:48.185 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-05 23:33:50.988 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 23:33:50.991 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 23:33:50.995 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 23:33:50.997 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-05 23:33:52.899 +03:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 23:33:53.159 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 23:33:53.201 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-05 23:33:53.244 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-05 23:33:53.375 +03:00 [INF]  Default roles and admin user seeded successfully
2026-02-05 23:33:53.386 +03:00 [INF]  HRMS Hospital API started successfully
2026-02-05 23:33:53.906 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-05 23:33:53.987 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-05 23:33:54.358 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-05 23:33:54.655 +03:00 [INF] Hosting environment: Development
2026-02-05 23:33:54.659 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-05 23:33:54.778 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-05 23:33:55.822 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 419.5303 ms
2026-02-05 23:33:55.907 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-05 23:33:56.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-05 23:33:57.174 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2411.1197ms
2026-02-05 23:33:57.190 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1283.6979ms
2026-02-05 23:33:57.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 511.6184ms
2026-02-05 23:33:58.778 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-05 23:33:59.525 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 722.9058 ms
2026-02-05 23:33:59.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 750.2602ms
2026-02-05 23:34:14.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 23:34:14.669 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:34:14.728 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:34:15.197 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:34:15.313 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:34:15.783 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:34:15.835 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:34:15.925 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:34:15.961 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:34:15.986 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 23:34:16.021 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 1281.8714ms
2026-02-05 23:34:16.024 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:34:16.025 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 1368.7837 ms
2026-02-05 23:34:16.034 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 1386.6551ms
2026-02-05 23:35:56.022 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-05 23:35:56.047 +03:00 [INF] CORS policy execution successful.
2026-02-05 23:35:56.058 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 23:35:56.084 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:35:56.562 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-05 23:35:56.724 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 23:35:56.764 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:35:56.781 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:56.793 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:56.819 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:35:56.844 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:35:56.856 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:35:56.870 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:35:56.885 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:35:57.006 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:57.014 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:57.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:57.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:57.038 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:57.045 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:35:57.064 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:35:57.075 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:35:57.081 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:35:57.087 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:35:57.099 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:57.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:35:57.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:35:57.141 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:35:57.161 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:35:57.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:35:57.178 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:35:57.420 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-05 23:35:57.463 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 23:35:57.476 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 23:35:57.482 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 1394.4549ms
2026-02-05 23:35:57.484 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 23:35:57.492 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 1450.5559 ms
2026-02-05 23:35:57.497 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 1474.7258ms
2026-02-05 23:36:10.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 23:36:10.371 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:36:10.373 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:36:10.391 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:36:10.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:36:10.409 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:36:10.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:36:10.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:36:10.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:36:10.434 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 23:36:10.437 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 60.5653ms
2026-02-05 23:36:10.439 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:36:10.440 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 69.2148 ms
2026-02-05 23:36:10.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 158.541ms
2026-02-05 23:37:05.925 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-05 23:37:05.988 +03:00 [INF] CORS policy execution successful.
2026-02-05 23:37:05.990 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 23:37:05.992 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:37:06.007 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-05 23:37:06.023 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 23:37:06.033 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:37:06.057 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.079 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.116 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:37:06.295 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:37:06.306 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:37:06.345 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:37:06.361 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:37:06.369 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.408 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.433 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.447 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.464 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:37:06.472 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:37:06.494 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:37:06.504 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:37:06.510 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:37:06.516 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.546 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:37:06.554 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:37:06.561 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:37:06.567 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:37:06.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:37:06.580 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:06.633 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-05 23:37:06.708 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 23:37:06.715 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 23:37:06.718 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 723.4772ms
2026-02-05 23:37:06.720 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 23:37:06.722 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 734.3721 ms
2026-02-05 23:37:06.724 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 799.3547ms
2026-02-05 23:37:14.777 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 23:37:14.799 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:37:15.119 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:37:15.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:37:15.134 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:37:15.148 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:37:15.157 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:37:15.162 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:37:15.176 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:37:15.183 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 23:37:15.221 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 96.9188ms
2026-02-05 23:37:15.235 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:37:15.237 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 438.7865 ms
2026-02-05 23:37:15.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 464.6968ms
2026-02-05 23:45:52.097 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/disciplinary-actions - application/json 100
2026-02-05 23:45:52.101 +03:00 [INF] CORS policy execution successful.
2026-02-05 23:45:52.109 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-02-05 23:45:52.137 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-05 23:45:52.143 +03:00 [INF] HTTP POST /api/Performance/config/disciplinary-actions responded 401 in 41.5055 ms
2026-02-05 23:45:52.148 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/disciplinary-actions - 401 0 null 50.7301ms
2026-02-05 23:50:00.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 23:50:00.443 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:50:00.444 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:50:00.518 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:00.663 +03:00 [INF] Executed DbCommand (138ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:50:00.679 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:50:00.694 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:50:00.702 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:50:00.720 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:50:00.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 23:50:00.731 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 264.7321ms
2026-02-05 23:50:00.733 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:50:00.734 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 292.3896 ms
2026-02-05 23:50:00.737 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 367.5102ms
2026-02-05 23:50:51.495 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-05 23:50:51.499 +03:00 [INF] CORS policy execution successful.
2026-02-05 23:50:51.500 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 23:50:51.502 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:50:51.527 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-05 23:50:51.554 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-05 23:50:51.565 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:50:51.578 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.632 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:50:51.646 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:50:51.656 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:50:51.664 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:50:51.674 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:50:51.680 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.686 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.693 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.700 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.714 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:50:51.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:50:51.729 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:50:51.736 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:50:51.743 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:50:51.749 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.759 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:50:51.771 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:50:51.783 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:50:51.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:50:51.795 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:50:51.803 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:51.836 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-05 23:50:51.856 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-05 23:50:51.863 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-05 23:50:51.866 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 360.1338ms
2026-02-05 23:50:51.868 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-05 23:50:51.869 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 370.4698 ms
2026-02-05 23:50:51.872 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 376.6131ms
2026-02-05 23:50:55.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - null null
2026-02-05 23:50:55.884 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:50:55.885 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-05 23:50:55.891 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-05 23:50:55.897 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-05 23:50:55.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PAID_IN_PAYROLL_RUN], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-05 23:50:55.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-05 23:50:55.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-05 23:50:55.944 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-05 23:50:55.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 23:50:55.952 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 63.2229ms
2026-02-05 23:50:55.954 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-05 23:50:55.956 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 72.1195 ms
2026-02-05 23:50:55.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 77.5408ms
2026-02-05 23:55:02.536 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - null null
2026-02-05 23:55:02.540 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 23:55:02.556 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-05 23:55:02.800 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-05 23:55:03.219 +03:00 [INF] Executed DbCommand (124ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-05 23:55:03.335 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-05 23:55:03.445 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 883.9063ms
2026-02-05 23:55:03.446 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-05 23:55:03.448 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 907.6330 ms
2026-02-05 23:55:03.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 914.4634ms
