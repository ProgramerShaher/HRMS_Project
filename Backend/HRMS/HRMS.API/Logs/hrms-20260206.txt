2026-02-06 00:03:50.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - null null
2026-02-06 00:03:50.620 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:03:50.640 +03:00 [INF] Route matched with {action = "GetEmployeeStructure", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto]]] GetEmployeeStructure(Int32) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:03:50.799 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-06 00:03:50.834 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-06 00:03:50.843 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 00:03:50.861 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API) in 192.584ms
2026-02-06 00:03:50.864 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:03:50.868 +03:00 [INF] HTTP GET /api/PayrollSettings/employee-structure/23 responded 200 in 250.5266 ms
2026-02-06 00:03:50.874 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - 200 null application/json; charset=utf-8 266.9365ms
2026-02-06 00:07:21.932 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-02-06 00:07:30.920 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 00:07:33.716 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:07:33.719 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:07:33.722 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:07:33.724 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:07:38.263 +03:00 [INF] Executed DbCommand (223ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:07:38.485 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:07:38.495 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:07:38.554 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 00:07:38.686 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-02-06 00:07:38.697 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-02-06 00:07:39.364 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-06 00:07:39.366 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-06 00:07:39.564 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 00:07:39.567 +03:00 [INF] Hosting environment: Development
2026-02-06 00:07:39.568 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-06 00:07:41.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 00:07:45.672 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3871.3285 ms
2026-02-06 00:07:45.796 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 4600.0378ms
2026-02-06 00:07:46.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 00:07:46.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 00:07:46.665 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 20.6516ms
2026-02-06 00:07:46.733 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.0708ms
2026-02-06 00:07:48.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 00:07:49.034 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 730.1336 ms
2026-02-06 00:07:49.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 792.4031ms
2026-02-06 00:09:04.432 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - application/json 259
2026-02-06 00:09:04.451 +03:00 [INF] CORS policy execution successful.
2026-02-06 00:09:04.528 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-06 00:09:04.859 +03:00 [INF] Route matched with {action = "RenewContract", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RenewContract(Int32, HRMS.Application.DTOs.Personnel.RenewContractDto) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-06 00:09:05.398 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_Data_ContractId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [c].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [c].[CONTRACT_ID] = @__request_Data_ContractId_0
2026-02-06 00:09:06.016 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
WHERE [c].[EMPLOYEE_ID] = @__employee_EmployeeId_0 AND [c].[CONTRACT_STATUS] = N'ACTIVE'
2026-02-06 00:09:06.202 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employee_EmployeeId_0
2026-02-06 00:09:06.325 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:09:06.432 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:09:06.559 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100), @__elementKeyword_0_contains_1='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\' OR ([s].[ElementType] IS NOT NULL AND [s].[ElementType] LIKE @__elementKeyword_0_contains_1 ESCAPE N'\')
2026-02-06 00:09:06.571 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:09:06.579 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100), @__elementKeyword_0_contains_1='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\' OR ([s].[ElementType] IS NOT NULL AND [s].[ElementType] LIKE @__elementKeyword_0_contains_1 ESCAPE N'\')
2026-02-06 00:09:06.590 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:09:06.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100), @__elementKeyword_0_contains_1='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\' OR ([s].[ElementType] IS NOT NULL AND [s].[ElementType] LIKE @__elementKeyword_0_contains_1 ESCAPE N'\')
2026-02-06 00:09:07.324 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 00:09:07.388 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (Size = 20), @p28='?' (Size = 50), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int64), @p34='?' (Size = 100), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int64), @p43='?' (Size = 100), @p44='?' (Size = 200), @p47='?' (DbType = Int32), @p45='?' (Size = 20), @p46='?' (DbType = DateTime2), @p48='?' (DbType = Int32), @p49='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p50='?' (Size = 20), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p57='?' (Size = 1) (DbType = Byte), @p58='?' (Size = 1) (DbType = Byte), @p59='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p60='?' (DbType = DateTime2), @p61='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p62='?' (DbType = DateTime2), @p63='?' (Size = 50), @p64='?' (DbType = Int16), @p65='?' (DbType = Int32), @p66='?' (Size = 1) (DbType = Byte), @p67='?' (DbType = Int32), @p68='?' (DbType = DateTime2), @p69='?' (Size = 50), @p70='?' (Size = 1) (DbType = Byte), @p71='?' (DbType = DateTime2), @p72='?' (DbType = DateTime2), @p73='?' (Size = 500), @p74='?' (DbType = DateTime2), @p75='?' (DbType = DateTime2), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int32), @p81='?' (DbType = Int32), @p79='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p80='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p82='?' (DbType = Int32), @p84='?' (DbType = Int32), @p83='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p85='?' (DbType = Int32), @p87='?' (DbType = Int32), @p86='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p88='?' (DbType = Int32), @p90='?' (DbType = Int32), @p89='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p91='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
UPDATE [HR_PERSONNEL].[CONTRACTS] SET [CONTRACT_STATUS] = @p45, [END_DATE] = @p46
OUTPUT 1
WHERE [CONTRACT_ID] = @p47 AND [VERSION_NO] = @p48;
INSERT INTO [HR_PERSONNEL].[CONTRACTS] ([BASIC_SALARY], [CONTRACT_STATUS], [CONTRACT_TYPE], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [END_DATE], [HOUSING_ALLOWANCE], [IS_DELETED], [IS_RENEWABLE], [OTHER_ALLOWANCES], [START_DATE], [TRANSPORT_ALLOWANCE], [UPDATED_AT], [UPDATED_BY], [VACATION_DAYS], [VERSION_NO], [WORKING_HOURS_DAILY])
OUTPUT INSERTED.[CONTRACT_ID]
VALUES (@p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66);
INSERT INTO [HR_PERSONNEL].[CONTRACT_RENEWALS] ([CONTRACT_ID], [CREATED_AT], [CREATED_BY], [IS_DELETED], [NEW_END_DATE], [NEW_START_DATE], [NOTES], [OLD_END_DATE], [RENEWAL_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RENEWAL_ID]
VALUES (@p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78);
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [BASIC_SALARY] = @p79, [OTHER_ALLOWANCES] = @p80
OUTPUT 1
WHERE [COMPENSATION_ID] = @p81 AND [VERSION_NO] = @p82;
UPDATE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] SET [Amount] = @p83
OUTPUT 1
WHERE [StructureId] = @p84 AND [VERSION_NO] = @p85;
UPDATE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] SET [Amount] = @p86
OUTPUT 1
WHERE [StructureId] = @p87 AND [VERSION_NO] = @p88;
UPDATE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] SET [Amount] = @p89
OUTPUT 1
WHERE [StructureId] = @p90 AND [VERSION_NO] = @p91;
2026-02-06 00:09:07.494 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 00:09:07.516 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-06 00:09:07.558 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 00:09:07.581 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API) in 2710.4639ms
2026-02-06 00:09:07.584 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.RenewContract (HRMS.API)'
2026-02-06 00:09:07.587 +03:00 [INF] HTTP PUT /api/employee-profile/23/contracts/renew responded 200 in 3143.7231 ms
2026-02-06 00:09:07.596 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/employee-profile/23/contracts/renew - 200 null application/json; charset=utf-8 3164.0218ms
2026-02-06 00:09:25.470 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - null null
2026-02-06 00:09:25.491 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:09:25.520 +03:00 [INF] Route matched with {action = "GetEmployeeStructure", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto]]] GetEmployeeStructure(Int32) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:09:25.778 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-06 00:09:25.823 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-06 00:09:25.839 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 00:09:25.864 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API) in 334.9065ms
2026-02-06 00:09:25.868 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:09:25.870 +03:00 [INF] HTTP GET /api/PayrollSettings/employee-structure/23 responded 200 in 379.3329 ms
2026-02-06 00:09:25.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - 200 null application/json; charset=utf-8 401.9241ms
2026-02-06 00:13:48.842 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-02-06 00:13:52.022 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 00:13:54.854 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:13:54.934 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:13:54.939 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:13:54.941 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:13:56.982 +03:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:13:57.203 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:13:57.312 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:13:57.370 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 00:13:57.538 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-02-06 00:13:57.550 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-02-06 00:13:58.221 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-06 00:13:58.255 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-06 00:13:58.599 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 00:13:58.627 +03:00 [INF] Hosting environment: Development
2026-02-06 00:13:58.628 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-06 00:14:00.276 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 00:14:01.571 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 487.3210 ms
2026-02-06 00:14:01.651 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 00:14:01.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 1480.1582ms
2026-02-06 00:14:01.747 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 95.468ms
2026-02-06 00:14:02.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 00:14:02.527 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.5093ms
2026-02-06 00:14:04.543 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 00:14:05.275 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 702.3972 ms
2026-02-06 00:14:05.280 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 736.1157ms
2026-02-06 00:14:09.436 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 00:14:09.458 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 10.5092 ms
2026-02-06 00:14:09.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 28.3128ms
2026-02-06 00:14:09.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 00:14:09.510 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 00:14:09.515 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 5.9273ms
2026-02-06 00:14:09.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.8682ms
2026-02-06 00:14:10.086 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 00:14:10.647 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 525.2607 ms
2026-02-06 00:14:10.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 569.8833ms
2026-02-06 00:14:20.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - null null
2026-02-06 00:14:20.945 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:14:21.038 +03:00 [INF] Route matched with {action = "GetEmployeeStructure", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto]]] GetEmployeeStructure(Int32) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:14:21.467 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-06 00:14:21.555 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-06 00:14:21.585 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 00:14:21.633 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API) in 572.1658ms
2026-02-06 00:14:21.637 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:14:21.638 +03:00 [INF] HTTP GET /api/PayrollSettings/employee-structure/23 responded 200 in 698.4678 ms
2026-02-06 00:14:21.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - 200 null application/json; charset=utf-8 716.8915ms
2026-02-06 00:18:33.677 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/PayrollSettings/update-structure - application/json 481
2026-02-06 00:18:33.987 +03:00 [INF] CORS policy execution successful.
2026-02-06 00:18:33.990 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.UpdateStructure (HRMS.API)'
2026-02-06 00:18:34.012 +03:00 [INF] Route matched with {action = "UpdateStructure", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] UpdateStructure(HRMS.Application.Features.Payroll.Configuration.Structure.Commands.SetEmployeeSalaryStructure.SetEmployeeSalaryStructureCommand) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:18:34.064 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-06 00:18:34.095 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.UpdateStructure (HRMS.API) in 79.4289ms
2026-02-06 00:18:34.098 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.UpdateStructure (HRMS.API)'
2026-02-06 00:18:34.100 +03:00 [INF] HTTP PUT /api/PayrollSettings/update-structure responded 400 in 118.2288 ms
2026-02-06 00:18:34.103 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/PayrollSettings/update-structure - 400 null application/problem+json; charset=utf-8 425.8397ms
2026-02-06 00:19:04.164 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/PayrollSettings/update-structure - application/json 339
2026-02-06 00:19:04.224 +03:00 [INF] CORS policy execution successful.
2026-02-06 00:19:04.226 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.UpdateStructure (HRMS.API)'
2026-02-06 00:19:04.228 +03:00 [INF] Route matched with {action = "UpdateStructure", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] UpdateStructure(HRMS.Application.Features.Payroll.Configuration.Structure.Commands.SetEmployeeSalaryStructure.SetEmployeeSalaryStructureCommand) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:19:04.344 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-06 00:19:04.651 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__elementIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementId] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__elementIds_0) WITH ([value] int '$') AS [e]
)
2026-02-06 00:19:04.692 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-06 00:19:05.294 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (Size = 1) (DbType = Byte), @p39='?' (Size = 1) (DbType = Byte), @p40='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = DateTime2), @p42='?' (Size = 50), @p43='?' (DbType = Int32), @p44='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 1) (DbType = Byte), @p50='?' (Size = 1) (DbType = Byte), @p51='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p52='?' (DbType = DateTime2), @p53='?' (Size = 50), @p54='?' (DbType = Int32), @p55='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p56='?' (DbType = DateTime2), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (DbType = Int32), @p60='?' (Size = 1) (DbType = Byte), @p61='?' (Size = 1) (DbType = Byte), @p62='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p63='?' (DbType = DateTime2), @p64='?' (Size = 50), @p65='?' (DbType = Int32), @p66='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int32), @p70='?' (DbType = Int32), @p71='?' (Size = 1) (DbType = Byte), @p72='?' (Size = 1) (DbType = Byte), @p73='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p74='?' (DbType = DateTime2), @p75='?' (Size = 50), @p76='?' (DbType = Int32), @p77='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p78='?' (DbType = DateTime2), @p79='?' (Size = 50), @p80='?' (DbType = Int32), @p81='?' (DbType = Int32), @p82='?' (Size = 1) (DbType = Byte), @p83='?' (Size = 1) (DbType = Byte), @p84='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p85='?' (DbType = DateTime2), @p86='?' (Size = 50), @p87='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
DELETE FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE]
OUTPUT 1
WHERE [StructureId] = @p27 AND [VERSION_NO] = @p28;
DELETE FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE]
OUTPUT 1
WHERE [StructureId] = @p29 AND [VERSION_NO] = @p30;
DELETE FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE]
OUTPUT 1
WHERE [StructureId] = @p31 AND [VERSION_NO] = @p32;
MERGE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] USING (
VALUES (@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, 0),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, 1),
(@p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, 2),
(@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, 3),
(@p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, 4)) AS i ([Amount], [CREATED_AT], [CREATED_BY], [ELEMENT_ID], [EMPLOYEE_ID], [IsActive], [IS_DELETED], [Percentage], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Amount], [CREATED_AT], [CREATED_BY], [ELEMENT_ID], [EMPLOYEE_ID], [IsActive], [IS_DELETED], [Percentage], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[Amount], i.[CREATED_AT], i.[CREATED_BY], i.[ELEMENT_ID], i.[EMPLOYEE_ID], i.[IsActive], i.[IS_DELETED], i.[Percentage], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[StructureId], i._Position;
2026-02-06 00:19:05.434 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_SALARY_STRUCTURE_SALARY_ELEMENTS_ELEMENT_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PAYROLL.SALARY_ELEMENTS", column 'ElementId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7e0a0b53-1ac6-4016-9673-37f92de28e9d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_SALARY_STRUCTURE_SALARY_ELEMENTS_ELEMENT_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PAYROLL.SALARY_ELEMENTS", column 'ElementId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7e0a0b53-1ac6-4016-9673-37f92de28e9d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-06 00:19:25.057 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.UpdateStructure (HRMS.API) in 20825.6104ms
2026-02-06 00:19:25.153 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.UpdateStructure (HRMS.API)'
2026-02-06 00:19:25.473 +03:00 [ERR] CRITICAL ERROR CAUGHT: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_SALARY_STRUCTURE_SALARY_ELEMENTS_ELEMENT_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PAYROLL.SALARY_ELEMENTS", column 'ElementId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7e0a0b53-1ac6-4016-9673-37f92de28e9d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Infrastructure.Data.HRMSDbContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Infrastructure\Data\HRMSDbContext.cs:line 38
   at HRMS.Application.Features.Payroll.Configuration.Structure.Commands.SetEmployeeSalaryStructure.SetEmployeeSalaryStructureCommandHandler.Handle(SetEmployeeSalaryStructureCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Configuration\Structure\Commands\SetEmployeeSalaryStructure\SetEmployeeSalaryStructureCommand.cs:line 104
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollSettingsController.UpdateStructure(SetEmployeeSalaryStructureCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollSettingsController.cs:line 72
   at lambda_method362(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 00:19:25.610 +03:00 [INF] HTTP PUT /api/PayrollSettings/update-structure responded 400 in 21386.2680 ms
2026-02-06 00:19:25.617 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/PayrollSettings/update-structure - 400 null application/json 21452.5806ms
2026-02-06 00:21:15.585 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/elements - null null
2026-02-06 00:21:15.675 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-06 00:21:15.694 +03:00 [INF] Route matched with {action = "GetElements", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto]]]] GetElements() on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:21:16.167 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
2026-02-06 00:21:16.208 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 00:21:16.240 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API) in 542.5649ms
2026-02-06 00:21:16.245 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-06 00:21:16.247 +03:00 [INF] HTTP GET /api/PayrollSettings/elements responded 200 in 571.9360 ms
2026-02-06 00:21:16.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/elements - 200 null application/json; charset=utf-8 665.6155ms
2026-02-06 00:22:22.591 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/PayrollSettings/elements - application/json 175
2026-02-06 00:22:22.956 +03:00 [INF] CORS policy execution successful.
2026-02-06 00:22:22.958 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.CreateElement (HRMS.API)'
2026-02-06 00:22:22.976 +03:00 [INF] Route matched with {action = "CreateElement", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateElement(HRMS.Application.Features.Payroll.Configuration.Elements.Commands.CreateSalaryElement.CreateSalaryElementCommand) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:22:23.189 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 00:22:23.194 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.CreateElement (HRMS.API) in 27.3157ms
2026-02-06 00:22:23.196 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.CreateElement (HRMS.API)'
2026-02-06 00:22:23.200 +03:00 [INF] HTTP POST /api/PayrollSettings/elements responded 400 in 243.8872 ms
2026-02-06 00:22:23.203 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/PayrollSettings/elements - 400 null application/json; charset=utf-8 611.4082ms
2026-02-06 00:28:38.009 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/PayrollSettings/elements - application/json 226
2026-02-06 00:28:38.013 +03:00 [INF] CORS policy execution successful.
2026-02-06 00:28:38.016 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.CreateElement (HRMS.API)'
2026-02-06 00:28:38.017 +03:00 [INF] Route matched with {action = "CreateElement", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateElement(HRMS.Application.Features.Payroll.Configuration.Elements.Commands.CreateSalaryElement.CreateSalaryElementCommand) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:28:38.282 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 100), @p4='?' (Size = 10), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[SALARY_ELEMENTS] ([CREATED_AT], [CREATED_BY], [DefaultPercentage], [ElementNameAr], [ElementType], [IsBasic], [IS_DELETED], [IsGosiBase], [IsRecurring], [IsTaxable], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[ElementId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-02-06 00:28:38.309 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 00:28:38.319 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 00:28:38.324 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.CreateElement (HRMS.API) in 303.5982ms
2026-02-06 00:28:38.329 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.CreateElement (HRMS.API)'
2026-02-06 00:28:38.331 +03:00 [INF] HTTP POST /api/PayrollSettings/elements responded 200 in 317.8555 ms
2026-02-06 00:28:38.334 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/PayrollSettings/elements - 200 null application/json; charset=utf-8 324.3165ms
2026-02-06 00:30:38.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/elements - null null
2026-02-06 00:30:38.602 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-06 00:30:38.604 +03:00 [INF] Route matched with {action = "GetElements", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto]]]] GetElements() on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:30:38.615 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
2026-02-06 00:30:38.635 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 00:30:38.637 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API) in 29.0555ms
2026-02-06 00:30:38.638 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-06 00:30:38.642 +03:00 [INF] HTTP GET /api/PayrollSettings/elements responded 200 in 40.3159 ms
2026-02-06 00:30:38.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/elements - 200 null application/json; charset=utf-8 198.7412ms
2026-02-06 00:31:10.300 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - null null
2026-02-06 00:31:10.718 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:31:10.727 +03:00 [INF] Route matched with {action = "GetEmployeeStructure", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto]]] GetEmployeeStructure(Int32) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:31:10.755 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-06 00:31:10.774 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-06 00:31:10.784 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 00:31:10.787 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API) in 56.6251ms
2026-02-06 00:31:10.792 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:31:10.797 +03:00 [INF] HTTP GET /api/PayrollSettings/employee-structure/23 responded 200 in 78.9657 ms
2026-02-06 00:31:10.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - 200 null application/json; charset=utf-8 499.2224ms
2026-02-06 00:34:54.417 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 00:35:03.280 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3.8322 ms
2026-02-06 00:35:03.492 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 00:35:04.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 00:35:07.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 12740.5502ms
2026-02-06 00:35:10.713 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 7221.4656ms
2026-02-06 00:35:18.408 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14227.5055ms
2026-02-06 00:35:18.573 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 00:35:26.771 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 427.0471 ms
2026-02-06 00:35:27.575 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9002.0152ms
2026-02-06 00:35:54.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - null null
2026-02-06 00:35:54.672 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:35:54.973 +03:00 [INF] Route matched with {action = "GetEmployeeStructure", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto]]] GetEmployeeStructure(Int32) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:35:56.075 +03:00 [INF] Executed DbCommand (164ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-06 00:35:57.075 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-06 00:35:58.245 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 00:35:58.375 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API) in 2471.8277ms
2026-02-06 00:35:58.377 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:35:58.378 +03:00 [INF] HTTP GET /api/PayrollSettings/employee-structure/23 responded 200 in 3706.9322 ms
2026-02-06 00:35:58.380 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - 200 null application/json; charset=utf-8 3766.5952ms
2026-02-06 00:43:11.248 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-02-06 00:43:14.589 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 00:43:17.410 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:43:17.414 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:43:17.416 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:43:17.418 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 00:43:19.711 +03:00 [INF] Executed DbCommand (239ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:43:19.928 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:43:19.934 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 00:43:19.974 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 00:43:20.099 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-02-06 00:43:20.111 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-02-06 00:43:20.736 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-06 00:43:20.745 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-06 00:43:21.516 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 00:43:21.520 +03:00 [INF] Hosting environment: Development
2026-02-06 00:43:21.521 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-06 00:43:22.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 00:43:24.447 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 495.9680 ms
2026-02-06 00:43:24.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 00:43:24.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2232.295ms
2026-02-06 00:43:24.546 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 97.8116ms
2026-02-06 00:43:25.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 00:43:25.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.5662ms
2026-02-06 00:43:27.052 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 00:43:27.838 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 781.3078 ms
2026-02-06 00:43:27.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 789.5347ms
2026-02-06 00:44:27.371 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Contracts/sync-existing - null 0
2026-02-06 00:44:27.479 +03:00 [INF] CORS policy execution successful.
2026-02-06 00:44:27.645 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.ContractsController.SyncExistingContracts (HRMS.API)'
2026-02-06 00:44:27.713 +03:00 [INF] Route matched with {action = "SyncExistingContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SyncExistingContracts() on controller HRMS.API.Controllers.Personnel.ContractsController (HRMS.API).
2026-02-06 00:44:27.923 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY]
FROM [HR_PERSONNEL].[CONTRACTS] AS [c]
WHERE [c].[CONTRACT_STATUS] = N'ACTIVE'
2026-02-06 00:44:28.072 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:44:28.152 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.326 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.358 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.370 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.383 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.396 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.409 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.438 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__contract_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__contract_EmployeeId_0
2026-02-06 00:44:28.510 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:44:28.522 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.533 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.544 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.554 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.564 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.574 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.586 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.596 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__contract_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__contract_EmployeeId_0
2026-02-06 00:44:28.605 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:44:28.615 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.622 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.634 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.643 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.657 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.664 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.680 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__contract_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__contract_EmployeeId_0
2026-02-06 00:44:28.692 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:44:28.697 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.702 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.707 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.714 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.720 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.725 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.731 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.745 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__contract_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__contract_EmployeeId_0
2026-02-06 00:44:28.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:44:28.758 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.764 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.777 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.783 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.788 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.795 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.805 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__contract_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__contract_EmployeeId_0
2026-02-06 00:44:28.816 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:44:28.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.838 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.845 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.851 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.858 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.877 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__contract_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__contract_EmployeeId_0
2026-02-06 00:44:28.889 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:44:28.915 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.931 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.936 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.944 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.953 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.959 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.968 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__contract_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__contract_EmployeeId_0
2026-02-06 00:44:28.975 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-06 00:44:28.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.986 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:28.992 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:28.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:29.005 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:29.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__elementKeyword_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
WHERE [s].[ElementNameAr] LIKE @__elementKeyword_0_contains ESCAPE N'\'
2026-02-06 00:44:29.019 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__salaryElement_ElementId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__employeeId_0 AND [e].[ELEMENT_ID] = @__salaryElement_ElementId_1
2026-02-06 00:44:29.043 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__contract_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[COMPENSATION_ID], [e].[BANK_ID], [e].[BASIC_SALARY], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[HOUSING_ALLOWANCE], [e].[IBAN_NUMBER], [e].[IS_DELETED], [e].[MEDICAL_ALLOWANCE], [e].[OTHER_ALLOWANCES], [e].[TRANSPORT_ALLOWANCE], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__contract_EmployeeId_0
2026-02-06 00:44:29.489 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 00:44:29.635 +03:00 [INF] Executed DbCommand (137ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (Size = 20), @p28='?' (Size = 50), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int64), @p34='?' (Size = 100), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int64), @p43='?' (Size = 100), @p44='?' (Size = 200), @p45='?' (Size = 20), @p46='?' (Size = 50), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime2), @p50='?' (Size = 50), @p51='?' (DbType = Int64), @p52='?' (Size = 100), @p53='?' (Size = 200), @p54='?' (Size = 20), @p55='?' (Size = 50), @p56='?' (Size = 4000), @p57='?' (Size = 4000), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int64), @p61='?' (Size = 100), @p62='?' (Size = 200), @p63='?' (Size = 20), @p64='?' (Size = 50), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int64), @p70='?' (Size = 100), @p71='?' (Size = 200), @p73='?' (DbType = Int32), @p72='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p74='?' (DbType = Int32), @p76='?' (DbType = Int32), @p75='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p79='?' (DbType = Int32), @p78='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p80='?' (DbType = Int32), @p82='?' (DbType = Int32), @p81='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p85='?' (DbType = Int32), @p84='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p86='?' (DbType = Int32), @p88='?' (DbType = Int32), @p87='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p91='?' (DbType = Int32), @p90='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p92='?' (DbType = Int32), @p94='?' (DbType = Int32), @p93='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p97='?' (DbType = DateTime2), @p98='?' (Size = 50), @p99='?' (DbType = Int32), @p100='?' (DbType = Int32), @p101='?' (Size = 1) (DbType = Byte), @p102='?' (Size = 1) (DbType = Byte), @p103='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = DateTime2), @p105='?' (Size = 50), @p106='?' (DbType = Int32), @p107='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p108='?' (DbType = DateTime2), @p109='?' (Size = 50), @p110='?' (DbType = Int32), @p111='?' (DbType = Int32), @p112='?' (Size = 1) (DbType = Byte), @p113='?' (Size = 1) (DbType = Byte), @p114='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p115='?' (DbType = DateTime2), @p116='?' (Size = 50), @p117='?' (DbType = Int32), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = DateTime2), @p120='?' (Size = 50), @p121='?' (DbType = Int32), @p122='?' (DbType = Int32), @p123='?' (Size = 1) (DbType = Byte), @p124='?' (Size = 1) (DbType = Byte), @p125='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p126='?' (DbType = DateTime2), @p127='?' (Size = 50), @p128='?' (DbType = Int32), @p129='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (DbType = Int32), @p133='?' (DbType = Int32), @p134='?' (Size = 1) (DbType = Byte), @p135='?' (Size = 1) (DbType = Byte), @p136='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p137='?' (DbType = DateTime2), @p138='?' (Size = 50), @p139='?' (DbType = Int32), @p140='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p141='?' (DbType = DateTime2), @p142='?' (Size = 50), @p143='?' (DbType = Int32), @p144='?' (DbType = Int32), @p145='?' (Size = 1) (DbType = Byte), @p146='?' (Size = 1) (DbType = Byte), @p147='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (DbType = Int32), @p151='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p152='?' (DbType = DateTime2), @p153='?' (Size = 50), @p154='?' (DbType = Int32), @p155='?' (DbType = Int32), @p156='?' (Size = 1) (DbType = Byte), @p157='?' (Size = 1) (DbType = Byte), @p158='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p159='?' (DbType = DateTime2), @p160='?' (Size = 50), @p161='?' (DbType = Int32), @p162='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p163='?' (DbType = DateTime2), @p164='?' (Size = 50), @p165='?' (DbType = Int32), @p166='?' (DbType = Int32), @p167='?' (Size = 1) (DbType = Byte), @p168='?' (Size = 1) (DbType = Byte), @p169='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p170='?' (DbType = DateTime2), @p171='?' (Size = 50), @p172='?' (DbType = Int32), @p173='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p174='?' (DbType = DateTime2), @p175='?' (Size = 50), @p176='?' (DbType = Int32), @p177='?' (DbType = Int32), @p178='?' (Size = 1) (DbType = Byte), @p179='?' (Size = 1) (DbType = Byte), @p180='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p181='?' (DbType = DateTime2), @p182='?' (Size = 50), @p183='?' (DbType = Int32), @p184='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p185='?' (DbType = DateTime2), @p186='?' (Size = 50), @p187='?' (DbType = Int32), @p188='?' (DbType = Int32), @p189='?' (Size = 1) (DbType = Byte), @p190='?' (Size = 1) (DbType = Byte), @p191='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p192='?' (DbType = DateTime2), @p193='?' (Size = 50), @p194='?' (DbType = Int32), @p195='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p196='?' (DbType = DateTime2), @p197='?' (Size = 50), @p198='?' (DbType = Int32), @p199='?' (DbType = Int32), @p200='?' (Size = 1) (DbType = Byte), @p201='?' (Size = 1) (DbType = Byte), @p202='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p203='?' (DbType = DateTime2), @p204='?' (Size = 50), @p205='?' (DbType = Int32), @p206='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p207='?' (DbType = DateTime2), @p208='?' (Size = 50), @p209='?' (DbType = Int32), @p210='?' (DbType = Int32), @p211='?' (Size = 1) (DbType = Byte), @p212='?' (Size = 1) (DbType = Byte), @p213='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p214='?' (DbType = DateTime2), @p215='?' (Size = 50), @p216='?' (DbType = Int32), @p217='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p218='?' (DbType = DateTime2), @p219='?' (Size = 50), @p220='?' (DbType = Int32), @p221='?' (DbType = Int32), @p222='?' (Size = 1) (DbType = Byte), @p223='?' (Size = 1) (DbType = Byte), @p224='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p225='?' (DbType = DateTime2), @p226='?' (Size = 50), @p227='?' (DbType = Int32), @p228='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p229='?' (DbType = DateTime2), @p230='?' (Size = 50), @p231='?' (DbType = Int32), @p232='?' (DbType = Int32), @p233='?' (Size = 1) (DbType = Byte), @p234='?' (Size = 1) (DbType = Byte), @p235='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p236='?' (DbType = DateTime2), @p237='?' (Size = 50), @p238='?' (DbType = Int32), @p239='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p240='?' (DbType = DateTime2), @p241='?' (Size = 50), @p242='?' (DbType = Int32), @p243='?' (DbType = Int32), @p244='?' (Size = 1) (DbType = Byte), @p245='?' (Size = 1) (DbType = Byte), @p246='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p247='?' (DbType = DateTime2), @p248='?' (Size = 50), @p249='?' (DbType = Int32), @p250='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p251='?' (DbType = DateTime2), @p252='?' (Size = 50), @p253='?' (DbType = Int32), @p254='?' (DbType = Int32), @p255='?' (Size = 1) (DbType = Byte), @p256='?' (Size = 1) (DbType = Byte), @p257='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p258='?' (DbType = DateTime2), @p259='?' (Size = 50), @p260='?' (DbType = Int32), @p261='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p262='?' (DbType = DateTime2), @p263='?' (Size = 50), @p264='?' (DbType = Int32), @p265='?' (DbType = Int32), @p266='?' (Size = 1) (DbType = Byte), @p267='?' (Size = 1) (DbType = Byte), @p268='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p269='?' (DbType = DateTime2), @p270='?' (Size = 50), @p271='?' (DbType = Int32), @p272='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p273='?' (DbType = DateTime2), @p274='?' (Size = 50), @p275='?' (DbType = Int32), @p276='?' (DbType = Int32), @p277='?' (Size = 1) (DbType = Byte), @p278='?' (Size = 1) (DbType = Byte), @p279='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p280='?' (DbType = DateTime2), @p281='?' (Size = 50), @p282='?' (DbType = Int32), @p283='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p284='?' (DbType = DateTime2), @p285='?' (Size = 50), @p286='?' (DbType = Int32), @p287='?' (DbType = Int32), @p288='?' (Size = 1) (DbType = Byte), @p289='?' (Size = 1) (DbType = Byte), @p290='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p291='?' (DbType = DateTime2), @p292='?' (Size = 50), @p293='?' (DbType = Int32), @p294='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p295='?' (DbType = DateTime2), @p296='?' (Size = 50), @p297='?' (DbType = Int32), @p298='?' (DbType = Int32), @p299='?' (Size = 1) (DbType = Byte), @p300='?' (Size = 1) (DbType = Byte), @p301='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p302='?' (DbType = DateTime2), @p303='?' (Size = 50), @p304='?' (DbType = Int32), @p305='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p306='?' (DbType = DateTime2), @p307='?' (Size = 50), @p308='?' (DbType = Int32), @p309='?' (DbType = Int32), @p310='?' (Size = 1) (DbType = Byte), @p311='?' (Size = 1) (DbType = Byte), @p312='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p313='?' (DbType = DateTime2), @p314='?' (Size = 50), @p315='?' (DbType = Int32), @p316='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p317='?' (DbType = DateTime2), @p318='?' (Size = 50), @p319='?' (DbType = Int32), @p320='?' (DbType = Int32), @p321='?' (Size = 1) (DbType = Byte), @p322='?' (Size = 1) (DbType = Byte), @p323='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p324='?' (DbType = DateTime2), @p325='?' (Size = 50), @p326='?' (DbType = Int32), @p327='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p328='?' (DbType = DateTime2), @p329='?' (Size = 50), @p330='?' (DbType = Int32), @p331='?' (DbType = Int32), @p332='?' (Size = 1) (DbType = Byte), @p333='?' (Size = 1) (DbType = Byte), @p334='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p335='?' (DbType = DateTime2), @p336='?' (Size = 50), @p337='?' (DbType = Int32), @p338='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p339='?' (DbType = DateTime2), @p340='?' (Size = 50), @p341='?' (DbType = Int32), @p342='?' (DbType = Int32), @p343='?' (Size = 1) (DbType = Byte), @p344='?' (Size = 1) (DbType = Byte), @p345='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p346='?' (DbType = DateTime2), @p347='?' (Size = 50), @p348='?' (DbType = Int32), @p349='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p350='?' (DbType = DateTime2), @p351='?' (Size = 50), @p352='?' (DbType = Int32), @p353='?' (DbType = Int32), @p354='?' (Size = 1) (DbType = Byte), @p355='?' (Size = 1) (DbType = Byte), @p356='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p357='?' (DbType = DateTime2), @p358='?' (Size = 50), @p359='?' (DbType = Int32), @p360='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p361='?' (DbType = DateTime2), @p362='?' (Size = 50), @p363='?' (DbType = Int32), @p364='?' (DbType = Int32), @p365='?' (Size = 1) (DbType = Byte), @p366='?' (Size = 1) (DbType = Byte), @p367='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p368='?' (DbType = DateTime2), @p369='?' (Size = 50), @p370='?' (DbType = Int32), @p371='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p372='?' (DbType = DateTime2), @p373='?' (Size = 50), @p374='?' (DbType = Int32), @p375='?' (DbType = Int32), @p376='?' (Size = 1) (DbType = Byte), @p377='?' (Size = 1) (DbType = Byte), @p378='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p379='?' (DbType = DateTime2), @p380='?' (Size = 50), @p381='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 5),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, 6),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 7)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [OTHER_ALLOWANCES] = @p72
OUTPUT 1
WHERE [COMPENSATION_ID] = @p73 AND [VERSION_NO] = @p74;
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [OTHER_ALLOWANCES] = @p75
OUTPUT 1
WHERE [COMPENSATION_ID] = @p76 AND [VERSION_NO] = @p77;
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [OTHER_ALLOWANCES] = @p78
OUTPUT 1
WHERE [COMPENSATION_ID] = @p79 AND [VERSION_NO] = @p80;
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [OTHER_ALLOWANCES] = @p81
OUTPUT 1
WHERE [COMPENSATION_ID] = @p82 AND [VERSION_NO] = @p83;
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [OTHER_ALLOWANCES] = @p84
OUTPUT 1
WHERE [COMPENSATION_ID] = @p85 AND [VERSION_NO] = @p86;
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [OTHER_ALLOWANCES] = @p87
OUTPUT 1
WHERE [COMPENSATION_ID] = @p88 AND [VERSION_NO] = @p89;
UPDATE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] SET [Amount] = @p90
OUTPUT 1
WHERE [StructureId] = @p91 AND [VERSION_NO] = @p92;
UPDATE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] SET [Amount] = @p93
OUTPUT 1
WHERE [StructureId] = @p94 AND [VERSION_NO] = @p95;
MERGE [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] USING (
VALUES (@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, 0),
(@p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, 1),
(@p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, 2),
(@p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 3),
(@p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, 4),
(@p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 5),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, 6),
(@p173, @p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, 7),
(@p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, 8),
(@p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, 9),
(@p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, @p216, 10),
(@p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, 11),
(@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, 12),
(@p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, 13),
(@p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, 14),
(@p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, 15),
(@p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, 16),
(@p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, 17),
(@p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, 18),
(@p305, @p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, 19),
(@p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, 20),
(@p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, 21),
(@p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, 22),
(@p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 23),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, 24),
(@p371, @p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, 25)) AS i ([Amount], [CREATED_AT], [CREATED_BY], [ELEMENT_ID], [EMPLOYEE_ID], [IsActive], [IS_DELETED], [Percentage], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Amount], [CREATED_AT], [CREATED_BY], [ELEMENT_ID], [EMPLOYEE_ID], [IsActive], [IS_DELETED], [Percentage], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[Amount], i.[CREATED_AT], i.[CREATED_BY], i.[ELEMENT_ID], i.[EMPLOYEE_ID], i.[IsActive], i.[IS_DELETED], i.[Percentage], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[StructureId], i._Position;
2026-02-06 00:44:29.749 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 00:44:29.806 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (Size = 20), @p28='?' (Size = 50), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int64), @p34='?' (Size = 100), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int64), @p43='?' (Size = 100), @p44='?' (Size = 200), @p45='?' (Size = 20), @p46='?' (Size = 50), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime2), @p50='?' (Size = 50), @p51='?' (DbType = Int64), @p52='?' (Size = 100), @p53='?' (Size = 200), @p54='?' (Size = 20), @p55='?' (Size = 50), @p56='?' (Size = 4000), @p57='?' (Size = 4000), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int64), @p61='?' (Size = 100), @p62='?' (Size = 200), @p63='?' (Size = 20), @p64='?' (Size = 50), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int64), @p70='?' (Size = 100), @p71='?' (Size = 200), @p72='?' (Size = 20), @p73='?' (Size = 50), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int64), @p79='?' (Size = 100), @p80='?' (Size = 200), @p81='?' (Size = 20), @p82='?' (Size = 50), @p83='?' (Size = 4000), @p84='?' (Size = 4000), @p85='?' (DbType = DateTime2), @p86='?' (Size = 50), @p87='?' (DbType = Int64), @p88='?' (Size = 100), @p89='?' (Size = 200), @p90='?' (Size = 20), @p91='?' (Size = 50), @p92='?' (Size = 4000), @p93='?' (Size = 4000), @p94='?' (DbType = DateTime2), @p95='?' (Size = 50), @p96='?' (DbType = Int64), @p97='?' (Size = 100), @p98='?' (Size = 200), @p99='?' (Size = 20), @p100='?' (Size = 50), @p101='?' (Size = 4000), @p102='?' (Size = 4000), @p103='?' (DbType = DateTime2), @p104='?' (Size = 50), @p105='?' (DbType = Int64), @p106='?' (Size = 100), @p107='?' (Size = 200), @p108='?' (Size = 20), @p109='?' (Size = 50), @p110='?' (Size = 4000), @p111='?' (Size = 4000), @p112='?' (DbType = DateTime2), @p113='?' (Size = 50), @p114='?' (DbType = Int64), @p115='?' (Size = 100), @p116='?' (Size = 200), @p117='?' (Size = 20), @p118='?' (Size = 50), @p119='?' (Size = 4000), @p120='?' (Size = 4000), @p121='?' (DbType = DateTime2), @p122='?' (Size = 50), @p123='?' (DbType = Int64), @p124='?' (Size = 100), @p125='?' (Size = 200), @p126='?' (Size = 20), @p127='?' (Size = 50), @p128='?' (Size = 4000), @p129='?' (Size = 4000), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (DbType = Int64), @p133='?' (Size = 100), @p134='?' (Size = 200), @p135='?' (Size = 20), @p136='?' (Size = 50), @p137='?' (Size = 4000), @p138='?' (Size = 4000), @p139='?' (DbType = DateTime2), @p140='?' (Size = 50), @p141='?' (DbType = Int64), @p142='?' (Size = 100), @p143='?' (Size = 200), @p144='?' (Size = 20), @p145='?' (Size = 50), @p146='?' (Size = 4000), @p147='?' (Size = 4000), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (DbType = Int64), @p151='?' (Size = 100), @p152='?' (Size = 200), @p153='?' (Size = 20), @p154='?' (Size = 50), @p155='?' (Size = 4000), @p156='?' (Size = 4000), @p157='?' (DbType = DateTime2), @p158='?' (Size = 50), @p159='?' (DbType = Int64), @p160='?' (Size = 100), @p161='?' (Size = 200), @p162='?' (Size = 20), @p163='?' (Size = 50), @p164='?' (Size = 4000), @p165='?' (Size = 4000), @p166='?' (DbType = DateTime2), @p167='?' (Size = 50), @p168='?' (DbType = Int64), @p169='?' (Size = 100), @p170='?' (Size = 200), @p171='?' (Size = 20), @p172='?' (Size = 50), @p173='?' (Size = 4000), @p174='?' (Size = 4000), @p175='?' (DbType = DateTime2), @p176='?' (Size = 50), @p177='?' (DbType = Int64), @p178='?' (Size = 100), @p179='?' (Size = 200), @p180='?' (Size = 20), @p181='?' (Size = 50), @p182='?' (Size = 4000), @p183='?' (Size = 4000), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (DbType = Int64), @p187='?' (Size = 100), @p188='?' (Size = 200), @p189='?' (Size = 20), @p190='?' (Size = 50), @p191='?' (Size = 4000), @p192='?' (Size = 4000), @p193='?' (DbType = DateTime2), @p194='?' (Size = 50), @p195='?' (DbType = Int64), @p196='?' (Size = 100), @p197='?' (Size = 200), @p198='?' (Size = 20), @p199='?' (Size = 50), @p200='?' (Size = 4000), @p201='?' (Size = 4000), @p202='?' (DbType = DateTime2), @p203='?' (Size = 50), @p204='?' (DbType = Int64), @p205='?' (Size = 100), @p206='?' (Size = 200), @p207='?' (Size = 20), @p208='?' (Size = 50), @p209='?' (Size = 4000), @p210='?' (Size = 4000), @p211='?' (DbType = DateTime2), @p212='?' (Size = 50), @p213='?' (DbType = Int64), @p214='?' (Size = 100), @p215='?' (Size = 200), @p216='?' (Size = 20), @p217='?' (Size = 50), @p218='?' (Size = 4000), @p219='?' (Size = 4000), @p220='?' (DbType = DateTime2), @p221='?' (Size = 50), @p222='?' (DbType = Int64), @p223='?' (Size = 100), @p224='?' (Size = 200), @p225='?' (Size = 20), @p226='?' (Size = 50), @p227='?' (Size = 4000), @p228='?' (Size = 4000), @p229='?' (DbType = DateTime2), @p230='?' (Size = 50), @p231='?' (DbType = Int64), @p232='?' (Size = 100), @p233='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 5),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, 6),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, 8),
(@p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 9),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, 10),
(@p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 11),
(@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, 12),
(@p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 13),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, 14),
(@p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 15),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, 16),
(@p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 17),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, 18),
(@p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 19),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, 20),
(@p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, 21),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, 22),
(@p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, 23),
(@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, 24),
(@p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, 25)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-06 00:44:29.854 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 00:44:29.876 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.ContractsController.SyncExistingContracts (HRMS.API) in 2150.2023ms
2026-02-06 00:44:29.879 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.ContractsController.SyncExistingContracts (HRMS.API)'
2026-02-06 00:44:29.880 +03:00 [INF] HTTP POST /api/Contracts/sync-existing responded 200 in 2407.3432 ms
2026-02-06 00:44:29.889 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Contracts/sync-existing - 200 null application/json; charset=utf-8 2517.7475ms
2026-02-06 00:48:05.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - null null
2026-02-06 00:48:05.216 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:48:05.253 +03:00 [INF] Route matched with {action = "GetEmployeeStructure", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto]]] GetEmployeeStructure(Int32) on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 00:48:05.666 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_GRADE_ID], [j0].[BENEFITS_CONFIG], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DESCRIPTION], [j0].[GRADE_CODE], [j0].[GRADE_LEVEL], [j0].[GRADE_NAME_AR], [j0].[GRADE_NAME_EN], [j0].[IS_DELETED], [j0].[MAX_SALARY], [j0].[MIN_SALARY], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-06 00:48:05.714 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-06 00:48:05.734 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Configuration.EmployeeSalaryStructureDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 00:48:05.761 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API) in 503.7415ms
2026-02-06 00:48:05.764 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetEmployeeStructure (HRMS.API)'
2026-02-06 00:48:05.769 +03:00 [INF] HTTP GET /api/PayrollSettings/employee-structure/23 responded 200 in 554.0203 ms
2026-02-06 00:48:05.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/employee-structure/23 - 200 null application/json; charset=utf-8 608.7171ms
2026-02-06 01:04:55.211 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - application/json 268
2026-02-06 01:04:55.240 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:04:55.262 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-02-06 01:04:55.271 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-06 01:04:55.274 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 401 in 34.4987 ms
2026-02-06 01:04:55.277 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - 401 0 null 66.1674ms
2026-02-06 01:05:23.703 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - application/json 268
2026-02-06 01:05:23.712 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:05:23.924 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04/02/2026 03:59:51 Ù…', Current time (UTC): '05/02/2026 10:05:23 Ù…'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-06 01:05:24.009 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04/02/2026 03:59:51 Ù…', Current time (UTC): '05/02/2026 10:05:23 Ù…'.
2026-02-06 01:05:24.012 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-02-06 01:05:24.017 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-06 01:05:24.019 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 401 in 306.9963 ms
2026-02-06 01:05:24.022 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - 401 0 null 318.3125ms
2026-02-06 01:05:57.754 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 74
2026-02-06 01:05:57.762 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:05:57.763 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-06 01:05:57.779 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Auth.AuthResponse]]] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-02-06 01:05:57.902 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-06 01:05:58.125 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-06 01:05:58.139 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 01:05:58.243 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-06 01:05:58.298 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-06 01:05:58.331 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-06 01:05:58.337 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 01:05:58.344 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-06 01:05:58.355 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 01:05:58.370 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 587.9686ms
2026-02-06 01:05:58.372 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-06 01:05:58.373 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 610.7223 ms
2026-02-06 01:05:58.375 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 621.0847ms
2026-02-06 01:06:40.172 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - application/json 268
2026-02-06 01:06:40.177 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:06:40.204 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-06 01:06:40.253 +03:00 [INF] Route matched with {action = "CreateKpi", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateKpi(HRMS.Application.Features.Performance.KpiLibrary.Commands.Create.CreateKpiCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:06:40.378 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_KpiNameAr_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
        WHERE [k].[KPI_NAME_AR] = @__request_KpiNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:06:40.459 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 500), @p5='?' (Size = 200), @p6='?' (Size = 20), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[KPI_LIBRARIES] ([CATEGORY], [CREATED_AT], [CREATED_BY], [IS_DELETED], [KPI_DESCRIPTION], [KPI_NAME_AR], [MEASUREMENT_UNIT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[KPI_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-06 01:06:40.473 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 01:06:40.478 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:06:40.482 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API) in 226.6499ms
2026-02-06 01:06:40.484 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-06 01:06:40.486 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 200 in 308.5159 ms
2026-02-06 01:06:40.488 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - 200 null application/json; charset=utf-8 315.6898ms
2026-02-06 01:06:58.971 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - application/json 234
2026-02-06 01:06:58.976 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:06:58.979 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-06 01:06:58.981 +03:00 [INF] Route matched with {action = "CreateKpi", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateKpi(HRMS.Application.Features.Performance.KpiLibrary.Commands.Create.CreateKpiCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:06:59.038 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__request_KpiNameAr_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
        WHERE [k].[KPI_NAME_AR] = @__request_KpiNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:06:59.044 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 500), @p5='?' (Size = 200), @p6='?' (Size = 20), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[KPI_LIBRARIES] ([CATEGORY], [CREATED_AT], [CREATED_BY], [IS_DELETED], [KPI_DESCRIPTION], [KPI_NAME_AR], [MEASUREMENT_UNIT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[KPI_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-06 01:06:59.054 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 01:06:59.059 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:06:59.061 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API) in 76.4288ms
2026-02-06 01:06:59.090 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-06 01:06:59.092 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 200 in 116.1706 ms
2026-02-06 01:06:59.095 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - 200 null application/json; charset=utf-8 123.7881ms
2026-02-06 01:07:32.127 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/appraisal-cycles - application/json 162
2026-02-06 01:07:32.130 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:07:32.133 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API)'
2026-02-06 01:07:32.146 +03:00 [INF] Route matched with {action = "CreateAppraisalCycle", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateAppraisalCycle(HRMS.Application.Features.Performance.AppraisalCycles.Commands.Create.CreateAppraisalCycleCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:07:43.326 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API) in 11175.9221ms
2026-02-06 01:07:43.329 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API)'
2026-02-06 01:07:43.375 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- Status: Ø§Ù„Ø­Ø§Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†: PLANNING, ACTIVE, COMPLETED, CANCELLED Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- Status: Ø§Ù„Ø­Ø§Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†: PLANNING, ACTIVE, COMPLETED, CANCELLED Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 32
   at HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle(CreateAppraisalCycleCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Performance\PerformanceController.cs:line 285
   at lambda_method1406(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 01:07:43.436 +03:00 [INF] HTTP POST /api/Performance/config/appraisal-cycles responded 400 in 11305.7693 ms
2026-02-06 01:07:43.438 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/appraisal-cycles - 400 null application/json 11311.3919ms
2026-02-06 01:07:49.845 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/appraisal-cycles - application/json 162
2026-02-06 01:07:49.848 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:07:49.849 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API)'
2026-02-06 01:07:49.851 +03:00 [INF] Route matched with {action = "CreateAppraisalCycle", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateAppraisalCycle(HRMS.Application.Features.Performance.AppraisalCycles.Commands.Create.CreateAppraisalCycleCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:07:49.902 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_StartDate_0='?' (DbType = DateTime2), @__request_EndDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a]
        WHERE (@__request_StartDate_0 >= [a].[START_DATE] AND @__request_StartDate_0 <= [a].[END_DATE]) OR (@__request_EndDate_1 >= [a].[START_DATE] AND @__request_EndDate_1 <= [a].[END_DATE])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:07:49.976 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[APPRAISAL_CYCLES] ([CREATED_AT], [CREATED_BY], [CYCLE_NAME_AR], [END_DATE], [IS_ACTIVE], [IS_DELETED], [START_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[CYCLE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-06 01:07:49.989 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 01:07:49.997 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:07:49.998 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API) in 138.4354ms
2026-02-06 01:07:50.000 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API)'
2026-02-06 01:07:50.002 +03:00 [INF] HTTP POST /api/Performance/config/appraisal-cycles responded 200 in 154.6066 ms
2026-02-06 01:07:50.005 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/appraisal-cycles - 200 null application/json; charset=utf-8 160.2928ms
2026-02-06 01:08:52.472 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - application/json 231
2026-02-06 01:08:52.477 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:08:52.480 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-06 01:08:52.481 +03:00 [INF] Route matched with {action = "CreateKpi", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateKpi(HRMS.Application.Features.Performance.KpiLibrary.Commands.Create.CreateKpiCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:08:52.544 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__request_KpiNameAr_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
        WHERE [k].[KPI_NAME_AR] = @__request_KpiNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:08:52.553 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 500), @p5='?' (Size = 200), @p6='?' (Size = 20), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[KPI_LIBRARIES] ([CATEGORY], [CREATED_AT], [CREATED_BY], [IS_DELETED], [KPI_DESCRIPTION], [KPI_NAME_AR], [MEASUREMENT_UNIT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[KPI_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-06 01:08:52.569 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 01:08:52.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:08:52.579 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API) in 94.0346ms
2026-02-06 01:08:52.582 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-06 01:08:52.583 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 200 in 106.1593 ms
2026-02-06 01:08:52.586 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/config/kpis - 200 null application/json; charset=utf-8 114.5229ms
2026-02-06 01:10:00.478 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/appraisals - application/json 597
2026-02-06 01:10:00.483 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:10:00.485 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:10:00.501 +03:00 [INF] Route matched with {action = "SubmitAppraisal", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitAppraisal(HRMS.Application.Features.Performance.Appraisals.Commands.SubmitAppraisal.SubmitAppraisalCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:10:00.676 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:10:00.695 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CycleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a]
        WHERE [a].[CYCLE_ID] = @__request_CycleId_0 AND [a].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:10:00.723 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_CycleId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[CYCLE_ID] = @__request_CycleId_1 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:10:00.830 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 01:10:00.845 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 20), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (Size = 20), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] ([APPRAISAL_DATE], [CREATED_AT], [CREATED_BY], [CYCLE_ID], [EMPLOYEE_COMMENT], [EMPLOYEE_ID], [EVALUATOR_ID], [FINAL_SCORE], [GRADE], [IS_DELETED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[APPRAISAL_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-06 01:10:00.883 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_APPRAISALS_EMPLOYEES_EVALUATOR_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:80812696-8ce7-4d31-840b-4a7c8525a4e8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_APPRAISALS_EMPLOYEES_EVALUATOR_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:80812696-8ce7-4d31-840b-4a7c8525a4e8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-06 01:10:01.290 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:10:01.292 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API) in 787.0777ms
2026-02-06 01:10:01.294 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:10:01.296 +03:00 [INF] HTTP POST /api/Performance/appraisals responded 400 in 812.4763 ms
2026-02-06 01:10:01.298 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/appraisals - 400 null application/json; charset=utf-8 819.8719ms
2026-02-06 01:12:00.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/kpis - null null
2026-02-06 01:12:00.448 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API)'
2026-02-06 01:12:00.461 +03:00 [INF] Route matched with {action = "GetKpis", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetKpis() on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:12:01.377 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[KPI_ID], [k].[CATEGORY], [k].[CREATED_AT], [k].[CREATED_BY], [k].[IS_DELETED], [k].[KPI_DESCRIPTION], [k].[KPI_NAME_AR], [k].[MEASUREMENT_UNIT], [k].[UPDATED_AT], [k].[UPDATED_BY], [k].[VERSION_NO]
FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
ORDER BY [k].[CATEGORY], [k].[KPI_NAME_AR]
2026-02-06 01:12:01.408 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.KpiDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:12:01.426 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API) in 962.2071ms
2026-02-06 01:12:01.429 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API)'
2026-02-06 01:12:01.435 +03:00 [INF] HTTP GET /api/Performance/config/kpis responded 200 in 988.3840 ms
2026-02-06 01:12:01.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/kpis - 200 null application/json; charset=utf-8 996.2283ms
2026-02-06 01:12:18.679 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/appraisals - application/json 597
2026-02-06 01:12:18.975 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:12:18.987 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:12:19.087 +03:00 [INF] Route matched with {action = "SubmitAppraisal", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitAppraisal(HRMS.Application.Features.Performance.Appraisals.Commands.SubmitAppraisal.SubmitAppraisalCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:12:19.129 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:12:19.139 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_CycleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a]
        WHERE [a].[CYCLE_ID] = @__request_CycleId_0 AND [a].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:12:19.148 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_CycleId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[CYCLE_ID] = @__request_CycleId_1 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:12:19.154 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 01:12:19.163 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 20), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (Size = 20), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] ([APPRAISAL_DATE], [CREATED_AT], [CREATED_BY], [CYCLE_ID], [EMPLOYEE_COMMENT], [EMPLOYEE_ID], [EVALUATOR_ID], [FINAL_SCORE], [GRADE], [IS_DELETED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[APPRAISAL_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-06 01:12:19.176 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_APPRAISALS_EMPLOYEES_EVALUATOR_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:80812696-8ce7-4d31-840b-4a7c8525a4e8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_APPRAISALS_EMPLOYEES_EVALUATOR_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:80812696-8ce7-4d31-840b-4a7c8525a4e8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-06 01:12:19.509 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:12:19.514 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API) in 423.8984ms
2026-02-06 01:12:19.517 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:12:19.518 +03:00 [INF] HTTP POST /api/Performance/appraisals responded 400 in 543.2083 ms
2026-02-06 01:12:19.520 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/appraisals - 400 null application/json; charset=utf-8 841.2395ms
2026-02-06 01:13:16.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/appraisal-cycles - null null
2026-02-06 01:13:16.343 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalCycles (HRMS.API)'
2026-02-06 01:13:16.356 +03:00 [INF] Route matched with {action = "GetAppraisalCycles", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppraisalCycles() on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:13:16.389 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[CYCLE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[CYCLE_NAME_AR], [a].[END_DATE], [a].[IS_ACTIVE], [a].[IS_DELETED], [a].[START_DATE], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VERSION_NO]
FROM [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a]
ORDER BY [a].[START_DATE] DESC
2026-02-06 01:13:16.403 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.AppraisalCycleDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:13:16.418 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalCycles (HRMS.API) in 57.89ms
2026-02-06 01:13:16.424 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalCycles (HRMS.API)'
2026-02-06 01:13:16.425 +03:00 [INF] HTTP GET /api/Performance/config/appraisal-cycles responded 200 in 83.0842 ms
2026-02-06 01:13:16.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/appraisal-cycles - 200 null application/json; charset=utf-8 123.8402ms
2026-02-06 01:14:33.613 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/appraisals - application/json 597
2026-02-06 01:14:33.876 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:14:33.880 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:14:33.881 +03:00 [INF] Route matched with {action = "SubmitAppraisal", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitAppraisal(HRMS.Application.Features.Performance.Appraisals.Commands.SubmitAppraisal.SubmitAppraisalCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:14:34.002 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:14:34.012 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_CycleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a]
        WHERE [a].[CYCLE_ID] = @__request_CycleId_0 AND [a].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:14:34.024 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_CycleId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[CYCLE_ID] = @__request_CycleId_1 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:14:34.029 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 01:14:34.039 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 20), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (Size = 20), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] ([APPRAISAL_DATE], [CREATED_AT], [CREATED_BY], [CYCLE_ID], [EMPLOYEE_COMMENT], [EMPLOYEE_ID], [EVALUATOR_ID], [FINAL_SCORE], [GRADE], [IS_DELETED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[APPRAISAL_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-06 01:14:34.088 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_APPRAISALS_EMPLOYEES_EVALUATOR_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:80812696-8ce7-4d31-840b-4a7c8525a4e8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_APPRAISALS_EMPLOYEES_EVALUATOR_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:80812696-8ce7-4d31-840b-4a7c8525a4e8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-06 01:14:34.347 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:14:34.352 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API) in 365.5033ms
2026-02-06 01:14:34.354 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:14:34.355 +03:00 [INF] HTTP POST /api/Performance/appraisals responded 400 in 480.0679 ms
2026-02-06 01:14:34.358 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/appraisals - 400 null application/json; charset=utf-8 744.5257ms
2026-02-06 01:19:17.909 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/appraisals - application/json 597
2026-02-06 01:19:17.919 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:19:17.920 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:19:17.922 +03:00 [INF] Route matched with {action = "SubmitAppraisal", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitAppraisal(HRMS.Application.Features.Performance.Appraisals.Commands.SubmitAppraisal.SubmitAppraisalCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:19:17.935 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:19:17.951 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_CycleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a]
        WHERE [a].[CYCLE_ID] = @__request_CycleId_0 AND [a].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:19:18.215 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_CycleId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[CYCLE_ID] = @__request_CycleId_1 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:19:18.223 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 01:19:18.230 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 20), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (Size = 20), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] ([APPRAISAL_DATE], [CREATED_AT], [CREATED_BY], [CYCLE_ID], [EMPLOYEE_COMMENT], [EMPLOYEE_ID], [EVALUATOR_ID], [FINAL_SCORE], [GRADE], [IS_DELETED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[APPRAISAL_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-06 01:19:18.242 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_APPRAISALS_EMPLOYEES_EVALUATOR_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:80812696-8ce7-4d31-840b-4a7c8525a4e8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_EMPLOYEE_APPRAISALS_EMPLOYEES_EVALUATOR_ID". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:80812696-8ce7-4d31-840b-4a7c8525a4e8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-06 01:19:18.492 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:19:18.495 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API) in 570.6564ms
2026-02-06 01:19:18.497 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:19:18.498 +03:00 [INF] HTTP POST /api/Performance/appraisals responded 400 in 579.3227 ms
2026-02-06 01:19:18.500 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/appraisals - 400 null application/json; charset=utf-8 591.1524ms
2026-02-06 01:46:27.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 01:46:27.253 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.4618 ms
2026-02-06 01:46:27.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 20.9578ms
2026-02-06 01:46:27.323 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 01:46:27.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 01:46:27.357 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 34.1451ms
2026-02-06 01:46:27.400 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.8747ms
2026-02-06 01:46:36.783 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 01:46:37.402 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 615.5805 ms
2026-02-06 01:46:37.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 633.1108ms
2026-02-06 01:47:37.949 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/appraisals - application/json 597
2026-02-06 01:47:37.963 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:47:37.964 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:47:37.978 +03:00 [INF] Route matched with {action = "SubmitAppraisal", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitAppraisal(HRMS.Application.Features.Performance.Appraisals.Commands.SubmitAppraisal.SubmitAppraisalCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:47:38.028 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:47:38.034 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API) in 53.4019ms
2026-02-06 01:47:38.036 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:47:38.038 +03:00 [INF] HTTP POST /api/Performance/appraisals responded 400 in 74.6012 ms
2026-02-06 01:47:38.040 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/appraisals - 400 null application/json; charset=utf-8 120.9627ms
2026-02-06 01:54:01.439 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/appraisals - application/json 597
2026-02-06 01:54:01.452 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:54:01.453 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:54:01.455 +03:00 [INF] Route matched with {action = "SubmitAppraisal", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitAppraisal(HRMS.Application.Features.Performance.Appraisals.Commands.SubmitAppraisal.SubmitAppraisalCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:54:01.481 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:54:01.484 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API) in 25.9672ms
2026-02-06 01:54:01.486 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:54:01.488 +03:00 [INF] HTTP POST /api/Performance/appraisals responded 400 in 36.1467 ms
2026-02-06 01:54:01.492 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/appraisals - 400 null application/json; charset=utf-8 52.9407ms
2026-02-06 01:54:24.736 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 01:54:24.753 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.2612 ms
2026-02-06 01:54:24.844 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 01:54:24.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 01:54:24.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 144.7897ms
2026-02-06 01:54:24.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 41.0726ms
2026-02-06 01:54:24.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.1278ms
2026-02-06 01:54:25.946 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 01:54:26.749 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 766.5067 ms
2026-02-06 01:54:26.751 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 805.0555ms
2026-02-06 01:54:54.138 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Performance/appraisals - application/json 214
2026-02-06 01:54:54.239 +03:00 [INF] CORS policy execution successful.
2026-02-06 01:54:54.245 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:54:54.259 +03:00 [INF] Route matched with {action = "SubmitAppraisal", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitAppraisal(HRMS.Application.Features.Performance.Appraisals.Commands.SubmitAppraisal.SubmitAppraisalCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 01:54:54.301 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__8__locals1_request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals1_request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 01:54:54.308 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 01:54:54.318 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 20), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (Size = 20), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] ([APPRAISAL_DATE], [CREATED_AT], [CREATED_BY], [CYCLE_ID], [EMPLOYEE_COMMENT], [EMPLOYEE_ID], [EVALUATOR_ID], [FINAL_SCORE], [GRADE], [IS_DELETED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[APPRAISAL_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-06 01:54:54.340 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 01:54:54.346 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 01:54:54.442 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 01:54:54.476 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Size = 200), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (DbType = Int32), @p7='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p8='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 200), @p15='?' (DbType = DateTime2), @p16='?' (Size = 50), @p17='?' (Size = 1) (DbType = Byte), @p18='?' (DbType = Int32), @p19='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = DateTime2), @p22='?' (Size = 50), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PERFORMANCE].[APPRAISAL_DETAILS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1)) AS i ([ACTUAL_VALUE], [APPRAISAL_ID], [COMMENTS], [CREATED_AT], [CREATED_BY], [IS_DELETED], [KPI_ID], [SCORE], [TARGET_VALUE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_VALUE], [APPRAISAL_ID], [COMMENTS], [CREATED_AT], [CREATED_BY], [IS_DELETED], [KPI_ID], [SCORE], [TARGET_VALUE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_VALUE], i.[APPRAISAL_ID], i.[COMMENTS], i.[CREATED_AT], i.[CREATED_BY], i.[IS_DELETED], i.[KPI_ID], i.[SCORE], i.[TARGET_VALUE], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[DETAIL_ID], i._Position;
2026-02-06 01:54:54.492 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 01:54:54.508 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-06 01:54:54.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 01:54:54.521 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API) in 259.3359ms
2026-02-06 01:54:54.524 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-06 01:54:54.525 +03:00 [INF] HTTP POST /api/Performance/appraisals responded 200 in 286.8955 ms
2026-02-06 01:54:54.528 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Performance/appraisals - 200 null application/json; charset=utf-8 389.6127ms
2026-02-06 02:01:01.986 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/disciplinary-actions - null null
2026-02-06 02:01:02.004 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActions (HRMS.API)'
2026-02-06 02:01:02.086 +03:00 [INF] Route matched with {action = "GetDisciplinaryActions", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDisciplinaryActions() on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 02:01:02.165 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[ACTION_ID], [d].[ACTION_NAME_AR], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEDUCTION_DAYS], [d].[IS_DELETED], [d].[IS_TERMINATION], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
ORDER BY [d].[DEDUCTION_DAYS]
2026-02-06 02:01:02.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.DisciplinaryActionDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:01:02.269 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActions (HRMS.API) in 178.1811ms
2026-02-06 02:01:02.290 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActions (HRMS.API)'
2026-02-06 02:01:02.298 +03:00 [INF] HTTP GET /api/Performance/config/disciplinary-actions responded 200 in 294.5100 ms
2026-02-06 02:01:02.301 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/disciplinary-actions - 200 null application/json; charset=utf-8 315.221ms
2026-02-06 02:01:15.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/disciplinary-actions/3 - null null
2026-02-06 02:01:15.471 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActionById (HRMS.API)'
2026-02-06 02:01:15.489 +03:00 [INF] Route matched with {action = "GetDisciplinaryActionById", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDisciplinaryActionById(Int32) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 02:01:15.533 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ActionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[ACTION_ID], [d].[ACTION_NAME_AR], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEDUCTION_DAYS], [d].[IS_DELETED], [d].[IS_TERMINATION], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
WHERE [d].[ACTION_ID] = @__request_ActionId_0
2026-02-06 02:01:15.538 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Performance.DisciplinaryActionDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 02:01:15.545 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActionById (HRMS.API) in 52.9089ms
2026-02-06 02:01:15.556 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActionById (HRMS.API)'
2026-02-06 02:01:15.558 +03:00 [INF] HTTP GET /api/Performance/config/disciplinary-actions/3 responded 400 in 86.6662 ms
2026-02-06 02:01:15.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/disciplinary-actions/3 - 400 null application/json; charset=utf-8 180.6412ms
2026-02-06 02:01:24.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/disciplinary-actions/2 - null null
2026-02-06 02:01:24.260 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActionById (HRMS.API)'
2026-02-06 02:01:24.264 +03:00 [INF] Route matched with {action = "GetDisciplinaryActionById", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDisciplinaryActionById(Int32) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 02:01:24.567 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_ActionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[ACTION_ID], [d].[ACTION_NAME_AR], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEDUCTION_DAYS], [d].[IS_DELETED], [d].[IS_TERMINATION], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
WHERE [d].[ACTION_ID] = @__request_ActionId_0
2026-02-06 02:01:24.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Performance.DisciplinaryActionDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 02:01:24.578 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActionById (HRMS.API) in 22.9163ms
2026-02-06 02:01:24.585 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetDisciplinaryActionById (HRMS.API)'
2026-02-06 02:01:24.587 +03:00 [INF] HTTP GET /api/Performance/config/disciplinary-actions/2 responded 200 in 326.9447 ms
2026-02-06 02:01:24.589 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/disciplinary-actions/2 - 200 null application/json; charset=utf-8 340.5096ms
2026-02-06 02:01:37.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/kpis - null null
2026-02-06 02:01:37.335 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API)'
2026-02-06 02:01:37.347 +03:00 [INF] Route matched with {action = "GetKpis", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetKpis() on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 02:01:37.385 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[KPI_ID], [k].[CATEGORY], [k].[CREATED_AT], [k].[CREATED_BY], [k].[IS_DELETED], [k].[KPI_DESCRIPTION], [k].[KPI_NAME_AR], [k].[MEASUREMENT_UNIT], [k].[UPDATED_AT], [k].[UPDATED_BY], [k].[VERSION_NO]
FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
ORDER BY [k].[CATEGORY], [k].[KPI_NAME_AR]
2026-02-06 02:01:37.411 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.KpiDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:01:37.422 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API) in 58.2987ms
2026-02-06 02:01:37.424 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API)'
2026-02-06 02:01:37.426 +03:00 [INF] HTTP GET /api/Performance/config/kpis responded 200 in 91.6147 ms
2026-02-06 02:01:37.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/kpis - 200 null application/json; charset=utf-8 97.9673ms
2026-02-06 02:02:04.582 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Performance/config/appraisal-cycles - null null
2026-02-06 02:02:04.607 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalCycles (HRMS.API)'
2026-02-06 02:02:04.621 +03:00 [INF] Route matched with {action = "GetAppraisalCycles", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppraisalCycles() on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-06 02:02:04.631 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[CYCLE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[CYCLE_NAME_AR], [a].[END_DATE], [a].[IS_ACTIVE], [a].[IS_DELETED], [a].[START_DATE], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VERSION_NO]
FROM [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a]
ORDER BY [a].[START_DATE] DESC
2026-02-06 02:02:04.634 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.AppraisalCycleDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:02:04.641 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalCycles (HRMS.API) in 17.5978ms
2026-02-06 02:02:04.643 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisalCycles (HRMS.API)'
2026-02-06 02:02:04.644 +03:00 [INF] HTTP GET /api/Performance/config/appraisal-cycles responded 200 in 37.8226 ms
2026-02-06 02:02:04.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Performance/config/appraisal-cycles - 200 null application/json; charset=utf-8 64.7437ms
2026-02-06 02:06:41.311 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 254
2026-02-06 02:06:41.316 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:06:41.317 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:06:41.330 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:07:00.990 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 19658.0046ms
2026-02-06 02:07:01.038 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:07:01.097 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate(CreateCandidateCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 170
   at lambda_method2031(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:07:01.117 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 400 in 19801.2383 ms
2026-02-06 02:07:01.121 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 400 null application/json 19809.2921ms
2026-02-06 02:07:24.081 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 243
2026-02-06 02:07:24.090 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:07:24.092 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:07:24.093 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:07:37.753 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 13657.2103ms
2026-02-06 02:07:37.853 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:07:37.905 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate(CreateCandidateCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 170
   at lambda_method2031(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:07:37.921 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 400 in 13830.9710 ms
2026-02-06 02:07:37.923 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 400 null application/json 13841.7261ms
2026-02-06 02:09:22.171 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 243
2026-02-06 02:09:22.174 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:09:22.177 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:09:22.178 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:09:29.118 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 6936.9421ms
2026-02-06 02:09:29.123 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:09:29.181 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- FullNameEn: Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ø·Ù„ÙˆØ¨ Severity: Error
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- FullNameEn: Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ø·Ù„ÙˆØ¨ Severity: Error
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate(CreateCandidateCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 170
   at lambda_method2031(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:09:29.199 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 400 in 7025.0784 ms
2026-02-06 02:09:29.201 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 400 null application/json 7030.1122ms
2026-02-06 02:10:10.065 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 243
2026-02-06 02:10:10.069 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:10:10.071 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:10:10.073 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:10:36.230 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 26153.2324ms
2026-02-06 02:10:36.268 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:10:36.317 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate(CreateCandidateCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 170
   at lambda_method2031(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:10:36.338 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 400 in 26269.0339 ms
2026-02-06 02:10:36.340 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 400 null application/json 26275.1393ms
2026-02-06 02:10:45.021 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 239
2026-02-06 02:10:45.025 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:10:45.026 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:10:45.027 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:10:48.879 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 3849.1237ms
2026-02-06 02:10:49.023 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:10:49.077 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate(CreateCandidateCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 170
   at lambda_method2031(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:10:49.103 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 400 in 4078.0431 ms
2026-02-06 02:10:49.104 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 400 null application/json 4083.6755ms
2026-02-06 02:10:55.666 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 239
2026-02-06 02:10:55.670 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:10:55.671 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:10:55.673 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:11:47.022 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 51345.9666ms
2026-02-06 02:11:47.026 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:11:47.076 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- LinkedinProfile: Ø±Ø§Ø¨Ø· LinkedIn ØºÙŠØ± ØµØ§Ù„Ø­ Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate(CreateCandidateCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 170
   at lambda_method2031(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:11:47.094 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 400 in 51424.0047 ms
2026-02-06 02:11:47.131 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 400 null application/json 51464.6135ms
2026-02-06 02:13:20.123 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 255
2026-02-06 02:13:20.127 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:13:20.129 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:13:20.131 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:13:20.276 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_RECRUITMENT].[CANDIDATES] AS [c]
        WHERE [c].[EMAIL] = @__request_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:13:20.294 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_NationalityId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_CORE].[COUNTRIES] AS [c]
        WHERE [c].[COUNTRY_ID] = @__request_NationalityId_Value_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:13:20.302 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:13:20.303 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 168.6976ms
2026-02-06 02:13:20.305 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:13:20.307 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 400 in 179.1966 ms
2026-02-06 02:13:20.309 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 400 null application/json; charset=utf-8 186.3724ms
2026-02-06 02:13:35.113 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 255
2026-02-06 02:13:35.116 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:13:35.117 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:13:35.119 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:13:35.131 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_RECRUITMENT].[CANDIDATES] AS [c]
        WHERE [c].[EMAIL] = @__request_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:13:35.139 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_NationalityId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_CORE].[COUNTRIES] AS [c]
        WHERE [c].[COUNTRY_ID] = @__request_NationalityId_Value_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:13:35.147 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:13:35.150 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 27.9984ms
2026-02-06 02:13:35.155 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:13:35.159 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 400 in 42.4676 ms
2026-02-06 02:13:35.165 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 400 null application/json; charset=utf-8 52.4201ms
2026-02-06 02:13:44.617 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - application/json 255
2026-02-06 02:13:44.621 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:13:44.622 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:13:44.623 +03:00 [INF] Route matched with {action = "CreateCandidate", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateCandidate(HRMS.Application.Features.Recruitment.Candidates.Commands.Create.CreateCandidateCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:13:44.633 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_RECRUITMENT].[CANDIDATES] AS [c]
        WHERE [c].[EMAIL] = @__request_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:13:44.642 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_NationalityId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_CORE].[COUNTRIES] AS [c]
        WHERE [c].[COUNTRY_ID] = @__request_NationalityId_Value_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:13:44.752 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 500), @p3='?' (Size = 100), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (Size = 200), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 200), @p9='?' (DbType = Int32), @p10='?' (Size = 20), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_RECRUITMENT].[CANDIDATES] ([CREATED_AT], [CREATED_BY], [CV_FILE_PATH], [EMAIL], [FAMILY_NAME_AR], [FIRST_NAME_AR], [FULL_NAME_EN], [IS_DELETED], [LINKEDIN_PROFILE], [NATIONALITY_ID], [PHONE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[CANDIDATE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-06 02:13:44.764 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 02:13:44.768 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:13:44.770 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API) in 142.7866ms
2026-02-06 02:13:44.772 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateCandidate (HRMS.API)'
2026-02-06 02:13:44.773 +03:00 [INF] HTTP POST /api/Recruitment/candidates responded 200 in 152.5594 ms
2026-02-06 02:13:44.775 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/candidates - 200 null application/json; charset=utf-8 158.2476ms
2026-02-06 02:15:19.009 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/vacancies - application/json 287
2026-02-06 02:15:19.014 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:15:19.015 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-02-06 02:15:19.017 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-06 02:15:19.018 +03:00 [INF] HTTP POST /api/Recruitment/vacancies responded 401 in 4.2617 ms
2026-02-06 02:15:19.020 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/vacancies - 401 0 null 10.8151ms
2026-02-06 02:16:01.940 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 74
2026-02-06 02:16:01.943 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:16:01.945 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-06 02:16:01.960 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Auth.AuthResponse]]] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-02-06 02:16:01.982 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-06 02:16:02.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-06 02:16:02.197 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 02:16:02.223 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-06 02:16:02.241 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-06 02:16:02.247 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-06 02:16:02.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 02:16:02.261 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-06 02:16:02.271 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 02:16:02.276 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 312.5333ms
2026-02-06 02:16:02.278 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-06 02:16:02.279 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 335.9291 ms
2026-02-06 02:16:02.282 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 342.0444ms
2026-02-06 02:16:51.365 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/vacancies - application/json 287
2026-02-06 02:16:51.369 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:16:51.370 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateJobVacancy (HRMS.API)'
2026-02-06 02:16:51.383 +03:00 [INF] Route matched with {action = "CreateJobVacancy", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateJobVacancy(HRMS.Application.Features.Recruitment.Vacancies.Commands.Create.CreateVacancyCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:16:51.682 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__request_JobId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_CORE].[JOBS] AS [j]
        WHERE [j].[JOB_ID] = @__request_JobId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:16:51.705 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_DepartmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_CORE].[DEPARTMENTS] AS [d]
        WHERE [d].[DEPT_ID] = @__request_DepartmentId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:16:51.807 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int16), @p9='?' (Size = 4000), @p10='?' (Size = 20), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_RECRUITMENT].[JOB_VACANCIES] ([CLOSING_DATE], [CREATED_AT], [CREATED_BY], [DEPT_ID], [IS_DELETED], [JOB_DESCRIPTION], [JOB_ID], [PUBLISH_DATE], [REQUIRED_COUNT], [REQUIREMENTS], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[VACANCY_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-06 02:16:51.825 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 02:16:51.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:16:51.832 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateJobVacancy (HRMS.API) in 445.4128ms
2026-02-06 02:16:51.834 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateJobVacancy (HRMS.API)'
2026-02-06 02:16:51.836 +03:00 [INF] HTTP POST /api/Recruitment/vacancies responded 200 in 466.8613 ms
2026-02-06 02:16:51.838 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/vacancies - 200 null application/json; charset=utf-8 472.4733ms
2026-02-06 02:17:59.129 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/applications - application/json 67
2026-02-06 02:17:59.137 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:17:59.139 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.SubmitJobApplication (HRMS.API)'
2026-02-06 02:17:59.192 +03:00 [INF] Route matched with {action = "SubmitJobApplication", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitJobApplication(HRMS.Application.Features.Recruitment.Applications.Commands.Submit.SubmitApplicationCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:17:59.264 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_VacancyId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[VACANCY_ID], [j].[CLOSING_DATE], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEPT_ID], [j].[IS_DELETED], [j].[JOB_DESCRIPTION], [j].[JOB_ID], [j].[PUBLISH_DATE], [j].[REQUIRED_COUNT], [j].[REQUIREMENTS], [j].[STATUS], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM [HR_RECRUITMENT].[JOB_VACANCIES] AS [j]
WHERE [j].[VACANCY_ID] = @__request_VacancyId_0
2026-02-06 02:17:59.289 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_CandidateId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_RECRUITMENT].[CANDIDATES] AS [c]
        WHERE [c].[CANDIDATE_ID] = @__request_CandidateId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:17:59.320 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_CandidateId_0='?' (DbType = Int32), @__request_VacancyId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_RECRUITMENT].[APPLICATIONS] AS [a]
        WHERE [a].[CANDIDATE_ID] = @__request_CandidateId_0 AND [a].[VACANCY_ID] = @__request_VacancyId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:17:59.467 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 200), @p6='?' (Size = 50), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_RECRUITMENT].[APPLICATIONS] ([APPLICATION_DATE], [CANDIDATE_ID], [CREATED_AT], [CREATED_BY], [IS_DELETED], [REJECTION_REASON], [RX_SOURCE], [STATUS], [UPDATED_AT], [UPDATED_BY], [VACANCY_ID], [VERSION_NO])
OUTPUT INSERTED.[APP_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-06 02:17:59.482 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 02:17:59.487 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:17:59.490 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.SubmitJobApplication (HRMS.API) in 279.3556ms
2026-02-06 02:17:59.493 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.SubmitJobApplication (HRMS.API)'
2026-02-06 02:17:59.494 +03:00 [INF] HTTP POST /api/Recruitment/applications responded 200 in 357.1452 ms
2026-02-06 02:17:59.497 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/applications - 200 null application/json; charset=utf-8 367.8794ms
2026-02-06 02:20:54.445 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/interviews - application/json 134
2026-02-06 02:20:54.455 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:20:54.460 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API)'
2026-02-06 02:20:54.475 +03:00 [INF] Route matched with {action = "ScheduleInterview", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ScheduleInterview(HRMS.Application.Features.Recruitment.Interviews.Commands.Schedule.ScheduleInterviewCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:21:13.840 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API) in 19359.282ms
2026-02-06 02:21:13.864 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API)'
2026-02-06 02:21:13.922 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- InterviewType: Ù†ÙˆØ¹ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ†: IN_PERSON, ONLINE, PHONE Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- InterviewType: Ù†ÙˆØ¹ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ†: IN_PERSON, ONLINE, PHONE Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview(ScheduleInterviewCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 292
   at lambda_method2589(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:21:13.947 +03:00 [INF] HTTP POST /api/Recruitment/interviews responded 400 in 19491.9854 ms
2026-02-06 02:21:13.949 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/interviews - 400 null application/json 19504.6614ms
2026-02-06 02:21:26.989 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/interviews - application/json 122
2026-02-06 02:21:26.992 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:21:26.994 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API)'
2026-02-06 02:21:26.995 +03:00 [INF] Route matched with {action = "ScheduleInterview", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ScheduleInterview(HRMS.Application.Features.Recruitment.Interviews.Commands.Schedule.ScheduleInterviewCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:21:27.313 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_AppId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO]
FROM [HR_RECRUITMENT].[APPLICATIONS] AS [a]
WHERE [a].[APP_ID] = @__request_AppId_0
2026-02-06 02:21:27.332 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:21:27.335 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API) in 337.5686ms
2026-02-06 02:21:27.337 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API)'
2026-02-06 02:21:27.338 +03:00 [INF] HTTP POST /api/Recruitment/interviews responded 400 in 345.3841 ms
2026-02-06 02:21:27.340 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/interviews - 400 null application/json; charset=utf-8 350.5238ms
2026-02-06 02:22:13.247 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/interviews - application/json 122
2026-02-06 02:22:13.251 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:22:13.252 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API)'
2026-02-06 02:22:13.254 +03:00 [INF] Route matched with {action = "ScheduleInterview", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ScheduleInterview(HRMS.Application.Features.Recruitment.Interviews.Commands.Schedule.ScheduleInterviewCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:22:13.263 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_AppId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO]
FROM [HR_RECRUITMENT].[APPLICATIONS] AS [a]
WHERE [a].[APP_ID] = @__request_AppId_0
2026-02-06 02:22:13.267 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:22:13.269 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API) in 12.2161ms
2026-02-06 02:22:13.271 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API)'
2026-02-06 02:22:13.273 +03:00 [INF] HTTP POST /api/Recruitment/interviews responded 400 in 21.9043 ms
2026-02-06 02:22:13.275 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/interviews - 400 null application/json; charset=utf-8 28.2217ms
2026-02-06 02:26:54.992 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Recruitment/applications/1/status - application/json 119
2026-02-06 02:26:55.013 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:26:55.065 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API)'
2026-02-06 02:26:55.095 +03:00 [INF] Route matched with {action = "ChangeApplicationStatus", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] ChangeApplicationStatus(Int32, HRMS.Application.Features.Recruitment.Applications.Commands.ChangeStatus.ChangeApplicationStatusCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:27:12.887 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API) in 17780.1766ms
2026-02-06 02:27:12.893 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API)'
2026-02-06 02:27:12.947 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- NewStatus: Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø© Severity: Error
 -- NewStatus: Ø§Ù„Ø­Ø§Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†: APPLIED, SHORTLISTED, REJECTED Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- NewStatus: Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø© Severity: Error
 -- NewStatus: Ø§Ù„Ø­Ø§Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†: APPLIED, SHORTLISTED, REJECTED Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus(Int32 id, ChangeApplicationStatusCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 277
   at lambda_method2610(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:27:12.963 +03:00 [INF] HTTP PUT /api/Recruitment/applications/1/status responded 400 in 17949.4909 ms
2026-02-06 02:27:12.964 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Recruitment/applications/1/status - 400 null application/json 17972.7204ms
2026-02-06 02:27:19.874 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Recruitment/applications/1/status - application/json 119
2026-02-06 02:27:19.879 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:27:19.880 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API)'
2026-02-06 02:27:19.881 +03:00 [INF] Route matched with {action = "ChangeApplicationStatus", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] ChangeApplicationStatus(Int32, HRMS.Application.Features.Recruitment.Applications.Commands.ChangeStatus.ChangeApplicationStatusCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:27:50.637 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API) in 30752.67ms
2026-02-06 02:27:50.647 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API)'
2026-02-06 02:27:50.739 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- NewStatus: Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø© Severity: Error
 -- NewStatus: Ø§Ù„Ø­Ø§Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†: APPLIED, SHORTLISTED, REJECTED Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- NewStatus: Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø© Severity: Error
 -- NewStatus: Ø§Ù„Ø­Ø§Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†: APPLIED, SHORTLISTED, REJECTED Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus(Int32 id, ChangeApplicationStatusCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 277
   at lambda_method2610(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:27:50.756 +03:00 [INF] HTTP PUT /api/Recruitment/applications/1/status responded 400 in 30877.1416 ms
2026-02-06 02:27:50.798 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Recruitment/applications/1/status - 400 null application/json 30924.3107ms
2026-02-06 02:28:24.413 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Recruitment/applications - null null
2026-02-06 02:28:24.417 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.GetJobApplications (HRMS.API)'
2026-02-06 02:28:24.431 +03:00 [INF] Route matched with {action = "GetJobApplications", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJobApplications(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:28:24.877 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO], [c].[CANDIDATE_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[CV_FILE_PATH], [c].[EMAIL], [c].[FAMILY_NAME_AR], [c].[FIRST_NAME_AR], [c].[FULL_NAME_EN], [c].[IS_DELETED], [c].[LINKEDIN_PROFILE], [c].[NATIONALITY_ID], [c].[PHONE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], [j].[VACANCY_ID], [j].[CLOSING_DATE], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEPT_ID], [j].[IS_DELETED], [j].[JOB_DESCRIPTION], [j].[JOB_ID], [j].[PUBLISH_DATE], [j].[REQUIRED_COUNT], [j].[REQUIREMENTS], [j].[STATUS], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [j0].[JOB_ID], [j0].[CREATED_AT], [j0].[CREATED_BY], [j0].[DEFAULT_GRADE_ID], [j0].[DepartmentDeptId], [j0].[IS_DELETED], [j0].[IS_MEDICAL], [j0].[JOB_TITLE_AR], [j0].[JOB_TITLE_EN], [j0].[UPDATED_AT], [j0].[UPDATED_BY], [j0].[VERSION_NO]
FROM [HR_RECRUITMENT].[APPLICATIONS] AS [a]
INNER JOIN [HR_RECRUITMENT].[CANDIDATES] AS [c] ON [a].[CANDIDATE_ID] = [c].[CANDIDATE_ID]
INNER JOIN [HR_RECRUITMENT].[JOB_VACANCIES] AS [j] ON [a].[VACANCY_ID] = [j].[VACANCY_ID]
INNER JOIN [HR_CORE].[JOBS] AS [j0] ON [j].[JOB_ID] = [j0].[JOB_ID]
ORDER BY [a].[APPLICATION_DATE] DESC
2026-02-06 02:28:24.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Recruitment.JobApplicationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:28:24.988 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.GetJobApplications (HRMS.API) in 519.7183ms
2026-02-06 02:28:24.991 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.GetJobApplications (HRMS.API)'
2026-02-06 02:28:24.993 +03:00 [INF] HTTP GET /api/Recruitment/applications responded 200 in 575.7783 ms
2026-02-06 02:28:24.997 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Recruitment/applications - 200 null application/json; charset=utf-8 583.5848ms
2026-02-06 02:31:06.506 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Recruitment/applications/1/status - application/json 105
2026-02-06 02:31:06.934 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:31:06.936 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API)'
2026-02-06 02:31:06.944 +03:00 [INF] Route matched with {action = "ChangeApplicationStatus", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] ChangeApplicationStatus(Int32, HRMS.Application.Features.Recruitment.Applications.Commands.ChangeStatus.ChangeApplicationStatusCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:31:06.972 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_AppId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO]
FROM [HR_RECRUITMENT].[APPLICATIONS] AS [a]
WHERE [a].[APP_ID] = @__request_AppId_0
2026-02-06 02:31:07.061 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 20), @p5='?' (Size = 50), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int64), @p11='?' (Size = 100), @p12='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [HR_RECRUITMENT].[APPLICATIONS] SET [STATUS] = @p0, [UPDATED_AT] = @p1
OUTPUT 1
WHERE [APP_ID] = @p2 AND [VERSION_NO] = @p3;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-02-06 02:31:07.098 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:31:07.105 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API) in 158.7536ms
2026-02-06 02:31:07.107 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ChangeApplicationStatus (HRMS.API)'
2026-02-06 02:31:07.109 +03:00 [INF] HTTP PUT /api/Recruitment/applications/1/status responded 200 in 175.4392 ms
2026-02-06 02:31:07.111 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Recruitment/applications/1/status - 200 null application/json; charset=utf-8 605.0804ms
2026-02-06 02:33:53.495 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/interviews - application/json 122
2026-02-06 02:33:53.540 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:33:53.541 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API)'
2026-02-06 02:33:53.542 +03:00 [INF] Route matched with {action = "ScheduleInterview", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ScheduleInterview(HRMS.Application.Features.Recruitment.Interviews.Commands.Schedule.ScheduleInterviewCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:33:53.552 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_AppId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO]
FROM [HR_RECRUITMENT].[APPLICATIONS] AS [a]
WHERE [a].[APP_ID] = @__request_AppId_0
2026-02-06 02:33:53.573 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_InterviewerId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_InterviewerId_Value_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:33:53.682 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 4000), @p4='?' (Size = 20), @p5='?' (DbType = Int32), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (DbType = Byte), @p8='?' (Size = 20), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_RECRUITMENT].[INTERVIEWS] ([APP_ID], [CREATED_AT], [CREATED_BY], [FEEDBACK], [INTERVIEW_TYPE], [INTERVIEWER_ID], [IS_DELETED], [RATING], [RESULT], [SCHEDULED_TIME], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[INTERVIEW_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-02-06 02:33:53.700 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 02:33:53.707 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:33:53.709 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API) in 164.6721ms
2026-02-06 02:33:53.712 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.ScheduleInterview (HRMS.API)'
2026-02-06 02:33:53.714 +03:00 [INF] HTTP POST /api/Recruitment/interviews responded 200 in 174.0808 ms
2026-02-06 02:33:53.716 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/interviews - 200 null application/json; charset=utf-8 220.6369ms
2026-02-06 02:37:15.285 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Recruitment/interviews/1/result - application/json 165
2026-02-06 02:37:15.289 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:37:15.290 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.RecordInterviewResult (HRMS.API)'
2026-02-06 02:37:15.303 +03:00 [INF] Route matched with {action = "RecordInterviewResult", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] RecordInterviewResult(Int32, HRMS.Application.Features.Recruitment.Interviews.Commands.RecordResult.RecordInterviewResultCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:37:24.053 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.RecordInterviewResult (HRMS.API) in 8746.8481ms
2026-02-06 02:37:24.059 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.RecordInterviewResult (HRMS.API)'
2026-02-06 02:37:24.111 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- Result: Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†: PASS Ø£Ùˆ FAIL Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- Result: Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†: PASS Ø£Ùˆ FAIL Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Recruitment.RecruitmentController.RecordInterviewResult(Int32 id, RecordInterviewResultCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Recruitment\RecruitmentController.cs:line 316
   at lambda_method2905(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-06 02:37:24.131 +03:00 [INF] HTTP PUT /api/Recruitment/interviews/1/result responded 400 in 8842.1643 ms
2026-02-06 02:37:24.133 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Recruitment/interviews/1/result - 400 null application/json 8847.2746ms
2026-02-06 02:37:32.075 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Recruitment/interviews/1/result - application/json 163
2026-02-06 02:37:32.078 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:37:32.079 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.RecordInterviewResult (HRMS.API)'
2026-02-06 02:37:32.081 +03:00 [INF] Route matched with {action = "RecordInterviewResult", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] RecordInterviewResult(Int32, HRMS.Application.Features.Recruitment.Interviews.Commands.RecordResult.RecordInterviewResultCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:37:32.153 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_InterviewId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[INTERVIEW_ID], [i].[APP_ID], [i].[CREATED_AT], [i].[CREATED_BY], [i].[FEEDBACK], [i].[INTERVIEW_TYPE], [i].[INTERVIEWER_ID], [i].[IS_DELETED], [i].[RATING], [i].[RESULT], [i].[SCHEDULED_TIME], [i].[UPDATED_AT], [i].[UPDATED_BY], [i].[VERSION_NO], [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO]
FROM [HR_RECRUITMENT].[INTERVIEWS] AS [i]
INNER JOIN [HR_RECRUITMENT].[APPLICATIONS] AS [a] ON [i].[APP_ID] = [a].[APP_ID]
WHERE [i].[INTERVIEW_ID] = @__request_InterviewId_0
2026-02-06 02:37:32.172 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p13='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 1) (DbType = Byte), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [HR_RECRUITMENT].[INTERVIEWS] SET [FEEDBACK] = @p9, [RATING] = @p10, [RESULT] = @p11, [UPDATED_AT] = @p12
OUTPUT 1
WHERE [INTERVIEW_ID] = @p13 AND [VERSION_NO] = @p14;
2026-02-06 02:37:32.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:37:32.182 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.RecordInterviewResult (HRMS.API) in 98.7052ms
2026-02-06 02:37:32.184 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.RecordInterviewResult (HRMS.API)'
2026-02-06 02:37:32.186 +03:00 [INF] HTTP PUT /api/Recruitment/interviews/1/result responded 200 in 107.8838 ms
2026-02-06 02:37:32.188 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Recruitment/interviews/1/result - 200 null application/json; charset=utf-8 113.2489ms
2026-02-06 02:41:38.579 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/offers - application/json 237
2026-02-06 02:41:38.599 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:41:38.601 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateJobOffer (HRMS.API)'
2026-02-06 02:41:38.624 +03:00 [INF] Route matched with {action = "CreateJobOffer", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateJobOffer(HRMS.Application.Features.Recruitment.Offers.Commands.Create.CreateOfferCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:41:38.730 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_AppId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO]
FROM [HR_RECRUITMENT].[APPLICATIONS] AS [a]
WHERE [a].[APP_ID] = @__request_AppId_0
2026-02-06 02:41:38.769 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_AppId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_RECRUITMENT].[INTERVIEWS] AS [i]
        WHERE [i].[APP_ID] = @__request_AppId_0 AND [i].[RESULT] = N'PASS') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:41:38.789 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_JobGradeId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_CORE].[JOB_GRADES] AS [j]
        WHERE [j].[JOB_GRADE_ID] = @__request_JobGradeId_Value_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-06 02:41:38.918 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 20), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_RECRUITMENT].[OFFERS] ([APP_ID], [BASIC_SALARY], [CREATED_AT], [CREATED_BY], [HOUSING_ALLOWANCE], [IS_DELETED], [JOINING_DATE], [OFFER_DATE], [STATUS], [TRANSPORT_ALLOWANCE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[OFFER_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-02-06 02:41:38.937 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-06 02:41:38.950 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:41:38.953 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.CreateJobOffer (HRMS.API) in 299.8244ms
2026-02-06 02:41:38.956 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.CreateJobOffer (HRMS.API)'
2026-02-06 02:41:38.958 +03:00 [INF] HTTP POST /api/Recruitment/offers responded 200 in 358.6012 ms
2026-02-06 02:41:38.964 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/offers - 200 null application/json; charset=utf-8 385.2206ms
2026-02-06 02:44:10.847 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/offers/1/accept - application/json 95
2026-02-06 02:44:10.851 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:44:10.852 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.AcceptJobOffer (HRMS.API)'
2026-02-06 02:44:10.868 +03:00 [INF] Route matched with {action = "AcceptJobOffer", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AcceptJobOffer(Int32, HRMS.Application.Features.Recruitment.Offers.Commands.AcceptJobOffer.AcceptJobOfferCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:44:11.007 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_OfferId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OFFER_ID], [o].[APP_ID], [o].[BASIC_SALARY], [o].[CREATED_AT], [o].[CREATED_BY], [o].[HOUSING_ALLOWANCE], [o].[IS_DELETED], [o].[JOINING_DATE], [o].[OFFER_DATE], [o].[STATUS], [o].[TRANSPORT_ALLOWANCE], [o].[UPDATED_AT], [o].[UPDATED_BY], [o].[VERSION_NO], [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO], [c].[CANDIDATE_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[CV_FILE_PATH], [c].[EMAIL], [c].[FAMILY_NAME_AR], [c].[FIRST_NAME_AR], [c].[FULL_NAME_EN], [c].[IS_DELETED], [c].[LINKEDIN_PROFILE], [c].[NATIONALITY_ID], [c].[PHONE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], [j].[VACANCY_ID], [j].[CLOSING_DATE], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEPT_ID], [j].[IS_DELETED], [j].[JOB_DESCRIPTION], [j].[JOB_ID], [j].[PUBLISH_DATE], [j].[REQUIRED_COUNT], [j].[REQUIREMENTS], [j].[STATUS], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM [HR_RECRUITMENT].[OFFERS] AS [o]
INNER JOIN [HR_RECRUITMENT].[APPLICATIONS] AS [a] ON [o].[APP_ID] = [a].[APP_ID]
INNER JOIN [HR_RECRUITMENT].[CANDIDATES] AS [c] ON [a].[CANDIDATE_ID] = [c].[CANDIDATE_ID]
INNER JOIN [HR_RECRUITMENT].[JOB_VACANCIES] AS [j] ON [a].[VACANCY_ID] = [j].[VACANCY_ID]
WHERE [o].[OFFER_ID] = @__request_OfferId_0 AND [o].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-06 02:44:11.323 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 02:44:11.358 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (Size = 20), @p15='?' (Size = 50), @p16='?' (Size = 200), @p17='?' (Size = 1), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (Size = 1) (DbType = Byte), @p21='?' (DbType = Int32), @p22='?' (Size = 50), @p23='?' (DbType = DateTime2), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 20), @p27='?' (Size = 20), @p28='?' (Size = 4000), @p29='?' (DbType = Int32), @p30='?' (Size = 500), @p31='?' (Size = 50), @p32='?' (Size = 100), @p33='?' (DbType = DateTime2), @p34='?' (Size = 50), @p35='?' (DbType = DateTime2), @p36='?' (Size = 50), @p37='?' (Size = 450), @p38='?' (DbType = Int32), @p42='?' (DbType = Int32), @p39='?' (DbType = DateTime2), @p40='?' (Size = 20), @p41='?' (DbType = DateTime2), @p43='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO [HR_PERSONNEL].[EMPLOYEES] ([BIRTH_DATE], [CREATED_AT], [CREATED_BY], [DEPARTMENT_ID], [EMAIL], [EMPLOYEE_NUMBER], [FIRST_NAME_AR], [FULL_NAME_EN], [GENDER], [HIRE_DATE], [IS_ACTIVE], [IS_DELETED], [JOB_ID], [LAST_NAME_AR], [LICENSE_EXPIRY_DATE], [LICENSE_NUMBER], [MANAGER_ID], [MARITAL_STATUS], [MOBILE], [NATIONAL_ID], [NATIONALITY_ID], [PROFILE_PICTURE_PATH], [SECOND_NAME_AR], [SPECIALTY], [TERMINATION_DATE], [THIRD_NAME_AR], [UPDATED_AT], [UPDATED_BY], [USER_ID], [VERSION_NO])
OUTPUT INSERTED.[EMPLOYEE_ID]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38);
UPDATE [HR_RECRUITMENT].[OFFERS] SET [JOINING_DATE] = @p39, [STATUS] = @p40, [UPDATED_AT] = @p41
OUTPUT 1
WHERE [OFFER_ID] = @p42 AND [VERSION_NO] = @p43;
2026-02-06 02:44:11.371 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_PERSONNEL.EMPLOYEES', column 'NATIONAL_ID'. Truncated value: 'TEMP-639059426510180'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee37102-8069-4f06-8a1f-3e58e2d2d9ce
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_PERSONNEL.EMPLOYEES', column 'NATIONAL_ID'. Truncated value: 'TEMP-639059426510180'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee37102-8069-4f06-8a1f-3e58e2d2d9ce
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-06 02:44:11.772 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:44:11.774 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.AcceptJobOffer (HRMS.API) in 901.7752ms
2026-02-06 02:44:11.776 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.AcceptJobOffer (HRMS.API)'
2026-02-06 02:44:11.778 +03:00 [INF] HTTP POST /api/Recruitment/offers/1/accept responded 400 in 927.8604 ms
2026-02-06 02:44:11.780 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/offers/1/accept - 400 null application/json; charset=utf-8 933.4146ms
2026-02-06 02:45:49.826 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Recruitment/offers/1/accept - application/json 95
2026-02-06 02:45:49.832 +03:00 [INF] CORS policy execution successful.
2026-02-06 02:45:49.834 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.AcceptJobOffer (HRMS.API)'
2026-02-06 02:45:49.836 +03:00 [INF] Route matched with {action = "AcceptJobOffer", controller = "Recruitment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] AcceptJobOffer(Int32, HRMS.Application.Features.Recruitment.Offers.Commands.AcceptJobOffer.AcceptJobOfferCommand) on controller HRMS.API.Controllers.Recruitment.RecruitmentController (HRMS.API).
2026-02-06 02:45:49.884 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__request_OfferId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OFFER_ID], [o].[APP_ID], [o].[BASIC_SALARY], [o].[CREATED_AT], [o].[CREATED_BY], [o].[HOUSING_ALLOWANCE], [o].[IS_DELETED], [o].[JOINING_DATE], [o].[OFFER_DATE], [o].[STATUS], [o].[TRANSPORT_ALLOWANCE], [o].[UPDATED_AT], [o].[UPDATED_BY], [o].[VERSION_NO], [a].[APP_ID], [a].[APPLICATION_DATE], [a].[CANDIDATE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[IS_DELETED], [a].[REJECTION_REASON], [a].[RX_SOURCE], [a].[STATUS], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VACANCY_ID], [a].[VERSION_NO], [c].[CANDIDATE_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[CV_FILE_PATH], [c].[EMAIL], [c].[FAMILY_NAME_AR], [c].[FIRST_NAME_AR], [c].[FULL_NAME_EN], [c].[IS_DELETED], [c].[LINKEDIN_PROFILE], [c].[NATIONALITY_ID], [c].[PHONE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], [j].[VACANCY_ID], [j].[CLOSING_DATE], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEPT_ID], [j].[IS_DELETED], [j].[JOB_DESCRIPTION], [j].[JOB_ID], [j].[PUBLISH_DATE], [j].[REQUIRED_COUNT], [j].[REQUIREMENTS], [j].[STATUS], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM [HR_RECRUITMENT].[OFFERS] AS [o]
INNER JOIN [HR_RECRUITMENT].[APPLICATIONS] AS [a] ON [o].[APP_ID] = [a].[APP_ID]
INNER JOIN [HR_RECRUITMENT].[CANDIDATES] AS [c] ON [a].[CANDIDATE_ID] = [c].[CANDIDATE_ID]
INNER JOIN [HR_RECRUITMENT].[JOB_VACANCIES] AS [j] ON [a].[VACANCY_ID] = [j].[VACANCY_ID]
WHERE [o].[OFFER_ID] = @__request_OfferId_0 AND [o].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-06 02:45:49.904 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-06 02:45:49.931 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (Size = 20), @p15='?' (Size = 50), @p16='?' (Size = 200), @p17='?' (Size = 1), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (Size = 1) (DbType = Byte), @p21='?' (DbType = Int32), @p22='?' (Size = 50), @p23='?' (DbType = DateTime2), @p24='?' (Size = 50), @p25='?' (DbType = Int32), @p26='?' (Size = 20), @p27='?' (Size = 20), @p28='?' (Size = 4000), @p29='?' (DbType = Int32), @p30='?' (Size = 500), @p31='?' (Size = 50), @p32='?' (Size = 100), @p33='?' (DbType = DateTime2), @p34='?' (Size = 50), @p35='?' (DbType = DateTime2), @p36='?' (Size = 50), @p37='?' (Size = 450), @p38='?' (DbType = Int32), @p43='?' (DbType = Int32), @p39='?' (DbType = DateTime2), @p40='?' (Size = 20), @p41='?' (DbType = DateTime2), @p42='?' (Size = 50), @p44='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO [HR_PERSONNEL].[EMPLOYEES] ([BIRTH_DATE], [CREATED_AT], [CREATED_BY], [DEPARTMENT_ID], [EMAIL], [EMPLOYEE_NUMBER], [FIRST_NAME_AR], [FULL_NAME_EN], [GENDER], [HIRE_DATE], [IS_ACTIVE], [IS_DELETED], [JOB_ID], [LAST_NAME_AR], [LICENSE_EXPIRY_DATE], [LICENSE_NUMBER], [MANAGER_ID], [MARITAL_STATUS], [MOBILE], [NATIONAL_ID], [NATIONALITY_ID], [PROFILE_PICTURE_PATH], [SECOND_NAME_AR], [SPECIALTY], [TERMINATION_DATE], [THIRD_NAME_AR], [UPDATED_AT], [UPDATED_BY], [USER_ID], [VERSION_NO])
OUTPUT INSERTED.[EMPLOYEE_ID]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38);
UPDATE [HR_RECRUITMENT].[OFFERS] SET [JOINING_DATE] = @p39, [STATUS] = @p40, [UPDATED_AT] = @p41, [UPDATED_BY] = @p42
OUTPUT 1
WHERE [OFFER_ID] = @p43 AND [VERSION_NO] = @p44;
2026-02-06 02:45:49.943 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_PERSONNEL.EMPLOYEES', column 'NATIONAL_ID'. Truncated value: 'TEMP-639059427499018'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee37102-8069-4f06-8a1f-3e58e2d2d9ce
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_PERSONNEL.EMPLOYEES', column 'NATIONAL_ID'. Truncated value: 'TEMP-639059427499018'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee37102-8069-4f06-8a1f-3e58e2d2d9ce
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-02-06 02:45:50.336 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 02:45:50.338 +03:00 [INF] Executed action HRMS.API.Controllers.Recruitment.RecruitmentController.AcceptJobOffer (HRMS.API) in 498.7414ms
2026-02-06 02:45:50.339 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Recruitment.RecruitmentController.AcceptJobOffer (HRMS.API)'
2026-02-06 02:45:50.340 +03:00 [INF] HTTP POST /api/Recruitment/offers/1/accept responded 400 in 508.5148 ms
2026-02-06 02:45:50.342 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Recruitment/offers/1/accept - 400 null application/json; charset=utf-8 516.0373ms
2026-02-06 03:30:01.970 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-02-06 03:30:10.935 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 03:30:13.673 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 03:30:13.676 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 03:30:13.678 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 03:30:13.680 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 03:30:22.731 +03:00 [INF] Executed DbCommand (253ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 03:30:22.940 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 03:30:22.945 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 03:30:22.989 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 03:30:23.113 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-02-06 03:30:23.123 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-02-06 03:30:23.865 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-06 03:30:23.866 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-06 03:30:24.068 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 03:30:24.069 +03:00 [INF] Hosting environment: Development
2026-02-06 03:30:24.070 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-06 03:30:25.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 03:30:30.227 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 4179.5220 ms
2026-02-06 03:30:30.521 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 03:30:31.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 03:30:32.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1735.8228ms
2026-02-06 03:30:32.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 6815.5623ms
2026-02-06 03:30:32.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1068.5304ms
2026-02-06 03:30:33.855 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 03:30:34.687 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 814.4478 ms
2026-02-06 03:30:34.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 976.893ms
2026-02-06 03:32:52.677 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-02-06 03:32:53.458 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-06 03:34:19.483 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-02-06 03:34:20.169 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-06 03:35:46.199 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-02-06 03:35:49.207 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 03:35:52.739 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 03:35:52.755 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 03:35:52.758 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 03:35:52.873 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 03:35:55.659 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 03:35:55.931 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 03:35:55.938 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 03:35:55.982 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 03:35:56.155 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-02-06 03:35:56.179 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-02-06 03:35:56.789 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-06 03:35:56.791 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-06 03:35:57.027 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 03:35:57.029 +03:00 [INF] Hosting environment: Development
2026-02-06 03:35:57.030 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-06 03:35:58.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 03:36:00.486 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 771.7869 ms
2026-02-06 03:36:00.668 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 03:36:01.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 03:36:01.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 3592.2844ms
2026-02-06 03:36:01.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1267.3381ms
2026-02-06 03:36:02.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1259.9228ms
2026-02-06 03:36:04.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 03:36:06.866 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 676.6518 ms
2026-02-06 03:36:06.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2557.6479ms
2026-02-06 21:49:15.045 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-02-06 21:49:24.715 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 21:49:30.441 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 21:49:30.504 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 21:49:30.506 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 21:49:30.508 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-06 21:49:46.110 +03:00 [INF] Executed DbCommand (7,773ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 21:49:46.727 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 21:49:48.148 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-06 21:49:51.064 +03:00 [INF] Executed DbCommand (806ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-06 21:49:53.547 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-02-06 21:49:55.581 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-02-06 21:49:59.662 +03:00 [INF] Now listening on: https://localhost:5001
2026-02-06 21:50:00.466 +03:00 [INF] Now listening on: http://localhost:5000
2026-02-06 21:50:00.757 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 21:50:05.151 +03:00 [INF] Hosting environment: Development
2026-02-06 21:50:07.941 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-02-06 21:50:08.750 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-06 21:50:19.984 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 7186.3990 ms
2026-02-06 21:50:21.313 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-02-06 21:50:21.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 21:50:27.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 20005.062ms
2026-02-06 21:50:37.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 16566.4001ms
2026-02-06 21:50:38.060 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16747.0924ms
2026-02-06 21:50:42.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 21:50:50.292 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 541.3506 ms
2026-02-06 21:50:52.103 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9788.2717ms
2026-02-06 22:21:43.492 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 22:21:43.536 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 50.6978ms
2026-02-06 22:21:45.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-02-06 22:21:46.749 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 826.6709 ms
2026-02-06 22:21:46.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 890.3317ms
2026-02-06 22:30:03.162 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/DocumentTypes - null null
2026-02-06 22:30:03.232 +03:00 [INF] CORS policy execution successful.
2026-02-06 22:30:03.271 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API)'
2026-02-06 22:30:03.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/leave-types - null null
2026-02-06 22:30:03.348 +03:00 [INF] CORS policy execution successful.
2026-02-06 22:30:03.352 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-06 22:30:03.445 +03:00 [INF] Route matched with {action = "GetAllLeaveTypes", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveTypeDto]]]] GetAllLeaveTypes() on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-02-06 22:30:03.453 +03:00 [INF] Route matched with {action = "GetAll", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.DocumentTypes.Queries.GetAllDocumentTypes.GetAllDocumentTypesQuery) on controller HRMS.API.Controllers.Core.DocumentTypesController (HRMS.API).
2026-02-06 22:30:04.051 +03:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID] AS [LeaveTypeId], [l].[LEAVE_NAME_AR] AS [LeaveTypeNameAr], [l].[DEFAULT_DAYS] AS [DefaultDays], [l].[IS_DEDUCTIBLE] AS [IsDeductible], [l].[REQUIRES_ATTACHMENT] AS [RequiresAttachment]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [l].[LEAVE_NAME_AR]
2026-02-06 22:30:04.052 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-06 22:30:04.090 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 22:30:04.124 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DOCUMENT_TYPE_ID] AS [DocumentTypeId], [d].[DOCUMENT_TYPE_NAME_AR] AS [DocumentTypeNameAr], [d].[DOCUMENT_TYPE_NAME_EN] AS [DocumentTypeNameEn], [d].[IS_REQUIRED] AS [IsRequired], [d].[HAS_EXPIRY] AS [HasExpiry]
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [d].[DOCUMENT_TYPE_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-06 22:30:04.146 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API) in 666.1404ms
2026-02-06 22:30:04.146 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DocumentTypeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 22:30:04.149 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-06 22:30:04.153 +03:00 [INF] HTTP GET /api/LeaveConfiguration/leave-types responded 200 in 805.2546 ms
2026-02-06 22:30:04.159 +03:00 [INF] Executed action HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API) in 671.5202ms
2026-02-06 22:30:04.161 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API)'
2026-02-06 22:30:04.162 +03:00 [INF] HTTP GET /api/DocumentTypes responded 200 in 952.3016 ms
2026-02-06 22:30:04.163 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 843.5335ms
2026-02-06 22:30:04.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/DocumentTypes - 200 null application/json; charset=utf-8 1002.2175ms
2026-02-06 22:30:10.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/AttendancePolicy - null null
2026-02-06 22:30:10.767 +03:00 [INF] CORS policy execution successful.
2026-02-06 22:30:10.768 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API)'
2026-02-06 22:30:10.783 +03:00 [INF] Route matched with {action = "GetAll", controller = "AttendancePolicy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.AttendancePolicyDto]]]] GetAll() on controller HRMS.API.Controllers.Attendance.AttendancePolicyController (HRMS.API).
2026-02-06 22:30:10.862 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[POLICY_ID] AS [PolicyId], [a].[POLICY_NAME_AR] AS [PolicyNameAr], [a].[DEPT_ID] AS [DeptId], [a].[JOB_ID] AS [JobId], [a].[LATE_GRACE_MINS] AS [LateGraceMins], [a].[OVERTIME_MULTIPLIER] AS [OvertimeMultiplier], [a].[WEEKEND_OT_MULTIPLIER] AS [WeekendOtMultiplier]
FROM [HR_ATTENDANCE].[ATTENDANCE_POLICIES] AS [a]
WHERE [a].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [a].[POLICY_ID]
2026-02-06 22:30:10.872 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.AttendancePolicyDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 22:30:10.904 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API) in 116.875ms
2026-02-06 22:30:10.908 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API)'
2026-02-06 22:30:10.909 +03:00 [INF] HTTP GET /api/AttendancePolicy responded 200 in 142.4001 ms
2026-02-06 22:30:10.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/AttendancePolicy - 200 null application/json; charset=utf-8 205.0223ms
2026-02-06 22:30:14.108 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - null null
2026-02-06 22:30:14.117 +03:00 [INF] CORS policy execution successful.
2026-02-06 22:30:14.120 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-06 22:30:14.133 +03:00 [INF] Route matched with {action = "GetAllShifts", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.ShiftTypeDto]]] GetAllShifts() on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-06 22:30:14.184 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SHIFT_ID] AS [ShiftId], [s].[SHIFT_NAME_AR] AS [ShiftNameAr], [s].[START_TIME] AS [StartTime], [s].[END_TIME] AS [EndTime], [s].[HOURS_COUNT] AS [HoursCount], [s].[IS_CROSS_DAY] AS [IsCrossDay], [s].[GRACE_PERIOD_MINS] AS [GracePeriodMins]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [s].[SHIFT_ID]
2026-02-06 22:30:14.198 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.ShiftTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 22:30:14.207 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API) in 70.0333ms
2026-02-06 22:30:14.210 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-06 22:30:14.236 +03:00 [INF] HTTP GET /api/AttendanceSettings/shifts responded 200 in 119.0517 ms
2026-02-06 22:30:14.241 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 131.8087ms
2026-02-06 22:30:16.327 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/PayrollSettings/elements - null null
2026-02-06 22:30:16.331 +03:00 [INF] CORS policy execution successful.
2026-02-06 22:30:16.334 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-06 22:30:16.347 +03:00 [INF] Route matched with {action = "GetElements", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto]]]] GetElements() on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-06 22:30:16.956 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
2026-02-06 22:30:16.987 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 22:30:17.002 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API) in 651.8998ms
2026-02-06 22:30:17.005 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-06 22:30:17.007 +03:00 [INF] HTTP GET /api/PayrollSettings/elements responded 200 in 675.9938 ms
2026-02-06 22:30:17.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/PayrollSettings/elements - 200 null application/json; charset=utf-8 682.8118ms
2026-02-06 22:30:24.461 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - null null
2026-02-06 22:30:24.474 +03:00 [INF] CORS policy execution successful.
2026-02-06 22:30:24.478 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-06 22:30:24.481 +03:00 [INF] Route matched with {action = "GetAllShifts", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.ShiftTypeDto]]] GetAllShifts() on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-06 22:30:24.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SHIFT_ID] AS [ShiftId], [s].[SHIFT_NAME_AR] AS [ShiftNameAr], [s].[START_TIME] AS [StartTime], [s].[END_TIME] AS [EndTime], [s].[HOURS_COUNT] AS [HoursCount], [s].[IS_CROSS_DAY] AS [IsCrossDay], [s].[GRACE_PERIOD_MINS] AS [GracePeriodMins]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [s].[SHIFT_ID]
2026-02-06 22:30:24.726 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.ShiftTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-06 22:30:24.736 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API) in 237.3975ms
2026-02-06 22:30:24.742 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-06 22:30:24.743 +03:00 [INF] HTTP GET /api/AttendanceSettings/shifts responded 200 in 269.1609 ms
2026-02-06 22:30:24.747 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 285.1029ms
2026-02-06 22:30:25.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/leave-types - null null
2026-02-06 22:30:25.710 +03:00 [INF] CORS policy execution successful.
2026-02-06 22:30:25.714 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-06 22:30:25.714 +03:00 [INF] Route matched with {action = "GetAllLeaveTypes", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveTypeDto]]]] GetAllLeaveTypes() on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-02-06 22:30:25.722 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID] AS [LeaveTypeId], [l].[LEAVE_NAME_AR] AS [LeaveTypeNameAr], [l].[DEFAULT_DAYS] AS [DefaultDays], [l].[IS_DEDUCTIBLE] AS [IsDeductible], [l].[REQUIRES_ATTACHMENT] AS [RequiresAttachment]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [l].[LEAVE_NAME_AR]
2026-02-06 22:30:25.737 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-06 22:30:25.800 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API) in 82.7241ms
2026-02-06 22:30:25.806 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-06 22:30:25.808 +03:00 [INF] HTTP GET /api/LeaveConfiguration/leave-types responded 200 in 97.4726 ms
2026-02-06 22:30:25.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 107.3663ms
