2026-02-10 11:37:15.591 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 11:37:34.697 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 11:37:39.791 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 11:37:40.105 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 11:37:40.124 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 11:37:40.126 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 11:38:01.212 +03:00 [ERR] An error occurred using the connection to database 'HRMS_Hospital' on server 'DESKTOP-SHAHER'.
2026-02-10 11:38:11.896 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2026-02-10 11:38:21.189 +03:00 [ERR] โ An error occurred while seeding roles
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.RoleExistsAsync(String roleName)
   at HRMS.Infrastructure.Data.Seeders.IdentitySeeder.SeedRolesAsync(RoleManager`1 roleManager) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Infrastructure\Data\Seeders\IdentitySeeder.cs:line 32
   at HRMS.Infrastructure.Data.Seeders.IdentitySeeder.SeedAsync(UserManager`1 userManager, RoleManager`1 roleManager) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Infrastructure\Data\Seeders\IdentitySeeder.cs:line 16
   at HRMS.API.Extensions.MiddlewareExtensions.SeedDatabaseAsync(IApplicationBuilder app) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Extensions\MiddlewareExtensions.cs:line 64
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2026-02-10 11:38:21.308 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 11:38:22.383 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 11:38:22.624 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 11:38:23.299 +03:00 [INF] Hosting environment: Development
2026-02-10 11:38:23.301 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 11:38:27.168 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 11:38:33.284 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 5559.5645 ms
2026-02-10 11:38:33.373 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 6223.9079ms
2026-02-10 11:38:33.651 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 11:38:34.560 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 11:38:34.965 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1312.7704ms
2026-02-10 11:38:35.764 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1204.4627ms
2026-02-10 11:38:36.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 11:38:38.116 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 605.3913 ms
2026-02-10 11:38:38.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1984.7594ms
2026-02-10 11:44:02.520 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Countries - null null
2026-02-10 11:44:02.538 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:02.543 +03:00 [INF] HTTP OPTIONS /api/Countries responded 204 in 13.3382 ms
2026-02-10 11:44:02.546 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Countries - 204 null null 26.0658ms
2026-02-10 11:44:02.553 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Countries - null null
2026-02-10 11:44:02.564 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:02.883 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:02 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:02.918 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:02 ุต'.
2026-02-10 11:44:02.929 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:02.980 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.Core.CountriesController (HRMS.API).
2026-02-10 11:44:03.985 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-02-10 11:44:04.350 +03:00 [INF] Executed DbCommand (153ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:04.557 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:04.583 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API) in 1593.6892ms
2026-02-10 11:44:04.586 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:04.588 +03:00 [INF] HTTP GET /api/Countries responded 200 in 2025.0327 ms
2026-02-10 11:44:04.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Countries - 200 null application/json; charset=utf-8 2049.7364ms
2026-02-10 11:44:06.917 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/banks - null null
2026-02-10 11:44:06.933 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:06.935 +03:00 [INF] HTTP OPTIONS /api/banks responded 204 in 1.9214 ms
2026-02-10 11:44:06.938 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/banks - 204 null null 21.9079ms
2026-02-10 11:44:06.941 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/banks - null null
2026-02-10 11:44:06.956 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:06.959 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:06 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:06.965 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:06 ุต'.
2026-02-10 11:44:06.968 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 11:44:06.985 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.Core.BanksController (HRMS.API).
2026-02-10 11:44:07.084 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-02-10 11:44:07.144 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:07.149 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:07.163 +03:00 [INF] Executed action HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API) in 173.9077ms
2026-02-10 11:44:07.166 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 11:44:07.169 +03:00 [INF] HTTP GET /api/banks responded 200 in 213.0203 ms
2026-02-10 11:44:07.172 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/banks - 200 null application/json; charset=utf-8 230.9932ms
2026-02-10 11:44:08.250 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Cities - null null
2026-02-10 11:44:08.269 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:08.270 +03:00 [INF] HTTP OPTIONS /api/Cities responded 204 in 1.5258 ms
2026-02-10 11:44:08.273 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Cities - 204 null null 22.2031ms
2026-02-10 11:44:08.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Cities - null null
2026-02-10 11:44:08.283 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:08.285 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:08 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:08.291 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:08 ุต'.
2026-02-10 11:44:08.293 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 11:44:08.305 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.Core.CitiesController (HRMS.API).
2026-02-10 11:44:08.338 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-02-10 11:44:08.458 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-02-10 11:44:08.465 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:08.483 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API) in 172.513ms
2026-02-10 11:44:08.485 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 11:44:08.486 +03:00 [INF] HTTP GET /api/Cities responded 200 in 203.0255 ms
2026-02-10 11:44:08.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Cities - 200 null application/json; charset=utf-8 217.8262ms
2026-02-10 11:44:14.815 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Countries - null null
2026-02-10 11:44:14.827 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:14.829 +03:00 [INF] HTTP OPTIONS /api/Countries responded 204 in 1.9971 ms
2026-02-10 11:44:15.016 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Countries - 204 null null 200.716ms
2026-02-10 11:44:15.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Countries - null null
2026-02-10 11:44:15.026 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.028 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:15.037 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
2026-02-10 11:44:15.040 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.042 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.Core.CountriesController (HRMS.API).
2026-02-10 11:44:15.048 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-02-10 11:44:15.066 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:15.077 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:15.080 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API) in 35.1971ms
2026-02-10 11:44:15.088 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.102 +03:00 [INF] HTTP GET /api/Countries responded 200 in 75.8752 ms
2026-02-10 11:44:15.096 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Banks - null null
2026-02-10 11:44:15.096 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Jobs - null null
2026-02-10 11:44:15.096 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/JobGrades - null null
2026-02-10 11:44:15.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Countries - 200 null application/json; charset=utf-8 86.4397ms
2026-02-10 11:44:15.107 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.110 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.121 +03:00 [INF] HTTP OPTIONS /api/Jobs responded 204 in 10.8384 ms
2026-02-10 11:44:15.125 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Jobs - 204 null null 29.2116ms
2026-02-10 11:44:15.115 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.120 +03:00 [INF] HTTP OPTIONS /api/Banks responded 204 in 12.7775 ms
2026-02-10 11:44:15.129 +03:00 [INF] HTTP OPTIONS /api/JobGrades responded 204 in 14.7871 ms
2026-02-10 11:44:15.137 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/JobGrades - 204 null null 41.1043ms
2026-02-10 11:44:15.132 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Banks - 204 null null 35.595ms
2026-02-10 11:44:15.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Jobs - null null
2026-02-10 11:44:15.146 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Banks - null null
2026-02-10 11:44:15.148 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.150 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.164 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:15.171 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:15.184 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
2026-02-10 11:44:15.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/JobGrades - null null
2026-02-10 11:44:15.178 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
2026-02-10 11:44:15.186 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 11:44:15.201 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.Core.BanksController (HRMS.API).
2026-02-10 11:44:15.192 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API)'
2026-02-10 11:44:15.189 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.214 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:15.229 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.Core.JobsController (HRMS.API).
2026-02-10 11:44:15.232 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
2026-02-10 11:44:15.240 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.234 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-02-10 11:44:15.260 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.Core.JobGradesController (HRMS.API).
2026-02-10 11:44:15.287 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Cities - null null
2026-02-10 11:44:15.318 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:15.469 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Countries - null null
2026-02-10 11:44:15.486 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.471 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:15.493 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:15.494 +03:00 [INF] HTTP OPTIONS /api/Cities responded 204 in 22.8998 ms
2026-02-10 11:44:15.497 +03:00 [INF] Executed action HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API) in 292.0066ms
2026-02-10 11:44:15.543 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 11:44:15.545 +03:00 [INF] HTTP GET /api/Banks responded 200 in 394.7734 ms
2026-02-10 11:44:15.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Banks - 200 null application/json; charset=utf-8 401.8738ms
2026-02-10 11:44:15.543 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 11:44:15.530 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Cities - null null
2026-02-10 11:44:15.503 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
2026-02-10 11:44:15.506 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Cities - 204 null null 219.0087ms
2026-02-10 11:44:15.518 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/DocumentTypes - null null
2026-02-10 11:44:15.507 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 11:44:15.566 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.568 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.578 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.589 +03:00 [INF] HTTP OPTIONS /api/DocumentTypes responded 204 in 11.3424 ms
2026-02-10 11:44:15.593 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/DocumentTypes - 204 null null 75.0471ms
2026-02-10 11:44:15.587 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:15.604 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
2026-02-10 11:44:15.606 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.607 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.Core.CitiesController (HRMS.API).
2026-02-10 11:44:15.597 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:15.588 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.Core.CountriesController (HRMS.API).
2026-02-10 11:44:15.627 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:15.647 +03:00 [INF] Executed action HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API) in 383.2942ms
2026-02-10 11:44:15.648 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.649 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 460.4785 ms
2026-02-10 11:44:15.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/JobGrades - 200 null application/json; charset=utf-8 472.0887ms
2026-02-10 11:44:15.665 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-02-10 11:44:15.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/DocumentTypes - null null
2026-02-10 11:44:15.667 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-02-10 11:44:15.729 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j1].[JOB_ID] AS [JobId], [j1].[JOB_TITLE_AR] AS [JobTitleAr], [j1].[JOB_TITLE_EN] AS [JobTitleEn], [j1].[DEFAULT_GRADE_ID] AS [DefaultGradeId], [j1].[IS_MEDICAL] AS [IsMedical], [j0].[GRADE_NAME_AR] AS [GradeNameAr]
FROM (
    SELECT [j].[JOB_ID], [j].[DEFAULT_GRADE_ID], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN]
    FROM [HR_CORE].[JOBS] AS [j]
    WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [j].[JOB_TITLE_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [j1]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j1].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
ORDER BY [j1].[JOB_TITLE_AR]
2026-02-10 11:44:15.735 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:15.736 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-02-10 11:44:15.741 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:15.747 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:15.747 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:15.753 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:15.770 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API) in 156.3001ms
2026-02-10 11:44:15.771 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.774 +03:00 [INF] HTTP GET /api/Cities responded 200 in 207.7648 ms
2026-02-10 11:44:15.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Cities - 200 null application/json; charset=utf-8 245.7815ms
2026-02-10 11:44:15.758 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:15.764 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:15 ุต'.
2026-02-10 11:44:15.786 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API) in 159.9706ms
2026-02-10 11:44:15.790 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.788 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.791 +03:00 [INF] HTTP GET /api/Countries responded 200 in 305.5194 ms
2026-02-10 11:44:15.796 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Countries - 200 null application/json; charset=utf-8 327.5115ms
2026-02-10 11:44:15.792 +03:00 [INF] Executed action HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API) in 557.8119ms
2026-02-10 11:44:15.804 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API)'
2026-02-10 11:44:15.806 +03:00 [INF] HTTP GET /api/Jobs responded 200 in 658.4678 ms
2026-02-10 11:44:15.807 +03:00 [INF] Route matched with {action = "GetAll", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.DocumentTypes.Queries.GetAllDocumentTypes.GetAllDocumentTypesQuery) on controller HRMS.API.Controllers.Core.DocumentTypesController (HRMS.API).
2026-02-10 11:44:15.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Jobs - 200 null application/json; charset=utf-8 669.2769ms
2026-02-10 11:44:15.896 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 11:44:15.944 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DOCUMENT_TYPE_ID] AS [DocumentTypeId], [d].[DOCUMENT_TYPE_NAME_AR] AS [DocumentTypeNameAr], [d].[DOCUMENT_TYPE_NAME_EN] AS [DocumentTypeNameEn], [d].[IS_REQUIRED] AS [IsRequired], [d].[HAS_EXPIRY] AS [HasExpiry]
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [d].[DOCUMENT_TYPE_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:15.951 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DocumentTypeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:15.967 +03:00 [INF] Executed action HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API) in 153.6195ms
2026-02-10 11:44:15.970 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API)'
2026-02-10 11:44:15.972 +03:00 [INF] HTTP GET /api/DocumentTypes responded 200 in 236.6195 ms
2026-02-10 11:44:15.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/DocumentTypes - 200 null application/json; charset=utf-8 304.0072ms
2026-02-10 11:44:46.648 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Countries - null null
2026-02-10 11:44:46.666 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:46.668 +03:00 [INF] HTTP OPTIONS /api/Countries responded 204 in 1.9678 ms
2026-02-10 11:44:46.672 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Countries - 204 null null 23.9941ms
2026-02-10 11:44:46.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Countries - null null
2026-02-10 11:44:46.687 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:46.690 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:46 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:46.698 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:46 ุต'.
2026-02-10 11:44:46.700 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:46.702 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.Core.CountriesController (HRMS.API).
2026-02-10 11:44:46.996 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Jobs - null null
2026-02-10 11:44:46.996 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Banks - null null
2026-02-10 11:44:46.996 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/JobGrades - null null
2026-02-10 11:44:47.003 +03:00 [INF] Executed DbCommand (295ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-02-10 11:44:47.014 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.029 +03:00 [INF] HTTP OPTIONS /api/Jobs responded 204 in 14.9556 ms
2026-02-10 11:44:47.037 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Jobs - 204 null null 41.2191ms
2026-02-10 11:44:47.018 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.042 +03:00 [INF] HTTP OPTIONS /api/Banks responded 204 in 24.3452 ms
2026-02-10 11:44:47.022 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.047 +03:00 [INF] HTTP OPTIONS /api/JobGrades responded 204 in 25.0157 ms
2026-02-10 11:44:47.045 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Banks - 204 null null 48.6475ms
2026-02-10 11:44:47.043 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Cities - null null
2026-02-10 11:44:47.069 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.072 +03:00 [INF] HTTP OPTIONS /api/Cities responded 204 in 3.2272 ms
2026-02-10 11:44:47.076 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Cities - 204 null null 34.0538ms
2026-02-10 11:44:47.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/JobGrades - null null
2026-02-10 11:44:47.138 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.057 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/JobGrades - 204 null null 60.967ms
2026-02-10 11:44:47.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Banks - null null
2026-02-10 11:44:47.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Jobs - null null
2026-02-10 11:44:47.151 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Cities - null null
2026-02-10 11:44:47.165 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.147 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.176 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:47.162 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:47.099 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:47.174 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:47.140 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:47.186 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
2026-02-10 11:44:47.193 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
2026-02-10 11:44:47.199 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:47.205 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
2026-02-10 11:44:47.210 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
2026-02-10 11:44:47.213 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 11:44:47.215 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API)'
2026-02-10 11:44:47.225 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.Core.JobsController (HRMS.API).
2026-02-10 11:44:47.220 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.237 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.Core.CitiesController (HRMS.API).
2026-02-10 11:44:47.223 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.Core.BanksController (HRMS.API).
2026-02-10 11:44:47.217 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API) in 510.9115ms
2026-02-10 11:44:47.222 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.247 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.248 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.Core.JobGradesController (HRMS.API).
2026-02-10 11:44:47.250 +03:00 [INF] HTTP GET /api/Countries responded 200 in 562.9512 ms
2026-02-10 11:44:47.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Countries - 200 null application/json; charset=utf-8 582.8759ms
2026-02-10 11:44:47.262 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/DocumentTypes - null null
2026-02-10 11:44:47.267 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.268 +03:00 [INF] HTTP OPTIONS /api/DocumentTypes responded 204 in 1.2565 ms
2026-02-10 11:44:47.271 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/DocumentTypes - 204 null null 8.5361ms
2026-02-10 11:44:47.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Countries - null null
2026-02-10 11:44:47.319 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-02-10 11:44:47.332 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-02-10 11:44:47.332 +03:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 11:44:47.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/DocumentTypes - null null
2026-02-10 11:44:47.361 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.336 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:47.373 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:47.378 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:47.384 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
2026-02-10 11:44:47.388 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-02-10 11:44:47.390 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:47.391 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:47 ุต'.
2026-02-10 11:44:47.405 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.406 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.Core.CountriesController (HRMS.API).
2026-02-10 11:44:47.398 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:47.403 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:47.391 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 11:44:47.392 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.424 +03:00 [INF] Route matched with {action = "GetAll", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.DocumentTypes.Queries.GetAllDocumentTypes.GetAllDocumentTypesQuery) on controller HRMS.API.Controllers.Core.DocumentTypesController (HRMS.API).
2026-02-10 11:44:47.415 +03:00 [INF] Executed action HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API) in 170.8423ms
2026-02-10 11:44:47.430 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 11:44:47.413 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API) in 172.6654ms
2026-02-10 11:44:47.432 +03:00 [INF] HTTP GET /api/Banks responded 200 in 285.2534 ms
2026-02-10 11:44:47.434 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.438 +03:00 [INF] HTTP GET /api/Cities responded 200 in 273.5809 ms
2026-02-10 11:44:47.437 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-02-10 11:44:47.460 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Cities - 200 null application/json; charset=utf-8 328.5428ms
2026-02-10 11:44:47.438 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j1].[JOB_ID] AS [JobId], [j1].[JOB_TITLE_AR] AS [JobTitleAr], [j1].[JOB_TITLE_EN] AS [JobTitleEn], [j1].[DEFAULT_GRADE_ID] AS [DefaultGradeId], [j1].[IS_MEDICAL] AS [IsMedical], [j0].[GRADE_NAME_AR] AS [GradeNameAr]
FROM (
    SELECT [j].[JOB_ID], [j].[DEFAULT_GRADE_ID], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN]
    FROM [HR_CORE].[JOBS] AS [j]
    WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [j].[JOB_TITLE_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [j1]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j1].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
ORDER BY [j1].[JOB_TITLE_AR]
2026-02-10 11:44:47.458 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:47.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Banks - 200 null application/json; charset=utf-8 333.5585ms
2026-02-10 11:44:47.458 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 11:44:47.528 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:47.534 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:47.539 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:47.544 +03:00 [INF] Executed action HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API) in 314.9036ms
2026-02-10 11:44:47.547 +03:00 [INF] Executed action HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API) in 292.4025ms
2026-02-10 11:44:47.555 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.556 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 418.4936 ms
2026-02-10 11:44:47.552 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:47.553 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API)'
2026-02-10 11:44:47.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/JobGrades - 200 null application/json; charset=utf-8 438.3889ms
2026-02-10 11:44:47.561 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API) in 151.9241ms
2026-02-10 11:44:47.563 +03:00 [INF] HTTP GET /api/Jobs responded 200 in 412.1937 ms
2026-02-10 11:44:47.569 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.572 +03:00 [INF] HTTP GET /api/Countries responded 200 in 236.3652 ms
2026-02-10 11:44:47.571 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Jobs - 200 null application/json; charset=utf-8 467.6498ms
2026-02-10 11:44:47.575 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Countries - 200 null application/json; charset=utf-8 257.9935ms
2026-02-10 11:44:47.613 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DOCUMENT_TYPE_ID] AS [DocumentTypeId], [d].[DOCUMENT_TYPE_NAME_AR] AS [DocumentTypeNameAr], [d].[DOCUMENT_TYPE_NAME_EN] AS [DocumentTypeNameEn], [d].[IS_REQUIRED] AS [IsRequired], [d].[HAS_EXPIRY] AS [HasExpiry]
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [d].[DOCUMENT_TYPE_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:47.625 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DocumentTypeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:47.638 +03:00 [INF] Executed action HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API) in 209.8491ms
2026-02-10 11:44:47.641 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API)'
2026-02-10 11:44:47.643 +03:00 [INF] HTTP GET /api/DocumentTypes responded 200 in 282.0248 ms
2026-02-10 11:44:47.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/DocumentTypes - 200 null application/json; charset=utf-8 328.826ms
2026-02-10 11:44:55.267 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/banks - null null
2026-02-10 11:44:55.624 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:55.625 +03:00 [INF] HTTP OPTIONS /api/banks responded 204 in 1.4912 ms
2026-02-10 11:44:55.635 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/banks - 204 null null 368.6901ms
2026-02-10 11:44:55.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/banks - null null
2026-02-10 11:44:55.644 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:55.646 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:55 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:55.655 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:55 ุต'.
2026-02-10 11:44:55.657 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 11:44:55.659 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.Core.BanksController (HRMS.API).
2026-02-10 11:44:55.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-02-10 11:44:55.674 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 11:44:55.681 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:55.684 +03:00 [INF] Executed action HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API) in 22.002ms
2026-02-10 11:44:55.687 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 11:44:55.689 +03:00 [INF] HTTP GET /api/banks responded 200 in 44.2812 ms
2026-02-10 11:44:55.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/banks - 200 null application/json; charset=utf-8 56.3928ms
2026-02-10 11:44:57.665 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Departments - null null
2026-02-10 11:44:57.685 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:57.686 +03:00 [INF] HTTP OPTIONS /api/Departments responded 204 in 1.4910 ms
2026-02-10 11:44:57.694 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Departments - 204 null null 29.1801ms
2026-02-10 11:44:57.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Departments - null null
2026-02-10 11:44:57.793 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:44:57.803 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:57 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:44:57.809 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:44:57 ุต'.
2026-02-10 11:44:57.811 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API)'
2026-02-10 11:44:57.830 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.Core.DepartmentsController (HRMS.API).
2026-02-10 11:44:57.908 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 11:44:57.936 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d1].[DEPT_ID] AS [DeptId], [d1].[DEPT_NAME_AR] AS [DeptNameAr], [d1].[DEPT_NAME_EN] AS [DeptNameEn], [d1].[PARENT_DEPT_ID] AS [ParentDeptId], [d1].[COST_CENTER_CODE] AS [CostCenterCode], [d1].[MANAGER_ID] AS [ManagerId], [d1].[IS_ACTIVE] AS [IsActive], [d0].[DEPT_NAME_AR] AS [ParentDeptNameAr]
FROM (
    SELECT [d].[DEPT_ID], [d].[COST_CENTER_CODE], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID]
    FROM [HR_CORE].[DEPARTMENTS] AS [d]
    WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [d].[DEPT_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d1]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d0] ON [d1].[PARENT_DEPT_ID] = [d0].[DEPT_ID]
ORDER BY [d1].[DEPT_NAME_AR]
2026-02-10 11:44:57.950 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DepartmentDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:44:57.996 +03:00 [INF] Executed action HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API) in 163.1319ms
2026-02-10 11:44:58.001 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API)'
2026-02-10 11:44:58.007 +03:00 [INF] HTTP GET /api/Departments responded 200 in 214.7571 ms
2026-02-10 11:44:58.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Departments - 200 null application/json; charset=utf-8 313.2939ms
2026-02-10 11:45:00.201 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/PayrollSettings/elements - null null
2026-02-10 11:45:00.240 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:45:00.242 +03:00 [INF] HTTP OPTIONS /api/PayrollSettings/elements responded 204 in 2.6501 ms
2026-02-10 11:45:00.245 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/PayrollSettings/elements - 204 null null 44.382ms
2026-02-10 11:45:00.249 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/PayrollSettings/elements - null null
2026-02-10 11:45:00.257 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:45:00.288 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:45:00 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:45:00.295 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:45:00 ุต'.
2026-02-10 11:45:00.298 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-10 11:45:00.330 +03:00 [INF] Route matched with {action = "GetElements", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto]]]] GetElements() on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-10 11:45:00.411 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
2026-02-10 11:45:00.468 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 11:45:00.512 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API) in 156.3296ms
2026-02-10 11:45:00.518 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-10 11:45:00.519 +03:00 [INF] HTTP GET /api/PayrollSettings/elements responded 200 in 262.5726 ms
2026-02-10 11:45:00.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/PayrollSettings/elements - 200 null application/json; charset=utf-8 273.6224ms
2026-02-10 11:45:02.326 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/AttendanceSettings/shifts - null null
2026-02-10 11:45:02.372 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:45:02.374 +03:00 [INF] HTTP OPTIONS /api/AttendanceSettings/shifts responded 204 in 1.7298 ms
2026-02-10 11:45:02.376 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/AttendanceSettings/shifts - 204 null null 50.5696ms
2026-02-10 11:45:02.411 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/AttendanceSettings/shifts - null null
2026-02-10 11:45:02.452 +03:00 [INF] CORS policy execution successful.
2026-02-10 11:45:02.474 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:45:02 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 11:45:02.489 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 08:45:02 ุต'.
2026-02-10 11:45:02.492 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-10 11:45:02.512 +03:00 [INF] Route matched with {action = "GetAllShifts", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.ShiftTypeDto]]] GetAllShifts() on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-10 11:45:02.559 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SHIFT_ID] AS [ShiftId], [s].[SHIFT_NAME_AR] AS [ShiftNameAr], [s].[START_TIME] AS [StartTime], [s].[END_TIME] AS [EndTime], [s].[HOURS_COUNT] AS [HoursCount], [s].[IS_CROSS_DAY] AS [IsCrossDay], [s].[GRACE_PERIOD_MINS] AS [GracePeriodMins]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [s].[SHIFT_ID]
2026-02-10 11:45:02.579 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.ShiftTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:45:02.613 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API) in 96.4778ms
2026-02-10 11:45:02.619 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-10 11:45:02.620 +03:00 [INF] HTTP GET /api/AttendanceSettings/shifts responded 200 in 168.4607 ms
2026-02-10 11:45:02.623 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 212.3971ms
2026-02-10 11:47:34.815 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Employees - null null
2026-02-10 11:47:34.823 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.GetAll (HRMS.API)'
2026-02-10 11:47:34.844 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Personnel.EmployeeListDto]]]] GetAll(HRMS.Application.Features.Personnel.Employees.Queries.GetAllEmployees.GetAllEmployeesQuery) on controller HRMS.API.Controllers.Personnel.EmployeesController (HRMS.API).
2026-02-10 11:47:34.912 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 11:47:34.957 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[EMPLOYEE_ID], [e0].[BIRTH_DATE], [e0].[CREATED_AT], [e0].[CREATED_BY], [e0].[DEPARTMENT_ID], [e0].[EMAIL], [e0].[EMPLOYEE_NUMBER], [e0].[FIRST_NAME_AR], [e0].[FULL_NAME_EN], [e0].[GENDER], [e0].[HIRE_DATE], [e0].[IS_ACTIVE], [e0].[IS_DELETED], [e0].[JOB_GRADE_ID], [e0].[JOB_ID], [e0].[LAST_NAME_AR], [e0].[LICENSE_EXPIRY_DATE], [e0].[LICENSE_NUMBER], [e0].[MANAGER_ID], [e0].[MARITAL_STATUS], [e0].[MOBILE], [e0].[NATIONAL_ID], [e0].[NATIONALITY_ID], [e0].[PROFILE_PICTURE_PATH], [e0].[SECOND_NAME_AR], [e0].[SPECIALTY], [e0].[TERMINATION_DATE], [e0].[THIRD_NAME_AR], [e0].[UPDATED_AT], [e0].[UPDATED_BY], [e0].[USER_ID], [e0].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM (
    SELECT [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [e].[CREATED_AT] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e0].[DEPARTMENT_ID] = [d].[DEPT_ID]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e0].[JOB_ID] = [j].[JOB_ID]
ORDER BY [e0].[CREATED_AT] DESC
2026-02-10 11:47:34.976 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Personnel.EmployeeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 11:47:34.993 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeesController.GetAll (HRMS.API) in 141.7581ms
2026-02-10 11:47:35.002 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.GetAll (HRMS.API)'
2026-02-10 11:47:35.003 +03:00 [INF] HTTP GET /api/Employees responded 200 in 180.3897 ms
2026-02-10 11:47:35.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Employees - 200 null application/json; charset=utf-8 193.9529ms
2026-02-10 12:01:05.147 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Countries - null null
2026-02-10 12:01:05.151 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:05.152 +03:00 [INF] HTTP OPTIONS /api/Countries responded 204 in 1.5161 ms
2026-02-10 12:01:05.154 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Countries - 204 null null 7.6758ms
2026-02-10 12:01:05.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Countries - null null
2026-02-10 12:01:05.183 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:05.185 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:05 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:01:05.192 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:05 ุต'.
2026-02-10 12:01:05.194 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 12:01:05.196 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.Core.CountriesController (HRMS.API).
2026-02-10 12:01:05.254 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-02-10 12:01:05.285 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 12:01:05.307 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:01:05.316 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API) in 116.9398ms
2026-02-10 12:01:05.319 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CountriesController.GetAll (HRMS.API)'
2026-02-10 12:01:05.321 +03:00 [INF] HTTP GET /api/Countries responded 200 in 138.3327 ms
2026-02-10 12:01:05.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Countries - 200 null application/json; charset=utf-8 163.9775ms
2026-02-10 12:01:06.669 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Cities - null null
2026-02-10 12:01:06.673 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:06.676 +03:00 [INF] HTTP OPTIONS /api/Cities responded 204 in 2.3511 ms
2026-02-10 12:01:06.679 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Cities - 204 null null 9.2053ms
2026-02-10 12:01:06.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Cities - null null
2026-02-10 12:01:06.692 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:06.694 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:06 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:01:06.700 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:06 ุต'.
2026-02-10 12:01:06.703 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 12:01:06.706 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.Core.CitiesController (HRMS.API).
2026-02-10 12:01:06.722 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-02-10 12:01:06.735 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-02-10 12:01:06.774 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:01:06.778 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API) in 69.1764ms
2026-02-10 12:01:06.781 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 12:01:06.783 +03:00 [INF] HTTP GET /api/Cities responded 200 in 90.3856 ms
2026-02-10 12:01:06.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Cities - 200 null application/json; charset=utf-8 104.0238ms
2026-02-10 12:01:07.778 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/banks - null null
2026-02-10 12:01:07.793 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:07.795 +03:00 [INF] HTTP OPTIONS /api/banks responded 204 in 2.0724 ms
2026-02-10 12:01:07.799 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/banks - 204 null null 20.2546ms
2026-02-10 12:01:07.801 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/banks - null null
2026-02-10 12:01:07.808 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:07.811 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:07 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:01:07.816 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:07 ุต'.
2026-02-10 12:01:07.818 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 12:01:07.820 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.Core.BanksController (HRMS.API).
2026-02-10 12:01:07.829 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-02-10 12:01:07.867 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 12:01:07.878 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:01:07.880 +03:00 [INF] Executed action HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API) in 56.5743ms
2026-02-10 12:01:07.883 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 12:01:07.885 +03:00 [INF] HTTP GET /api/banks responded 200 in 76.8662 ms
2026-02-10 12:01:07.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/banks - 200 null application/json; charset=utf-8 86.0771ms
2026-02-10 12:01:09.173 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Departments - null null
2026-02-10 12:01:09.213 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:09.214 +03:00 [INF] HTTP OPTIONS /api/Departments responded 204 in 1.6307 ms
2026-02-10 12:01:09.218 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Departments - 204 null null 45.0415ms
2026-02-10 12:01:09.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Departments - null null
2026-02-10 12:01:09.226 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:09.228 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:09 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:01:09.236 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:09 ุต'.
2026-02-10 12:01:09.238 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API)'
2026-02-10 12:01:09.240 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.Core.DepartmentsController (HRMS.API).
2026-02-10 12:01:09.257 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 12:01:09.277 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d1].[DEPT_ID] AS [DeptId], [d1].[DEPT_NAME_AR] AS [DeptNameAr], [d1].[DEPT_NAME_EN] AS [DeptNameEn], [d1].[PARENT_DEPT_ID] AS [ParentDeptId], [d1].[COST_CENTER_CODE] AS [CostCenterCode], [d1].[MANAGER_ID] AS [ManagerId], [d1].[IS_ACTIVE] AS [IsActive], [d0].[DEPT_NAME_AR] AS [ParentDeptNameAr]
FROM (
    SELECT [d].[DEPT_ID], [d].[COST_CENTER_CODE], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID]
    FROM [HR_CORE].[DEPARTMENTS] AS [d]
    WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [d].[DEPT_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d1]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d0] ON [d1].[PARENT_DEPT_ID] = [d0].[DEPT_ID]
ORDER BY [d1].[DEPT_NAME_AR]
2026-02-10 12:01:09.282 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DepartmentDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:01:09.284 +03:00 [INF] Executed action HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API) in 39.263ms
2026-02-10 12:01:09.290 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API)'
2026-02-10 12:01:09.293 +03:00 [INF] HTTP GET /api/Departments responded 200 in 67.6049 ms
2026-02-10 12:01:09.296 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Departments - 200 null application/json; charset=utf-8 76.1ms
2026-02-10 12:01:11.470 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/LeaveConfiguration/leave-types - null null
2026-02-10 12:01:11.482 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:11.485 +03:00 [INF] HTTP OPTIONS /api/LeaveConfiguration/leave-types responded 204 in 3.6551 ms
2026-02-10 12:01:11.488 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/LeaveConfiguration/leave-types - 204 null null 18.2136ms
2026-02-10 12:01:11.491 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/LeaveConfiguration/leave-types - null null
2026-02-10 12:01:11.500 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:11.502 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:11 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:01:11.508 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:11 ุต'.
2026-02-10 12:01:11.510 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-10 12:01:11.526 +03:00 [INF] Route matched with {action = "GetAllLeaveTypes", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveTypeDto]]]] GetAllLeaveTypes() on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-02-10 12:01:11.568 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID] AS [LeaveTypeId], [l].[LEAVE_NAME_AR] AS [LeaveTypeNameAr], [l].[DEFAULT_DAYS] AS [DefaultDays], [l].[IS_DEDUCTIBLE] AS [IsDeductible], [l].[REQUIRES_ATTACHMENT] AS [RequiresAttachment]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [l].[LEAVE_NAME_AR]
2026-02-10 12:01:11.591 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 12:01:11.607 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API) in 76.7179ms
2026-02-10 12:01:11.621 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-10 12:01:11.627 +03:00 [INF] HTTP GET /api/LeaveConfiguration/leave-types responded 200 in 127.0660 ms
2026-02-10 12:01:11.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 138.8339ms
2026-02-10 12:01:15.190 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/AttendancePolicy - null null
2026-02-10 12:01:15.194 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:15.195 +03:00 [INF] HTTP OPTIONS /api/AttendancePolicy responded 204 in 1.4034 ms
2026-02-10 12:01:15.232 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/AttendancePolicy - 204 null null 42.2246ms
2026-02-10 12:01:15.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/AttendancePolicy - null null
2026-02-10 12:01:15.241 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:01:15.244 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:15 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:01:15.249 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:01:15 ุต'.
2026-02-10 12:01:15.252 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API)'
2026-02-10 12:01:15.270 +03:00 [INF] Route matched with {action = "GetAll", controller = "AttendancePolicy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.AttendancePolicyDto]]]] GetAll() on controller HRMS.API.Controllers.Attendance.AttendancePolicyController (HRMS.API).
2026-02-10 12:01:15.355 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[POLICY_ID] AS [PolicyId], [a].[POLICY_NAME_AR] AS [PolicyNameAr], [a].[DEPT_ID] AS [DeptId], [a].[JOB_ID] AS [JobId], [a].[LATE_GRACE_MINS] AS [LateGraceMins], [a].[OVERTIME_MULTIPLIER] AS [OvertimeMultiplier], [a].[WEEKEND_OT_MULTIPLIER] AS [WeekendOtMultiplier], [d].[DEPT_NAME_AR] AS [DepartmentName], [j].[JOB_TITLE_AR] AS [JobTitle]
FROM [HR_ATTENDANCE].[ATTENDANCE_POLICIES] AS [a]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [a].[DEPT_ID] = [d].[DEPT_ID]
LEFT JOIN [HR_CORE].[JOBS] AS [j] ON [a].[JOB_ID] = [j].[JOB_ID]
WHERE [a].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [a].[POLICY_ID]
2026-02-10 12:01:15.362 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.AttendancePolicyDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 12:01:15.374 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API) in 78.4959ms
2026-02-10 12:01:15.378 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API)'
2026-02-10 12:01:15.379 +03:00 [INF] HTTP GET /api/AttendancePolicy responded 200 in 138.2698 ms
2026-02-10 12:01:15.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/AttendancePolicy - 200 null application/json; charset=utf-8 147.7176ms
2026-02-10 12:08:14.116 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/banks - null null
2026-02-10 12:08:14.120 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:14.121 +03:00 [INF] HTTP OPTIONS /api/banks responded 204 in 1.4206 ms
2026-02-10 12:08:14.125 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/banks - 204 null null 9.0867ms
2026-02-10 12:08:14.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/banks - null null
2026-02-10 12:08:14.134 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:14.137 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:14 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:08:14.144 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:14 ุต'.
2026-02-10 12:08:14.147 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 12:08:14.149 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.Core.BanksController (HRMS.API).
2026-02-10 12:08:14.198 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-02-10 12:08:14.203 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 12:08:14.208 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:08:14.211 +03:00 [INF] Executed action HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API) in 58.8805ms
2026-02-10 12:08:14.213 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 12:08:14.215 +03:00 [INF] HTTP GET /api/banks responded 200 in 80.5127 ms
2026-02-10 12:08:14.222 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/banks - 200 null application/json; charset=utf-8 94.4671ms
2026-02-10 12:08:16.563 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Cities - null null
2026-02-10 12:08:16.568 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:16.570 +03:00 [INF] HTTP OPTIONS /api/Cities responded 204 in 2.3706 ms
2026-02-10 12:08:16.573 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Cities - 204 null null 10.5716ms
2026-02-10 12:08:16.576 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Cities - null null
2026-02-10 12:08:16.583 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:16.586 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:16 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:08:16.602 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:16 ุต'.
2026-02-10 12:08:16.604 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 12:08:16.605 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.Core.CitiesController (HRMS.API).
2026-02-10 12:08:16.619 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-02-10 12:08:16.642 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-02-10 12:08:16.649 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:08:16.651 +03:00 [INF] Executed action HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API) in 42.4351ms
2026-02-10 12:08:16.686 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.CitiesController.GetAll (HRMS.API)'
2026-02-10 12:08:16.692 +03:00 [INF] HTTP GET /api/Cities responded 200 in 108.9679 ms
2026-02-10 12:08:16.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Cities - 200 null application/json; charset=utf-8 129.4333ms
2026-02-10 12:08:20.022 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/JobGrades - null null
2026-02-10 12:08:20.027 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:20.030 +03:00 [INF] HTTP OPTIONS /api/JobGrades responded 204 in 3.7015 ms
2026-02-10 12:08:20.033 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/JobGrades - 204 null null 11.5864ms
2026-02-10 12:08:20.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/JobGrades - null null
2026-02-10 12:08:20.043 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:20.045 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:20 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:08:20.052 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:20 ุต'.
2026-02-10 12:08:20.054 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API)'
2026-02-10 12:08:20.056 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.Core.JobGradesController (HRMS.API).
2026-02-10 12:08:20.068 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 12:08:20.078 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 12:08:20.099 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:08:20.104 +03:00 [INF] Executed action HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API) in 44.7004ms
2026-02-10 12:08:20.106 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API)'
2026-02-10 12:08:20.108 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 64.5744 ms
2026-02-10 12:08:20.114 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/JobGrades - 200 null application/json; charset=utf-8 77.6724ms
2026-02-10 12:08:21.826 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Departments - null null
2026-02-10 12:08:21.830 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:21.831 +03:00 [INF] HTTP OPTIONS /api/Departments responded 204 in 1.4108 ms
2026-02-10 12:08:21.835 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Departments - 204 null null 9.3035ms
2026-02-10 12:08:21.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Departments - null null
2026-02-10 12:08:21.847 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:21.849 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:21 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:08:21.854 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:21 ุต'.
2026-02-10 12:08:21.856 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API)'
2026-02-10 12:08:21.858 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.Core.DepartmentsController (HRMS.API).
2026-02-10 12:08:21.865 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 12:08:21.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d1].[DEPT_ID] AS [DeptId], [d1].[DEPT_NAME_AR] AS [DeptNameAr], [d1].[DEPT_NAME_EN] AS [DeptNameEn], [d1].[PARENT_DEPT_ID] AS [ParentDeptId], [d1].[COST_CENTER_CODE] AS [CostCenterCode], [d1].[MANAGER_ID] AS [ManagerId], [d1].[IS_ACTIVE] AS [IsActive], [d0].[DEPT_NAME_AR] AS [ParentDeptNameAr]
FROM (
    SELECT [d].[DEPT_ID], [d].[COST_CENTER_CODE], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID]
    FROM [HR_CORE].[DEPARTMENTS] AS [d]
    WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [d].[DEPT_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d1]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d0] ON [d1].[PARENT_DEPT_ID] = [d0].[DEPT_ID]
ORDER BY [d1].[DEPT_NAME_AR]
2026-02-10 12:08:21.878 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DepartmentDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:08:21.884 +03:00 [INF] Executed action HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API) in 21.337ms
2026-02-10 12:08:21.889 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.DepartmentsController.GetAll (HRMS.API)'
2026-02-10 12:08:21.892 +03:00 [INF] HTTP GET /api/Departments responded 200 in 45.2032 ms
2026-02-10 12:08:21.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Departments - 200 null application/json; charset=utf-8 56.4323ms
2026-02-10 12:08:23.827 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/banks - null null
2026-02-10 12:08:23.833 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:23.843 +03:00 [INF] HTTP OPTIONS /api/banks responded 204 in 9.5086 ms
2026-02-10 12:08:23.845 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/banks - 204 null null 18.0629ms
2026-02-10 12:08:23.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/banks - null null
2026-02-10 12:08:23.855 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:23.857 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:23 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:08:23.864 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:23 ุต'.
2026-02-10 12:08:23.866 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 12:08:23.868 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.Core.BanksController (HRMS.API).
2026-02-10 12:08:23.873 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-02-10 12:08:23.933 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 12:08:23.939 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:08:23.941 +03:00 [INF] Executed action HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API) in 70.8411ms
2026-02-10 12:08:23.956 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.BanksController.GetAll (HRMS.API)'
2026-02-10 12:08:23.960 +03:00 [INF] HTTP GET /api/banks responded 200 in 104.9213 ms
2026-02-10 12:08:23.963 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/banks - 200 null application/json; charset=utf-8 114.9369ms
2026-02-10 12:08:30.357 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/LeaveConfiguration/leave-types - null null
2026-02-10 12:08:30.361 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:30.362 +03:00 [INF] HTTP OPTIONS /api/LeaveConfiguration/leave-types responded 204 in 1.3462 ms
2026-02-10 12:08:30.365 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/LeaveConfiguration/leave-types - 204 null null 8.3176ms
2026-02-10 12:08:30.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/LeaveConfiguration/leave-types - null null
2026-02-10 12:08:30.384 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:08:30.385 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:30 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:08:30.392 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:08:30 ุต'.
2026-02-10 12:08:30.394 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-10 12:08:30.396 +03:00 [INF] Route matched with {action = "GetAllLeaveTypes", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveTypeDto]]]] GetAllLeaveTypes() on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-02-10 12:08:30.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID] AS [LeaveTypeId], [l].[LEAVE_NAME_AR] AS [LeaveTypeNameAr], [l].[DEFAULT_DAYS] AS [DefaultDays], [l].[IS_DEDUCTIBLE] AS [IsDeductible], [l].[REQUIRES_ATTACHMENT] AS [RequiresAttachment]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [l].[LEAVE_NAME_AR]
2026-02-10 12:08:30.407 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 12:08:30.410 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API) in 11.0028ms
2026-02-10 12:08:30.422 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-10 12:08:30.426 +03:00 [INF] HTTP GET /api/LeaveConfiguration/leave-types responded 200 in 42.1247 ms
2026-02-10 12:08:30.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 59.4457ms
2026-02-10 12:09:08.498 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/AttendancePolicy - null null
2026-02-10 12:09:08.505 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:09:08.506 +03:00 [INF] HTTP OPTIONS /api/AttendancePolicy responded 204 in 1.4543 ms
2026-02-10 12:09:08.510 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/AttendancePolicy - 204 null null 12.1284ms
2026-02-10 12:09:08.521 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/AttendancePolicy - null null
2026-02-10 12:09:08.532 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:09:08.536 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:09:08 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:09:08.544 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:09:08 ุต'.
2026-02-10 12:09:08.547 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API)'
2026-02-10 12:09:08.549 +03:00 [INF] Route matched with {action = "GetAll", controller = "AttendancePolicy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.AttendancePolicyDto]]]] GetAll() on controller HRMS.API.Controllers.Attendance.AttendancePolicyController (HRMS.API).
2026-02-10 12:09:08.558 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[POLICY_ID] AS [PolicyId], [a].[POLICY_NAME_AR] AS [PolicyNameAr], [a].[DEPT_ID] AS [DeptId], [a].[JOB_ID] AS [JobId], [a].[LATE_GRACE_MINS] AS [LateGraceMins], [a].[OVERTIME_MULTIPLIER] AS [OvertimeMultiplier], [a].[WEEKEND_OT_MULTIPLIER] AS [WeekendOtMultiplier], [d].[DEPT_NAME_AR] AS [DepartmentName], [j].[JOB_TITLE_AR] AS [JobTitle]
FROM [HR_ATTENDANCE].[ATTENDANCE_POLICIES] AS [a]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [a].[DEPT_ID] = [d].[DEPT_ID]
LEFT JOIN [HR_CORE].[JOBS] AS [j] ON [a].[JOB_ID] = [j].[JOB_ID]
WHERE [a].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [a].[POLICY_ID]
2026-02-10 12:09:08.564 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.AttendancePolicyDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 12:09:08.567 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API) in 12.7663ms
2026-02-10 12:09:08.569 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API)'
2026-02-10 12:09:08.571 +03:00 [INF] HTTP GET /api/AttendancePolicy responded 200 in 38.6298 ms
2026-02-10 12:09:08.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/AttendancePolicy - 200 null application/json; charset=utf-8 52.7814ms
2026-02-10 12:09:09.931 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/AttendanceSettings/shifts - null null
2026-02-10 12:09:09.935 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:09:09.937 +03:00 [INF] HTTP OPTIONS /api/AttendanceSettings/shifts responded 204 in 1.4517 ms
2026-02-10 12:09:09.942 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/AttendanceSettings/shifts - 204 null null 11.7626ms
2026-02-10 12:09:09.945 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/AttendanceSettings/shifts - null null
2026-02-10 12:09:09.951 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:09:09.953 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:09:09 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:09:09.960 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:09:09 ุต'.
2026-02-10 12:09:09.963 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-10 12:09:09.965 +03:00 [INF] Route matched with {action = "GetAllShifts", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.ShiftTypeDto]]] GetAllShifts() on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-10 12:09:09.974 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SHIFT_ID] AS [ShiftId], [s].[SHIFT_NAME_AR] AS [ShiftNameAr], [s].[START_TIME] AS [StartTime], [s].[END_TIME] AS [EndTime], [s].[HOURS_COUNT] AS [HoursCount], [s].[IS_CROSS_DAY] AS [IsCrossDay], [s].[GRACE_PERIOD_MINS] AS [GracePeriodMins]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [s].[SHIFT_ID]
2026-02-10 12:09:09.978 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.ShiftTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:09:09.981 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API) in 12.3366ms
2026-02-10 12:09:09.983 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-10 12:09:09.985 +03:00 [INF] HTTP GET /api/AttendanceSettings/shifts responded 200 in 33.5403 ms
2026-02-10 12:09:09.987 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 42.3344ms
2026-02-10 12:09:11.968 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/PayrollSettings/elements - null null
2026-02-10 12:09:11.976 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:09:11.978 +03:00 [INF] HTTP OPTIONS /api/PayrollSettings/elements responded 204 in 1.5062 ms
2026-02-10 12:09:11.985 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/PayrollSettings/elements - 204 null null 17.2415ms
2026-02-10 12:09:11.988 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/PayrollSettings/elements - null null
2026-02-10 12:09:11.995 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:09:11.997 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:09:11 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:09:12.003 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:09:11 ุต'.
2026-02-10 12:09:12.005 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-10 12:09:12.006 +03:00 [INF] Route matched with {action = "GetElements", controller = "PayrollSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto]]]] GetElements() on controller HRMS.API.Controllers.Payroll.PayrollSettingsController (HRMS.API).
2026-02-10 12:09:12.015 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[SALARY_ELEMENTS] AS [s]
2026-02-10 12:09:12.021 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Payroll.Configuration.SalaryElementDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 12:09:12.024 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API) in 13.9827ms
2026-02-10 12:09:12.027 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollSettingsController.GetElements (HRMS.API)'
2026-02-10 12:09:12.029 +03:00 [INF] HTTP GET /api/PayrollSettings/elements responded 200 in 33.8883 ms
2026-02-10 12:09:12.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/PayrollSettings/elements - 200 null application/json; charset=utf-8 43.1549ms
2026-02-10 12:14:10.148 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/JobGrades - null null
2026-02-10 12:14:10.167 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:10.169 +03:00 [INF] HTTP OPTIONS /api/JobGrades responded 204 in 2.0395 ms
2026-02-10 12:14:10.172 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/JobGrades - 204 null null 23.4167ms
2026-02-10 12:14:10.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/JobGrades - null null
2026-02-10 12:14:10.187 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:10.189 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:10 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:14:10.196 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:10 ุต'.
2026-02-10 12:14:10.198 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API)'
2026-02-10 12:14:10.200 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.Core.JobGradesController (HRMS.API).
2026-02-10 12:14:10.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 12:14:10.246 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 12:14:10.253 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:14:10.255 +03:00 [INF] Executed action HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API) in 50.3037ms
2026-02-10 12:14:10.273 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.JobGradesController.GetAll (HRMS.API)'
2026-02-10 12:14:10.295 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 108.1668 ms
2026-02-10 12:14:10.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/JobGrades - 200 null application/json; charset=utf-8 124.6557ms
2026-02-10 12:14:12.680 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/DocumentTypes - null null
2026-02-10 12:14:12.685 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:12.686 +03:00 [INF] HTTP OPTIONS /api/DocumentTypes responded 204 in 1.3463 ms
2026-02-10 12:14:12.689 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/DocumentTypes - 204 null null 9.5635ms
2026-02-10 12:14:12.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/DocumentTypes - null null
2026-02-10 12:14:12.699 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:12.701 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:12 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:14:12.708 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:12 ุต'.
2026-02-10 12:14:12.710 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API)'
2026-02-10 12:14:12.712 +03:00 [INF] Route matched with {action = "GetAll", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.DocumentTypes.Queries.GetAllDocumentTypes.GetAllDocumentTypesQuery) on controller HRMS.API.Controllers.Core.DocumentTypesController (HRMS.API).
2026-02-10 12:14:12.746 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 12:14:12.753 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DOCUMENT_TYPE_ID] AS [DocumentTypeId], [d].[DOCUMENT_TYPE_NAME_AR] AS [DocumentTypeNameAr], [d].[DOCUMENT_TYPE_NAME_EN] AS [DocumentTypeNameEn], [d].[IS_REQUIRED] AS [IsRequired], [d].[HAS_EXPIRY] AS [HasExpiry]
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [d].[DOCUMENT_TYPE_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-10 12:14:12.761 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DocumentTypeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:14:12.767 +03:00 [INF] Executed action HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API) in 50.7356ms
2026-02-10 12:14:12.771 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.DocumentTypesController.GetAll (HRMS.API)'
2026-02-10 12:14:12.773 +03:00 [INF] HTTP GET /api/DocumentTypes responded 200 in 73.4177 ms
2026-02-10 12:14:12.775 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/DocumentTypes - 200 null application/json; charset=utf-8 84.1431ms
2026-02-10 12:14:14.903 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/Jobs - null null
2026-02-10 12:14:14.907 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:14.909 +03:00 [INF] HTTP OPTIONS /api/Jobs responded 204 in 2.3298 ms
2026-02-10 12:14:14.913 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/Jobs - 204 null null 10.355ms
2026-02-10 12:14:14.922 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Jobs - null null
2026-02-10 12:14:14.933 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:14.936 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:14 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:14:14.942 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:14 ุต'.
2026-02-10 12:14:14.944 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API)'
2026-02-10 12:14:14.946 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.Core.JobsController (HRMS.API).
2026-02-10 12:14:14.955 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 12:14:14.992 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j1].[JOB_ID] AS [JobId], [j1].[JOB_TITLE_AR] AS [JobTitleAr], [j1].[JOB_TITLE_EN] AS [JobTitleEn], [j1].[DEFAULT_GRADE_ID] AS [DefaultGradeId], [j1].[IS_MEDICAL] AS [IsMedical], [j0].[GRADE_NAME_AR] AS [GradeNameAr]
FROM (
    SELECT [j].[JOB_ID], [j].[DEFAULT_GRADE_ID], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN]
    FROM [HR_CORE].[JOBS] AS [j]
    WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [j].[JOB_TITLE_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [j1]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j1].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
ORDER BY [j1].[JOB_TITLE_AR]
2026-02-10 12:14:15.003 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:14:15.006 +03:00 [INF] Executed action HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API) in 56.7595ms
2026-02-10 12:14:15.020 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Core.JobsController.GetAll (HRMS.API)'
2026-02-10 12:14:15.022 +03:00 [INF] HTTP GET /api/Jobs responded 200 in 89.0746 ms
2026-02-10 12:14:15.026 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Jobs - 200 null application/json; charset=utf-8 103.768ms
2026-02-10 12:14:17.158 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/AttendancePolicy - null null
2026-02-10 12:14:17.165 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:17.166 +03:00 [INF] HTTP OPTIONS /api/AttendancePolicy responded 204 in 2.0662 ms
2026-02-10 12:14:17.172 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/AttendancePolicy - 204 null null 13.6476ms
2026-02-10 12:14:17.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/AttendancePolicy - null null
2026-02-10 12:14:17.379 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:17.381 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:17 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:14:17.413 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:17 ุต'.
2026-02-10 12:14:17.415 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API)'
2026-02-10 12:14:17.417 +03:00 [INF] Route matched with {action = "GetAll", controller = "AttendancePolicy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.AttendancePolicyDto]]]] GetAll() on controller HRMS.API.Controllers.Attendance.AttendancePolicyController (HRMS.API).
2026-02-10 12:14:17.432 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[POLICY_ID] AS [PolicyId], [a].[POLICY_NAME_AR] AS [PolicyNameAr], [a].[DEPT_ID] AS [DeptId], [a].[JOB_ID] AS [JobId], [a].[LATE_GRACE_MINS] AS [LateGraceMins], [a].[OVERTIME_MULTIPLIER] AS [OvertimeMultiplier], [a].[WEEKEND_OT_MULTIPLIER] AS [WeekendOtMultiplier], [d].[DEPT_NAME_AR] AS [DepartmentName], [j].[JOB_TITLE_AR] AS [JobTitle]
FROM [HR_ATTENDANCE].[ATTENDANCE_POLICIES] AS [a]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [a].[DEPT_ID] = [d].[DEPT_ID]
LEFT JOIN [HR_CORE].[JOBS] AS [j] ON [a].[JOB_ID] = [j].[JOB_ID]
WHERE [a].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [a].[POLICY_ID]
2026-02-10 12:14:17.439 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.AttendancePolicyDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 12:14:17.442 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API) in 21.2688ms
2026-02-10 12:14:17.452 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendancePolicyController.GetAll (HRMS.API)'
2026-02-10 12:14:17.454 +03:00 [INF] HTTP GET /api/AttendancePolicy responded 200 in 74.9540 ms
2026-02-10 12:14:17.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/AttendancePolicy - 200 null application/json; charset=utf-8 272.3615ms
2026-02-10 12:14:20.029 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/LeaveConfiguration/leave-types - null null
2026-02-10 12:14:20.054 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:20.074 +03:00 [INF] HTTP OPTIONS /api/LeaveConfiguration/leave-types responded 204 in 19.6521 ms
2026-02-10 12:14:20.079 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/LeaveConfiguration/leave-types - 204 null null 49.7999ms
2026-02-10 12:14:20.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/LeaveConfiguration/leave-types - null null
2026-02-10 12:14:20.088 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:20.092 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:20 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:14:20.102 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:20 ุต'.
2026-02-10 12:14:20.105 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-10 12:14:20.107 +03:00 [INF] Route matched with {action = "GetAllLeaveTypes", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveTypeDto]]]] GetAllLeaveTypes() on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-02-10 12:14:20.123 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID] AS [LeaveTypeId], [l].[LEAVE_NAME_AR] AS [LeaveTypeNameAr], [l].[DEFAULT_DAYS] AS [DefaultDays], [l].[IS_DEDUCTIBLE] AS [IsDeductible], [l].[REQUIRES_ATTACHMENT] AS [RequiresAttachment]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [l].[LEAVE_NAME_AR]
2026-02-10 12:14:20.146 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 12:14:20.165 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API) in 50.3064ms
2026-02-10 12:14:20.172 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-02-10 12:14:20.183 +03:00 [INF] HTTP GET /api/LeaveConfiguration/leave-types responded 200 in 94.4256 ms
2026-02-10 12:14:20.186 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 104.6588ms
2026-02-10 12:14:22.179 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5201/api/AttendanceSettings/shifts - null null
2026-02-10 12:14:22.196 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:22.198 +03:00 [INF] HTTP OPTIONS /api/AttendanceSettings/shifts responded 204 in 1.7471 ms
2026-02-10 12:14:22.201 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5201/api/AttendanceSettings/shifts - 204 null null 22.699ms
2026-02-10 12:14:22.203 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/AttendanceSettings/shifts - null null
2026-02-10 12:14:22.211 +03:00 [INF] CORS policy execution successful.
2026-02-10 12:14:22.213 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:22 ุต'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 12:14:22.254 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/02/2026 09:52:29 ู', Current time (UTC): '10/02/2026 09:14:22 ุต'.
2026-02-10 12:14:22.259 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-10 12:14:22.262 +03:00 [INF] Route matched with {action = "GetAllShifts", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Attendance.ShiftTypeDto]]] GetAllShifts() on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-10 12:14:22.270 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SHIFT_ID] AS [ShiftId], [s].[SHIFT_NAME_AR] AS [ShiftNameAr], [s].[START_TIME] AS [StartTime], [s].[END_TIME] AS [EndTime], [s].[HOURS_COUNT] AS [HoursCount], [s].[IS_CROSS_DAY] AS [IsCrossDay], [s].[GRACE_PERIOD_MINS] AS [GracePeriodMins]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [s].[SHIFT_ID]
2026-02-10 12:14:22.275 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.DTOs.Attendance.ShiftTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 12:14:22.280 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API) in 13.432ms
2026-02-10 12:14:22.289 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-02-10 12:14:22.291 +03:00 [INF] HTTP GET /api/AttendanceSettings/shifts responded 200 in 80.0079 ms
2026-02-10 12:14:22.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 90.0996ms
2026-02-10 16:40:40.362 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 16:40:44.866 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 16:40:46.089 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 16:40:46.092 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 16:40:46.093 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 16:40:46.094 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 16:40:48.169 +03:00 [INF] Executed DbCommand (141ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 16:40:48.264 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 16:40:48.268 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 16:40:48.290 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 16:40:48.354 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 16:40:48.360 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 16:40:48.844 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 16:40:49.032 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 16:40:49.033 +03:00 [INF] Hosting environment: Development
2026-02-10 16:40:49.035 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 16:40:50.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 16:40:54.159 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3179.5655 ms
2026-02-10 16:40:54.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 3551.8907ms
2026-02-10 16:40:55.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 16:40:55.012 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 16:40:55.030 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 18.2998ms
2026-02-10 16:40:55.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 259.5568ms
2026-02-10 16:40:56.354 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 16:40:56.932 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 573.3219 ms
2026-02-10 16:40:57.027 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 672.5853ms
2026-02-10 16:51:18.009 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/violation-types - application/json 207
2026-02-10 16:51:18.024 +03:00 [INF] CORS policy execution successful.
2026-02-10 16:51:18.046 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager|Admin)
2026-02-10 16:51:18.197 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-10 16:51:18.205 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 401 in 185.3256 ms
2026-02-10 16:51:18.208 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/violation-types - 401 0 null 198.9164ms
2026-02-10 16:51:43.515 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Auth/login - application/json 74
2026-02-10 16:51:43.523 +03:00 [INF] CORS policy execution successful.
2026-02-10 16:51:43.528 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-10 16:51:43.577 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Auth.AuthResponse]]] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-02-10 16:51:43.778 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-10 16:51:43.933 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-10 16:51:43.946 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 16:51:44.206 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-10 16:51:44.308 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-10 16:51:44.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-10 16:51:44.393 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 16:51:44.404 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-10 16:51:44.419 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 16:51:44.438 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 853.4762ms
2026-02-10 16:51:44.441 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-10 16:51:44.443 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 920.9461 ms
2026-02-10 16:51:44.451 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Auth/login - 200 null application/json; charset=utf-8 935.9882ms
2026-02-10 16:52:13.407 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/violation-types - application/json 207
2026-02-10 16:52:13.415 +03:00 [INF] CORS policy execution successful.
2026-02-10 16:52:13.511 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-10 16:52:13.521 +03:00 [INF] Route matched with {action = "CreateViolationType", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateViolationType(HRMS.Application.Features.Performance.ViolationTypes.Commands.Create.CreateViolationTypeCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 16:52:13.638 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ViolationNameAr_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
        WHERE [v].[VIOLATION_NAME_AR] = @__request_ViolationNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 16:52:13.691 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 500), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[VIOLATION_TYPES] ([CREATED_AT], [CREATED_BY], [DESCRIPTION], [IS_DELETED], [SEVERITY_LEVEL], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [VIOLATION_NAME_AR])
OUTPUT INSERTED.[VIOLATION_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 16:52:13.706 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 16:52:13.718 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 16:52:13.722 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API) in 197.5154ms
2026-02-10 16:52:13.724 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateViolationType (HRMS.API)'
2026-02-10 16:52:13.726 +03:00 [INF] HTTP POST /api/Performance/config/violation-types responded 200 in 310.6689 ms
2026-02-10 16:52:13.728 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/violation-types - 200 null application/json; charset=utf-8 321.3144ms
2026-02-10 16:53:00.565 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/disciplinary-actions - application/json 94
2026-02-10 16:53:00.568 +03:00 [INF] CORS policy execution successful.
2026-02-10 16:53:00.570 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API)'
2026-02-10 16:53:00.581 +03:00 [INF] Route matched with {action = "CreateDisciplinaryAction", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateDisciplinaryAction(HRMS.Application.Features.Performance.DisciplinaryActions.Commands.Create.CreateDisciplinaryActionCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 16:53:00.609 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-10 16:53:00.795 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API) in 212.3326ms
2026-02-10 16:53:00.799 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API)'
2026-02-10 16:53:00.800 +03:00 [INF] HTTP POST /api/Performance/config/disciplinary-actions responded 400 in 232.7037 ms
2026-02-10 16:53:00.803 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/disciplinary-actions - 400 null application/problem+json; charset=utf-8 237.7096ms
2026-02-10 16:53:21.855 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/disciplinary-actions - application/json 90
2026-02-10 16:53:21.859 +03:00 [INF] CORS policy execution successful.
2026-02-10 16:53:21.860 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API)'
2026-02-10 16:53:21.861 +03:00 [INF] Route matched with {action = "CreateDisciplinaryAction", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateDisciplinaryAction(HRMS.Application.Features.Performance.DisciplinaryActions.Commands.Create.CreateDisciplinaryActionCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 16:53:22.027 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__request_ActionNameAr_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d]
        WHERE [d].[ACTION_NAME_AR] = @__request_ActionNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 16:53:22.150 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Precision = 3) (Scale = 1) (DbType = Decimal), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] ([ACTION_NAME_AR], [CREATED_AT], [CREATED_BY], [DEDUCTION_DAYS], [IS_DELETED], [IS_TERMINATION], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[ACTION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 16:53:22.164 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 16:53:22.169 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 16:53:22.172 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API) in 308.6721ms
2026-02-10 16:53:22.174 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateDisciplinaryAction (HRMS.API)'
2026-02-10 16:53:22.177 +03:00 [INF] HTTP POST /api/Performance/config/disciplinary-actions responded 200 in 318.0687 ms
2026-02-10 16:53:22.180 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/disciplinary-actions - 200 null application/json; charset=utf-8 324.8712ms
2026-02-10 16:55:58.529 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/violations - application/json 217
2026-02-10 16:55:58.532 +03:00 [INF] CORS policy execution successful.
2026-02-10 16:55:58.533 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-10 16:55:58.544 +03:00 [INF] Route matched with {action = "RegisterViolation", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] RegisterViolation(HRMS.Application.Features.Performance.Violations.Commands.RegisterViolation.RegisterViolationCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 16:55:58.625 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 16:55:58.639 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ViolationTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VIOLATION_TYPE_ID], [v].[CREATED_AT], [v].[CREATED_BY], [v].[DESCRIPTION], [v].[IS_DELETED], [v].[SEVERITY_LEVEL], [v].[UPDATED_AT], [v].[UPDATED_BY], [v].[VERSION_NO], [v].[VIOLATION_NAME_AR]
FROM [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v]
WHERE [v].[VIOLATION_TYPE_ID] = @__request_ViolationTypeId_0 AND [v].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 16:55:58.719 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-10 16:55:58.734 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 500), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] ([ACTION_ID], [CREATED_AT], [CREATED_BY], [DESCRIPTION], [EMPLOYEE_ID], [INVESTIGATION_NOTES], [IS_DELETED], [IS_EXECUTED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [VIOLATION_DATE], [VIOLATION_TYPE_ID])
OUTPUT INSERTED.[VIOLATION_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-02-10 16:55:58.740 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-10 16:55:58.743 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 16:55:58.750 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 16:55:58.752 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API) in 205.9659ms
2026-02-10 16:55:58.757 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.RegisterViolation (HRMS.API)'
2026-02-10 16:55:58.758 +03:00 [INF] HTTP POST /api/Performance/violations responded 200 in 226.7470 ms
2026-02-10 16:55:58.760 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/violations - 200 null application/json; charset=utf-8 231.2824ms
2026-02-10 16:57:14.965 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5201/api/Performance/violations/4/approve - null 0
2026-02-10 16:57:14.969 +03:00 [INF] CORS policy execution successful.
2026-02-10 16:57:14.970 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.ApproveViolation (HRMS.API)'
2026-02-10 16:57:14.979 +03:00 [INF] Route matched with {action = "ApproveViolation", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ApproveViolation(Int32) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 16:57:15.094 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ViolationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[VIOLATION_ID], [e].[ACTION_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DESCRIPTION], [e].[EMPLOYEE_ID], [e].[INVESTIGATION_NOTES], [e].[IS_DELETED], [e].[IS_EXECUTED], [e].[STATUS], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e].[VIOLATION_DATE], [e].[VIOLATION_TYPE_ID], [v].[VIOLATION_TYPE_ID], [v].[CREATED_AT], [v].[CREATED_BY], [v].[DESCRIPTION], [v].[IS_DELETED], [v].[SEVERITY_LEVEL], [v].[UPDATED_AT], [v].[UPDATED_BY], [v].[VERSION_NO], [v].[VIOLATION_NAME_AR], [d].[ACTION_ID], [d].[ACTION_NAME_AR], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEDUCTION_DAYS], [d].[IS_DELETED], [d].[IS_TERMINATION], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] AS [e]
INNER JOIN [HR_PERFORMANCE].[VIOLATION_TYPES] AS [v] ON [e].[VIOLATION_TYPE_ID] = [v].[VIOLATION_TYPE_ID]
LEFT JOIN [HR_PERFORMANCE].[DISCIPLINARY_ACTIONS] AS [d] ON [e].[ACTION_ID] = [d].[ACTION_ID]
WHERE [e].[VIOLATION_ID] = @__request_ViolationId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 16:57:15.140 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__violation_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__violation_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint) AND [s].[IsBasic] = CAST(1 AS tinyint)
2026-02-10 16:57:15.290 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-10 16:57:15.300 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p13='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (Size = 20), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 20), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (DbType = Int32), @p23='?' (Size = 200), @p24='?' (DbType = DateTime2), @p25='?' (Size = 50), @p26='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [HR_PERFORMANCE].[EMPLOYEE_VIOLATIONS] SET [IS_EXECUTED] = @p9, [STATUS] = @p10, [UPDATED_AT] = @p11, [UPDATED_BY] = @p12
OUTPUT 1
WHERE [VIOLATION_ID] = @p13 AND [VERSION_NO] = @p14;
INSERT INTO [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] ([AdjustmentType], [Amount], [ApprovedBy], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [PAYROLL_RUN_ID], [Reason], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[AdjustmentId]
VALUES (@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
2026-02-10 16:57:15.313 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-10 16:57:15.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 16:57:15.325 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 16:57:15.327 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.ApproveViolation (HRMS.API) in 345.21ms
2026-02-10 16:57:15.329 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.ApproveViolation (HRMS.API)'
2026-02-10 16:57:15.331 +03:00 [INF] HTTP PUT /api/Performance/violations/4/approve responded 200 in 362.8444 ms
2026-02-10 16:57:15.334 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5201/api/Performance/violations/4/approve - 200 null application/json; charset=utf-8 368.5245ms
2026-02-10 17:23:09.777 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/employee-profile/23/full-profile - null null
2026-02-10 17:23:09.782 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-10 17:23:09.796 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-10 17:23:10.043 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-10 17:23:10.319 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_GRADE_ID], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-10 17:23:10.413 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 17:23:10.484 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 684.2766ms
2026-02-10 17:23:10.486 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-10 17:23:10.488 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 707.0903 ms
2026-02-10 17:23:10.490 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 713.4252ms
2026-02-10 17:28:55.644 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 17:28:55.650 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 17:28:55.666 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 17:28:55.747 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:28:55.784 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:28:56.099 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:28:56.131 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:28:56.158 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:28:56.182 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:28:56.192 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 17:28:56.201 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 531.9623ms
2026-02-10 17:28:56.203 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 17:28:56.205 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 554.8084 ms
2026-02-10 17:28:56.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 563.2202ms
2026-02-10 17:36:55.690 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 17:36:55.695 +03:00 [INF] CORS policy execution successful.
2026-02-10 17:36:55.697 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 17:36:55.711 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 17:36:55.873 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 17:36:55.889 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 17:36:55.924 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:55.940 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:55.956 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:55.972 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:55.983 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:55.994 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.007 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.116 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:56.144 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:56.151 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:56.158 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.164 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.171 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.178 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:56.188 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:56.197 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:56.203 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.211 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:56.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:56.241 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:56.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.258 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.264 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.276 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:56.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:56.293 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:56.299 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.315 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.330 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:56.339 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:56.345 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:56.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.359 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.365 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.372 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:56.382 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:56.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:56.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.411 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.421 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:56.431 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:56.455 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:56.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.481 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:36:56.498 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:36:56.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:36:56.510 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:36:56.516 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:36:56.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:36:56.696 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (DbType = Int32), @p53='?' (Size = 1) (DbType = Byte), @p54='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p55='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p56='?' (DbType = Int32), @p57='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (Size = 50), @p63='?' (DbType = Int32), @p64='?' (DbType = Int32), @p65='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p66='?' (DbType = DateTime2), @p67='?' (Size = 50), @p68='?' (DbType = Int32), @p69='?' (Size = 1) (DbType = Byte), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p72='?' (DbType = Int32), @p73='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p74='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p75='?' (DbType = Int32), @p76='?' (DbType = Int32), @p77='?' (DbType = DateTime2), @p78='?' (Size = 50), @p79='?' (DbType = Int32), @p80='?' (DbType = Int32), @p81='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p82='?' (DbType = DateTime2), @p83='?' (Size = 50), @p84='?' (DbType = Int32), @p85='?' (Size = 1) (DbType = Byte), @p86='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p87='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p88='?' (DbType = Int32), @p89='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p90='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p91='?' (DbType = Int32), @p92='?' (DbType = Int32), @p93='?' (DbType = DateTime2), @p94='?' (Size = 50), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p98='?' (DbType = DateTime2), @p99='?' (Size = 50), @p100='?' (DbType = Int32), @p101='?' (Size = 1) (DbType = Byte), @p102='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p103='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (Size = 50), @p111='?' (DbType = Int32), @p112='?' (DbType = Int32), @p113='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = DateTime2), @p115='?' (Size = 50), @p116='?' (DbType = Int32), @p117='?' (Size = 1) (DbType = Byte), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p120='?' (DbType = Int32), @p121='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p122='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 50), @p127='?' (DbType = Int32), @p128='?' (DbType = Int32), @p129='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (DbType = Int32), @p133='?' (Size = 1) (DbType = Byte), @p134='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p135='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p136='?' (DbType = Int32), @p137='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p138='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (DbType = Int32), @p141='?' (DbType = DateTime2), @p142='?' (Size = 50), @p143='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 3),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 4),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 5),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, 6),
(@p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, 7),
(@p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 8)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-10 17:36:56.734 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (Size = 20), @p28='?' (Size = 50), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int64), @p34='?' (Size = 100), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int64), @p43='?' (Size = 100), @p44='?' (Size = 200), @p45='?' (Size = 20), @p46='?' (Size = 50), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime2), @p50='?' (Size = 50), @p51='?' (DbType = Int64), @p52='?' (Size = 100), @p53='?' (Size = 200), @p54='?' (Size = 20), @p55='?' (Size = 50), @p56='?' (Size = 4000), @p57='?' (Size = 4000), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int64), @p61='?' (Size = 100), @p62='?' (Size = 200), @p63='?' (Size = 20), @p64='?' (Size = 50), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int64), @p70='?' (Size = 100), @p71='?' (Size = 200), @p72='?' (Size = 20), @p73='?' (Size = 50), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int64), @p79='?' (Size = 100), @p80='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 5),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, 6),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, 8)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-10 17:36:56.743 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 17:36:56.746 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 1031.6393ms
2026-02-10 17:36:56.749 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 17:36:56.752 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 1056.2507 ms
2026-02-10 17:36:56.754 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 1064.4331ms
2026-02-10 17:37:55.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 17:37:55.268 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 17:37:55.270 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 17:37:55.430 +03:00 [INF] Executed DbCommand (142ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:37:55.630 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:37:55.661 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:37:55.730 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:37:55.752 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:37:55.772 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:37:55.782 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 17:37:55.798 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 519.7011ms
2026-02-10 17:37:55.839 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 17:37:55.841 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 574.3838 ms
2026-02-10 17:37:55.853 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 591.2534ms
2026-02-10 17:38:14.207 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 17:38:14.212 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 17:38:14.214 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 17:38:14.225 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:38:14.232 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:38:14.271 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:38:14.291 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:38:14.296 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:38:14.304 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:38:14.308 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 17:38:14.311 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 91.7608ms
2026-02-10 17:38:14.314 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 17:38:14.316 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 104.3672 ms
2026-02-10 17:38:14.318 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 111.6285ms
2026-02-10 17:38:55.354 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 17:38:55.359 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 17:38:55.361 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 17:38:55.380 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 17:38:55.429 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 17:38:55.445 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 17:38:55.457 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 17:38:55.469 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 17:38:55.478 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 17:38:55.484 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 17:38:55.487 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 121.5779ms
2026-02-10 17:38:55.493 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 17:38:55.494 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 135.7656 ms
2026-02-10 17:38:55.496 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 142.9217ms
2026-02-10 17:41:31.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/export-bank-file/2/2026 - null null
2026-02-10 17:41:31.967 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ExportBankFile (HRMS.API)'
2026-02-10 17:41:31.987 +03:00 [INF] Route matched with {action = "ExportBankFile", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportBankFile(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 17:41:32.935 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__month_0='?' (DbType = Byte), @__year_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[RunId], [p].[CREATED_AT], [p].[CREATED_BY], [p].[IS_DELETED], [p].[Month], [p].[Notes], [p].[RunDate], [p].[Status], [p].[TotalPayout], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO], [p].[Year]
FROM [HR_PAYROLL].[PAYROLL_RUNS] AS [p]
WHERE [p].[Month] = @__month_0 AND [p].[Year] = @__year_1
ORDER BY [p].[RunId] DESC
2026-02-10 17:41:33.025 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__latestRun_RunId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PayslipId], [p].[ABSENCE_DAYS], [p].[BasicSalary], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[NetSalary], [p].[OT_EARNINGS], [p].[RUN_ID], [p].[TotalAllowances], [p].[TotalDeductions], [p].[TOTAL_LATE_MINUTES], [p].[TOTAL_OT_MINUTES], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [s].[ACCOUNT_ID], [s].[ACCOUNT_NUMBER], [s].[BANK_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[EMPLOYEE_ID], [s].[IBAN], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[IS_PRIMARY], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO], [s].[BANK_ID0], [s].[ADDRESS], [s].[BANK_CODE], [s].[BANK_NAME_AR], [s].[BANK_NAME_EN], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[EMAIL], [s].[IS_DELETED0], [s].[PHONE], [s].[SWIFT_CODE], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0]
FROM [HR_PAYROLL].[PAYSLIPS] AS [p]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [p].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e0].[ACCOUNT_ID], [e0].[ACCOUNT_NUMBER], [e0].[BANK_ID], [e0].[CREATED_AT], [e0].[CREATED_BY], [e0].[EMPLOYEE_ID], [e0].[IBAN], [e0].[IS_ACTIVE], [e0].[IS_DELETED], [e0].[IS_PRIMARY], [e0].[UPDATED_AT], [e0].[UPDATED_BY], [e0].[VERSION_NO], [b].[BANK_ID] AS [BANK_ID0], [b].[ADDRESS], [b].[BANK_CODE], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[CREATED_AT] AS [CREATED_AT0], [b].[CREATED_BY] AS [CREATED_BY0], [b].[EMAIL], [b].[IS_DELETED] AS [IS_DELETED0], [b].[PHONE], [b].[SWIFT_CODE], [b].[UPDATED_AT] AS [UPDATED_AT0], [b].[UPDATED_BY] AS [UPDATED_BY0], [b].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e0]
    INNER JOIN [HR_CORE].[BANKS] AS [b] ON [e0].[BANK_ID] = [b].[BANK_ID]
) AS [s] ON [e].[EMPLOYEE_ID] = [s].[EMPLOYEE_ID]
WHERE [p].[RUN_ID] = @__latestRun_RunId_0
ORDER BY [p].[PayslipId], [e].[EMPLOYEE_ID], [s].[ACCOUNT_ID]
2026-02-10 17:41:36.561 +03:00 [INF] Executing FileContentResult, sending file with download name 'Bank_Transfer_02_2026.xlsx' ...
2026-02-10 17:41:36.582 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ExportBankFile (HRMS.API) in 4588.4054ms
2026-02-10 17:41:36.584 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ExportBankFile (HRMS.API)'
2026-02-10 17:41:36.585 +03:00 [INF] HTTP GET /api/Payroll/export-bank-file/2/2026 responded 200 in 4619.0886 ms
2026-02-10 17:41:36.587 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/export-bank-file/2/2026 - 200 7503 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 4623.9866ms
2026-02-10 18:10:15.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 18:10:15.971 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/02/2026 02:51:44 ู', Current time (UTC): '10/02/2026 03:10:15 ู'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2026-02-10 18:10:16.024 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/02/2026 02:51:44 ู', Current time (UTC): '10/02/2026 03:10:15 ู'.
2026-02-10 18:10:16.026 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 18:10:16.027 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 18:10:16.056 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:10:16.070 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:10:16.082 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:10:16.090 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:10:16.100 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:10:16.108 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:10:16.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 18:10:16.115 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 84.5431ms
2026-02-10 18:10:16.116 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 18:10:16.118 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 152.2962 ms
2026-02-10 18:10:16.120 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 166.6662ms
2026-02-10 18:33:00.167 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 18:33:07.466 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 18:33:09.667 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:33:09.671 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:33:09.673 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:33:09.674 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:33:12.834 +03:00 [INF] Executed DbCommand (175ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:33:13.014 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:33:13.023 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:33:13.060 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 18:33:13.154 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 18:33:13.165 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 18:33:13.726 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 18:33:13.898 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 18:33:13.899 +03:00 [INF] Hosting environment: Development
2026-02-10 18:33:13.901 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 18:33:17.008 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 18:33:21.086 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3722.9407 ms
2026-02-10 18:33:21.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 4188.0199ms
2026-02-10 18:33:22.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 18:33:22.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 18:33:22.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 29.4117ms
2026-02-10 18:33:22.162 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.2762ms
2026-02-10 18:33:23.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 18:33:23.654 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 511.7800 ms
2026-02-10 18:33:23.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 527.0516ms
2026-02-10 18:33:58.621 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 18:33:58.721 +03:00 [INF] CORS policy execution successful.
2026-02-10 18:33:58.857 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 18:33:58.900 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 18:33:59.388 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 18:33:59.505 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 18:33:59.537 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:33:59.671 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:33:59.725 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.029 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.064 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.089 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.109 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.179 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:00.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.208 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.215 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.266 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.274 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.292 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:00.306 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.330 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.337 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.349 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.360 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.388 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:00.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.422 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.432 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.452 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:00.463 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.485 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.494 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.503 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.514 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:00.521 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.537 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.544 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.555 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.563 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.570 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:00.598 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.617 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.626 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.639 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.646 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.653 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:00.667 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.683 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.693 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.708 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.734 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:00.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:00.761 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:00.769 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:00.783 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:00.795 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:00.818 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:01.040 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (DbType = Int32), @p53='?' (Size = 1) (DbType = Byte), @p54='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p55='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p56='?' (DbType = Int32), @p57='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (Size = 50), @p63='?' (DbType = Int32), @p64='?' (DbType = Int32), @p65='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p66='?' (DbType = DateTime2), @p67='?' (Size = 50), @p68='?' (DbType = Int32), @p69='?' (Size = 1) (DbType = Byte), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p72='?' (DbType = Int32), @p73='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p74='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p75='?' (DbType = Int32), @p76='?' (DbType = Int32), @p77='?' (DbType = DateTime2), @p78='?' (Size = 50), @p79='?' (DbType = Int32), @p80='?' (DbType = Int32), @p81='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p82='?' (DbType = DateTime2), @p83='?' (Size = 50), @p84='?' (DbType = Int32), @p85='?' (Size = 1) (DbType = Byte), @p86='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p87='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p88='?' (DbType = Int32), @p89='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p90='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p91='?' (DbType = Int32), @p92='?' (DbType = Int32), @p93='?' (DbType = DateTime2), @p94='?' (Size = 50), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p98='?' (DbType = DateTime2), @p99='?' (Size = 50), @p100='?' (DbType = Int32), @p101='?' (Size = 1) (DbType = Byte), @p102='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p103='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (Size = 50), @p111='?' (DbType = Int32), @p112='?' (DbType = Int32), @p113='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = DateTime2), @p115='?' (Size = 50), @p116='?' (DbType = Int32), @p117='?' (Size = 1) (DbType = Byte), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p120='?' (DbType = Int32), @p121='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p122='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 50), @p127='?' (DbType = Int32), @p128='?' (DbType = Int32), @p129='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (DbType = Int32), @p133='?' (Size = 1) (DbType = Byte), @p134='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p135='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p136='?' (DbType = Int32), @p137='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p138='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (DbType = Int32), @p141='?' (DbType = DateTime2), @p142='?' (Size = 50), @p143='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 3),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 4),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 5),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, 6),
(@p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, 7),
(@p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 8)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-10 18:34:01.118 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (Size = 20), @p28='?' (Size = 50), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int64), @p34='?' (Size = 100), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int64), @p43='?' (Size = 100), @p44='?' (Size = 200), @p45='?' (Size = 20), @p46='?' (Size = 50), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime2), @p50='?' (Size = 50), @p51='?' (DbType = Int64), @p52='?' (Size = 100), @p53='?' (Size = 200), @p54='?' (Size = 20), @p55='?' (Size = 50), @p56='?' (Size = 4000), @p57='?' (Size = 4000), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int64), @p61='?' (Size = 100), @p62='?' (Size = 200), @p63='?' (Size = 20), @p64='?' (Size = 50), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int64), @p70='?' (Size = 100), @p71='?' (Size = 200), @p72='?' (Size = 20), @p73='?' (Size = 50), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int64), @p79='?' (Size = 100), @p80='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 5),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, 6),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, 8)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-10 18:34:01.148 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 18:34:01.172 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 2259.7024ms
2026-02-10 18:34:01.176 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 18:34:01.179 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 2547.5011 ms
2026-02-10 18:34:01.191 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 2569.6588ms
2026-02-10 18:34:18.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 18:34:18.201 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 18:34:18.222 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 18:34:18.274 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:34:18.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:34:18.300 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:34:18.312 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:34:18.324 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:34:18.336 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:34:18.347 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 18:34:18.364 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 137.1827ms
2026-02-10 18:34:18.366 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 18:34:18.367 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 167.2436 ms
2026-02-10 18:34:18.371 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 188.3826ms
2026-02-10 18:47:25.714 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 18:47:28.308 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 18:47:31.441 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:47:31.445 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:47:31.447 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:47:31.449 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:47:33.164 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:47:33.361 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:47:33.370 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:47:33.412 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 18:47:33.554 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 18:47:33.567 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 18:47:34.146 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 18:47:34.333 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 18:47:34.343 +03:00 [INF] Hosting environment: Development
2026-02-10 18:47:34.385 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 18:47:37.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 18:47:38.544 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 308.7831 ms
2026-02-10 18:47:38.582 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 663.9396ms
2026-02-10 18:47:38.606 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 18:47:38.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 22.9719ms
2026-02-10 18:47:39.261 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 18:47:39.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.8501ms
2026-02-10 18:47:40.474 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 18:47:41.078 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 599.9707 ms
2026-02-10 18:47:41.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 607.867ms
2026-02-10 18:49:20.514 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 18:49:20.533 +03:00 [INF] CORS policy execution successful.
2026-02-10 18:49:20.574 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 18:49:20.639 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 18:49:21.324 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 18:49:21.585 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 18:49:21.667 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:21.930 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:22.034 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:22.641 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:22.699 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:22.737 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:22.769 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:22.900 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:22.910 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:22.939 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:22.950 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:23.023 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:23.035 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:23.053 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:23.067 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:23.085 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:23.095 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:23.109 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:23.118 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:23.131 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:23.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:23.160 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:23.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:23.182 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:23.194 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:23.203 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:23.215 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:23.239 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:23.251 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:23.264 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:23.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:23.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:23.313 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:23.334 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:23.345 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:23.359 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:23.368 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:23.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:23.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:23.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:23.412 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:23.427 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:23.450 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:23.463 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:23.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:23.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:23.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:23.512 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:23.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:23.535 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:23.548 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:23.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:23.576 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:23.584 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:23.593 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:23.610 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:23.932 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (DbType = Int32), @p53='?' (Size = 1) (DbType = Byte), @p54='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p55='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p56='?' (DbType = Int32), @p57='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (Size = 50), @p63='?' (DbType = Int32), @p64='?' (DbType = Int32), @p65='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p66='?' (DbType = DateTime2), @p67='?' (Size = 50), @p68='?' (DbType = Int32), @p69='?' (Size = 1) (DbType = Byte), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p72='?' (DbType = Int32), @p73='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p74='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p75='?' (DbType = Int32), @p76='?' (DbType = Int32), @p77='?' (DbType = DateTime2), @p78='?' (Size = 50), @p79='?' (DbType = Int32), @p80='?' (DbType = Int32), @p81='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p82='?' (DbType = DateTime2), @p83='?' (Size = 50), @p84='?' (DbType = Int32), @p85='?' (Size = 1) (DbType = Byte), @p86='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p87='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p88='?' (DbType = Int32), @p89='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p90='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p91='?' (DbType = Int32), @p92='?' (DbType = Int32), @p93='?' (DbType = DateTime2), @p94='?' (Size = 50), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p98='?' (DbType = DateTime2), @p99='?' (Size = 50), @p100='?' (DbType = Int32), @p101='?' (Size = 1) (DbType = Byte), @p102='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p103='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (Size = 50), @p111='?' (DbType = Int32), @p112='?' (DbType = Int32), @p113='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = DateTime2), @p115='?' (Size = 50), @p116='?' (DbType = Int32), @p117='?' (Size = 1) (DbType = Byte), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p120='?' (DbType = Int32), @p121='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p122='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 50), @p127='?' (DbType = Int32), @p128='?' (DbType = Int32), @p129='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (DbType = Int32), @p133='?' (Size = 1) (DbType = Byte), @p134='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p135='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p136='?' (DbType = Int32), @p137='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p138='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (DbType = Int32), @p141='?' (DbType = DateTime2), @p142='?' (Size = 50), @p143='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 3),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 4),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 5),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, 6),
(@p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, 7),
(@p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 8)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-10 18:49:24.021 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (Size = 20), @p28='?' (Size = 50), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int64), @p34='?' (Size = 100), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int64), @p43='?' (Size = 100), @p44='?' (Size = 200), @p45='?' (Size = 20), @p46='?' (Size = 50), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime2), @p50='?' (Size = 50), @p51='?' (DbType = Int64), @p52='?' (Size = 100), @p53='?' (Size = 200), @p54='?' (Size = 20), @p55='?' (Size = 50), @p56='?' (Size = 4000), @p57='?' (Size = 4000), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int64), @p61='?' (Size = 100), @p62='?' (Size = 200), @p63='?' (Size = 20), @p64='?' (Size = 50), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int64), @p70='?' (Size = 100), @p71='?' (Size = 200), @p72='?' (Size = 20), @p73='?' (Size = 50), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int64), @p79='?' (Size = 100), @p80='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 5),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, 6),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, 8)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-10 18:49:24.077 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 18:49:24.104 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 3448.1212ms
2026-02-10 18:49:24.115 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 18:49:24.119 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 3590.9986 ms
2026-02-10 18:49:24.145 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 3631.1766ms
2026-02-10 18:49:40.981 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 18:49:40.995 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 18:49:41.013 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 18:49:41.097 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 18:49:41.120 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:49:41.148 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 18:49:41.174 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:49:41.193 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 18:49:41.207 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 18:49:41.220 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 18:49:41.245 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 215.7198ms
2026-02-10 18:49:41.247 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 18:49:41.249 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 255.7180 ms
2026-02-10 18:49:41.255 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 274.5188ms
2026-02-10 18:50:59.431 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/employee-profile/23/full-profile - null null
2026-02-10 18:50:59.439 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-10 18:50:59.454 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeProfileController (HRMS.API).
2026-02-10 18:50:59.690 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-10 18:51:00.336 +03:00 [INF] Executed DbCommand (185ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[JOB_GRADE_ID], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[PROFILE_PICTURE_PATH], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[TERMINATION_DATE], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE0], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [s1].[QUALIFICATION_ID], [s1].[ATTACHMENT_PATH], [s1].[COUNTRY_ID], [s1].[CREATED_AT], [s1].[CREATED_BY], [s1].[DEGREE_TYPE], [s1].[EMPLOYEE_ID], [s1].[GRADE], [s1].[GRADUATION_YEAR], [s1].[IS_DELETED], [s1].[MAJOR_AR], [s1].[UNIVERSITY_AR], [s1].[UPDATED_AT], [s1].[UPDATED_BY], [s1].[VERSION_NO], [s1].[COUNTRY_ID0], [s1].[CITIZENSHIP_NAME_AR], [s1].[CITIZENSHIP_NAME_EN], [s1].[COUNTRY_NAME_AR], [s1].[COUNTRY_NAME_EN], [s1].[CREATED_AT0], [s1].[CREATED_BY0], [s1].[IS_DELETED0], [s1].[ISO_CODE], [s1].[UPDATED_AT0], [s1].[UPDATED_BY0], [s1].[VERSION_NO0], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c1].[CONTRACT_ID], [c1].[BASIC_SALARY], [c1].[CONTRACT_STATUS], [c1].[CONTRACT_TYPE], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[EMPLOYEE_ID], [c1].[END_DATE], [c1].[HOUSING_ALLOWANCE], [c1].[IS_DELETED], [c1].[IS_RENEWABLE], [c1].[OTHER_ALLOWANCES], [c1].[START_DATE], [c1].[TRANSPORT_ALLOWANCE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VACATION_DAYS], [c1].[VERSION_NO], [c1].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE] AS [IS_ACTIVE0], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [c0].[COUNTRY_ID] AS [COUNTRY_ID0], [c0].[CITIZENSHIP_NAME_AR], [c0].[CITIZENSHIP_NAME_EN], [c0].[COUNTRY_NAME_AR], [c0].[COUNTRY_NAME_EN], [c0].[CREATED_AT] AS [CREATED_AT0], [c0].[CREATED_BY] AS [CREATED_BY0], [c0].[IS_DELETED] AS [IS_DELETED0], [c0].[ISO_CODE], [c0].[UPDATED_AT] AS [UPDATED_AT0], [c0].[UPDATED_BY] AS [UPDATED_BY0], [c0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [e2].[COUNTRY_ID] = [c0].[COUNTRY_ID]
) AS [s1] ON [s].[EMPLOYEE_ID] = [s1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c1] ON [s].[EMPLOYEE_ID] = [c1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [s1].[QUALIFICATION_ID], [s1].[COUNTRY_ID0], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c1].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-02-10 18:51:00.532 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 18:51:00.717 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API) in 1255.5127ms
2026-02-10 18:51:00.731 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeProfileController.GetFullProfile (HRMS.API)'
2026-02-10 18:51:00.733 +03:00 [INF] HTTP GET /api/employee-profile/23/full-profile responded 200 in 1293.6569 ms
2026-02-10 18:51:00.735 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/employee-profile/23/full-profile - 200 null application/json; charset=utf-8 1303.8538ms
2026-02-10 18:56:19.913 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 18:56:23.731 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 18:56:26.089 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:56:26.245 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:56:26.247 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:56:26.250 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:56:29.422 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:56:29.627 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:56:29.633 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 18:56:29.685 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 18:56:29.778 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 18:56:29.785 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 18:56:30.169 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 18:56:30.390 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 18:56:30.401 +03:00 [INF] Hosting environment: Development
2026-02-10 18:56:30.403 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 18:56:32.958 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger - null null
2026-02-10 18:56:33.406 +03:00 [INF] HTTP GET /swagger responded 301 in 142.6766 ms
2026-02-10 18:56:33.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger - 301 null null 483.3662ms
2026-02-10 18:56:33.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 18:56:33.721 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 229.3132 ms
2026-02-10 18:56:33.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/swagger-ui.css - null null
2026-02-10 18:56:33.735 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 267.2671ms
2026-02-10 18:56:33.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/swagger-ui-standalone-preset.js - null null
2026-02-10 18:56:33.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/swagger-ui-bundle.js - null null
2026-02-10 18:56:33.823 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2026-02-10 18:56:33.840 +03:00 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 105.8652 ms
2026-02-10 18:56:33.846 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/swagger-ui.css - 200 152034 text/css 118.8732ms
2026-02-10 18:56:33.833 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2026-02-10 18:56:33.874 +03:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 112.8568 ms
2026-02-10 18:56:33.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 149.81ms
2026-02-10 18:56:33.924 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2026-02-10 18:56:34.006 +03:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 234.1248 ms
2026-02-10 18:56:34.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 282.0628ms
2026-02-10 18:56:34.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 18:56:34.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 18:56:34.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 18.0528ms
2026-02-10 18:56:34.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.0622ms
2026-02-10 18:56:36.722 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 18:56:36.796 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/favicon-32x32.png - null null
2026-02-10 18:56:37.547 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2026-02-10 18:56:37.553 +03:00 [INF] HTTP GET /swagger/favicon-32x32.png responded 200 in 6.4040 ms
2026-02-10 18:56:37.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/favicon-32x32.png - 200 628 image/png 762.0529ms
2026-02-10 18:56:38.626 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1081.1260 ms
2026-02-10 18:56:38.825 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2103.4548ms
2026-02-10 18:57:13.656 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 18:57:13.671 +03:00 [INF] CORS policy execution successful.
2026-02-10 18:57:13.687 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 18:57:13.738 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 18:57:14.224 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 18:57:14.336 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 18:57:14.377 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 18:57:14.422 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 18:57:14.455 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryElementDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 18:57:14.507 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURES] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 18:57:14.559 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:7603e5c5-2971-40f3-b2dc-6a1a268c51c9
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:7603e5c5-2971-40f3-b2dc-6a1a268c51c9
Error Number:208,State:1,Class:16
2026-02-10 18:58:09.544 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 55791.5755ms
2026-02-10 18:58:09.563 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 18:58:09.846 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:7603e5c5-2971-40f3-b2dc-6a1a268c51c9
Error Number:208,State:1,Class:16
2026-02-10 18:58:10.221 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 56557.0646 ms
2026-02-10 18:58:10.247 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 56590.6711ms
2026-02-10 19:19:37.869 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 19:19:40.327 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 19:19:42.171 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:19:42.175 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:19:42.176 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:19:42.177 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:19:43.626 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 19:19:43.785 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 19:19:43.792 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 19:19:43.836 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 19:19:43.978 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 19:19:43.985 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 19:19:44.510 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 19:19:44.710 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 19:19:44.764 +03:00 [INF] Hosting environment: Development
2026-02-10 19:19:44.778 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 19:19:45.398 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 19:19:46.110 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 388.6404 ms
2026-02-10 19:19:46.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 19:19:46.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 1145.3326ms
2026-02-10 19:19:46.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 385.6596ms
2026-02-10 19:19:46.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 19:19:46.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.4653ms
2026-02-10 19:19:48.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 19:19:49.184 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 587.6787 ms
2026-02-10 19:19:49.243 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 664.7377ms
2026-02-10 19:20:08.197 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 19:20:08.213 +03:00 [INF] CORS policy execution successful.
2026-02-10 19:20:08.235 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 19:20:08.282 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 19:20:08.656 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 19:20:08.792 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 19:20:08.837 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 19:20:08.891 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 19:20:08.920 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryElementDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:20:08.969 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURES] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 19:20:09.004 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f3c8faa0-4b6d-40a4-8e37-ee2ee919ae11
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f3c8faa0-4b6d-40a4-8e37-ee2ee919ae11
Error Number:208,State:1,Class:16
2026-02-10 19:20:24.814 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 16520.6262ms
2026-02-10 19:20:24.818 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 19:20:25.065 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:f3c8faa0-4b6d-40a4-8e37-ee2ee919ae11
Error Number:208,State:1,Class:16
2026-02-10 19:20:25.151 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 16945.4109 ms
2026-02-10 19:20:25.166 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 16969.5318ms
2026-02-10 19:21:00.387 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 19:21:00.398 +03:00 [INF] CORS policy execution successful.
2026-02-10 19:21:00.399 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 19:21:00.401 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 19:21:00.455 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 19:21:00.473 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 19:21:00.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 19:21:00.495 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 19:21:00.514 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURES] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 19:21:00.523 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f3c8faa0-4b6d-40a4-8e37-ee2ee919ae11
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f3c8faa0-4b6d-40a4-8e37-ee2ee919ae11
Error Number:208,State:1,Class:16
2026-02-10 19:21:10.013 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 9606.2516ms
2026-02-10 19:21:10.017 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 19:21:10.222 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:f3c8faa0-4b6d-40a4-8e37-ee2ee919ae11
Error Number:208,State:1,Class:16
2026-02-10 19:21:10.288 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 9890.8858 ms
2026-02-10 19:21:10.291 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 9903.9998ms
2026-02-10 19:25:52.273 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 19:25:52.750 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 19:26:44.783 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 19:26:45.205 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 19:34:22.465 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 19:34:25.279 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 19:34:27.758 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:34:27.761 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:34:27.763 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:34:27.764 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:34:28.959 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 19:34:29.140 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 19:34:29.148 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 19:34:29.188 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 19:34:29.297 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 19:34:29.305 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 19:34:29.758 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 19:34:29.937 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 19:34:29.940 +03:00 [INF] Hosting environment: Development
2026-02-10 19:34:29.942 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 19:34:30.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 19:34:31.300 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 417.4272 ms
2026-02-10 19:34:31.323 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 791.4495ms
2026-02-10 19:34:31.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 19:34:31.359 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 25.7494ms
2026-02-10 19:34:31.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 19:34:31.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.6401ms
2026-02-10 19:34:33.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 19:34:33.965 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 637.4475 ms
2026-02-10 19:34:33.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 667.5849ms
2026-02-10 19:51:32.534 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 19:51:32.554 +03:00 [INF] CORS policy execution successful.
2026-02-10 19:51:32.589 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 19:51:32.641 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 19:51:33.123 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 19:51:33.289 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 19:51:33.338 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 19:51:33.374 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 19:51:33.419 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryElementDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 19:51:33.455 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURES] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 19:51:33.504 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dd75ea5f-e31e-4e43-9199-f1632ef5a7f2
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dd75ea5f-e31e-4e43-9199-f1632ef5a7f2
Error Number:208,State:1,Class:16
2026-02-10 20:05:28.933 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 836278.2774ms
2026-02-10 20:05:28.948 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:05:29.252 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:dd75ea5f-e31e-4e43-9199-f1632ef5a7f2
Error Number:208,State:1,Class:16
2026-02-10 20:05:29.435 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 836888.7782 ms
2026-02-10 20:05:29.479 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 836944.0806ms
2026-02-10 20:14:21.695 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 20:14:24.116 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 20:14:26.354 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:14:26.368 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:14:26.381 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:14:26.383 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:14:27.834 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:14:27.981 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:14:27.987 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:14:28.013 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 20:14:28.095 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 20:14:28.102 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 20:14:28.652 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 20:14:28.808 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 20:14:29.562 +03:00 [INF] Hosting environment: Development
2026-02-10 20:14:29.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 20:14:29.704 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 20:14:30.716 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 443.6154 ms
2026-02-10 20:14:30.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 20:14:30.814 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 1135.4958ms
2026-02-10 20:14:30.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 71.4275ms
2026-02-10 20:14:31.495 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 20:14:31.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 116.2335ms
2026-02-10 20:14:33.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 20:14:33.970 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 786.6313 ms
2026-02-10 20:14:33.973 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 812.9999ms
2026-02-10 20:14:50.766 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:14:50.781 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:14:50.809 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:14:50.936 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:14:51.651 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:14:51.781 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:14:51.837 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:14:51.885 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:14:51.931 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryElementDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:14:51.984 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURES] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:14:52.019 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:16:51.116 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 119876.4509ms
2026-02-10 20:16:51.119 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:16:51.318 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:16:51.401 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 120626.3200 ms
2026-02-10 20:16:51.410 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 120643.8738ms
2026-02-10 20:17:05.184 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:17:05.195 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:17:05.196 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:17:05.198 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:17:05.275 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:17:05.286 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:17:05.296 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:17:05.308 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:17:05.321 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURES] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:17:05.333 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:17:09.060 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 3852.5013ms
2026-02-10 20:17:09.064 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:17:09.242 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:17:09.324 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 4129.3557 ms
2026-02-10 20:17:09.326 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 4142.4555ms
2026-02-10 20:17:24.043 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 20:17:24.047 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 20:17:24.057 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:17:24.086 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:17:24.115 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURES] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:17:24.120 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:17:29.467 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 5405.3197ms
2026-02-10 20:17:29.483 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 20:17:29.661 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.GetPayslip(Int32 employeeId, Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 48
   at lambda_method581(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:17:29.732 +03:00 [ERR] HTTP GET /api/Payroll/payslip/23/2/2026 responded 500 in 5685.2967 ms
2026-02-10 20:17:29.734 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 500 null application/json 5691.7067ms
2026-02-10 20:17:46.259 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/export-bank-file/2/2026 - null null
2026-02-10 20:17:46.262 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ExportBankFile (HRMS.API)'
2026-02-10 20:17:46.273 +03:00 [INF] Route matched with {action = "ExportBankFile", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportBankFile(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:17:46.366 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__month_0='?' (DbType = Byte), @__year_1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[RunId], [p].[CREATED_AT], [p].[CREATED_BY], [p].[IS_DELETED], [p].[Month], [p].[Notes], [p].[RunDate], [p].[Status], [p].[TotalPayout], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO], [p].[Year]
FROM [HR_PAYROLL].[PAYROLL_RUNS] AS [p]
WHERE [p].[Month] = @__month_0 AND [p].[Year] = @__year_1
ORDER BY [p].[RunId] DESC
2026-02-10 20:17:46.596 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__latestRun_RunId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PayslipId], [p].[ABSENCE_DAYS], [p].[BasicSalary], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[NetSalary], [p].[OT_EARNINGS], [p].[RUN_ID], [p].[TotalAllowances], [p].[TotalDeductions], [p].[TOTAL_LATE_MINUTES], [p].[TOTAL_OT_MINUTES], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO], [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [s].[ACCOUNT_ID], [s].[ACCOUNT_NUMBER], [s].[BANK_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[EMPLOYEE_ID], [s].[IBAN], [s].[IS_ACTIVE], [s].[IS_DELETED], [s].[IS_PRIMARY], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO], [s].[BANK_ID0], [s].[ADDRESS], [s].[BANK_CODE], [s].[BANK_NAME_AR], [s].[BANK_NAME_EN], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[EMAIL], [s].[IS_DELETED0], [s].[PHONE], [s].[SWIFT_CODE], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0]
FROM [HR_PAYROLL].[PAYSLIPS] AS [p]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e] ON [p].[EMPLOYEE_ID] = [e].[EMPLOYEE_ID]
LEFT JOIN (
    SELECT [e0].[ACCOUNT_ID], [e0].[ACCOUNT_NUMBER], [e0].[BANK_ID], [e0].[CREATED_AT], [e0].[CREATED_BY], [e0].[EMPLOYEE_ID], [e0].[IBAN], [e0].[IS_ACTIVE], [e0].[IS_DELETED], [e0].[IS_PRIMARY], [e0].[UPDATED_AT], [e0].[UPDATED_BY], [e0].[VERSION_NO], [b].[BANK_ID] AS [BANK_ID0], [b].[ADDRESS], [b].[BANK_CODE], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[CREATED_AT] AS [CREATED_AT0], [b].[CREATED_BY] AS [CREATED_BY0], [b].[EMAIL], [b].[IS_DELETED] AS [IS_DELETED0], [b].[PHONE], [b].[SWIFT_CODE], [b].[UPDATED_AT] AS [UPDATED_AT0], [b].[UPDATED_BY] AS [UPDATED_BY0], [b].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e0]
    INNER JOIN [HR_CORE].[BANKS] AS [b] ON [e0].[BANK_ID] = [b].[BANK_ID]
) AS [s] ON [e].[EMPLOYEE_ID] = [s].[EMPLOYEE_ID]
WHERE [p].[RUN_ID] = @__latestRun_RunId_0
ORDER BY [p].[PayslipId], [e].[EMPLOYEE_ID], [s].[ACCOUNT_ID]
2026-02-10 20:17:48.410 +03:00 [INF] Executing FileContentResult, sending file with download name 'Bank_Transfer_02_2026.xlsx' ...
2026-02-10 20:17:48.429 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ExportBankFile (HRMS.API) in 2153.6423ms
2026-02-10 20:17:48.431 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ExportBankFile (HRMS.API)'
2026-02-10 20:17:48.433 +03:00 [INF] HTTP GET /api/Payroll/export-bank-file/2/2026 responded 200 in 2171.6395 ms
2026-02-10 20:17:48.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/export-bank-file/2/2026 - 200 6664 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 2178.3579ms
2026-02-10 20:18:06.691 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:18:06.695 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:18:06.697 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:18:06.698 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:18:06.713 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:18:06.740 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:18:06.762 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:18:06.776 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:18:06.788 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURES] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:18:06.801 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:18:26.898 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 20193.6296ms
2026-02-10 20:18:27.112 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:18:27.365 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:18:27.429 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 20734.0052 ms
2026-02-10 20:18:27.432 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 20740.4495ms
2026-02-10 20:19:12.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 20:19:12.938 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1.4650 ms
2026-02-10 20:19:12.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 28.7215ms
2026-02-10 20:19:12.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 20:19:13.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 20:19:13.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 25.4963ms
2026-02-10 20:19:13.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.4536ms
2026-02-10 20:19:13.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 20:19:14.691 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 794.2710 ms
2026-02-10 20:19:14.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 815.3814ms
2026-02-10 20:19:33.418 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:19:33.428 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:19:33.432 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:19:33.465 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:19:33.497 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:19:33.527 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:19:33.544 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:19:33.561 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:19:33.586 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[SALARY_STRUCTURE] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:19:33.599 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:19:45.278 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 11793.6144ms
2026-02-10 20:19:45.286 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:19:45.508 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid object name 'HR_PAYROLL.SALARY_STRUCTURE'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'HR_PAYROLL.SALARY_STRUCTURE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken)
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken)
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method672(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:208,State:1,Class:16
2026-02-10 20:19:45.587 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 12159.5864 ms
2026-02-10 20:19:45.590 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 12171.3766ms
2026-02-10 20:20:51.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 20:20:51.676 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 5.6862 ms
2026-02-10 20:20:51.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 28.5758ms
2026-02-10 20:20:51.721 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 20:20:51.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 20:20:51.740 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 12.3012ms
2026-02-10 20:20:51.752 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.9948ms
2026-02-10 20:20:52.196 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 20:20:52.970 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 742.4608 ms
2026-02-10 20:20:53.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1090.0052ms
2026-02-10 20:21:09.789 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:21:09.799 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:21:09.800 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:21:09.815 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:21:09.840 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:21:09.881 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:21:09.893 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:21:09.914 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:21:09.950 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:21:09.959 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:207,State:1,Class:16
2026-02-10 20:21:30.952 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 21129.2517ms
2026-02-10 20:21:30.954 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:21:31.218 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken)
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken)
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method690(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:333a68c0-6426-470b-a9e2-55c2979ad6a8
Error Number:207,State:1,Class:16
2026-02-10 20:21:31.294 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 21494.8499 ms
2026-02-10 20:21:31.335 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 21545.7015ms
2026-02-10 20:31:09.263 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 20:31:12.632 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 20:31:15.477 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:31:15.482 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:31:15.487 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:31:15.489 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:31:17.347 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:31:17.564 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:31:17.573 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:31:17.626 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 20:31:17.839 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 20:31:17.849 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 20:31:18.479 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 20:31:18.711 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 20:31:18.776 +03:00 [INF] Hosting environment: Development
2026-02-10 20:31:18.779 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 20:31:20.049 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 20:31:20.945 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 453.4858 ms
2026-02-10 20:31:20.974 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 939.8233ms
2026-02-10 20:31:20.993 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 20:31:21.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 196.3827ms
2026-02-10 20:31:21.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 20:31:21.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.9127ms
2026-02-10 20:31:23.299 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 20:31:24.372 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1066.6815 ms
2026-02-10 20:31:24.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1076.773ms
2026-02-10 20:31:46.179 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:31:46.235 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:31:46.271 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:31:46.324 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:31:46.816 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:31:46.979 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:31:47.055 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:31:47.127 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:31:47.185 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryElementDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:31:47.259 +03:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:31:47.352 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:050e3016-185b-4ec1-a532-c64d1ce20c17
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:050e3016-185b-4ec1-a532-c64d1ce20c17
Error Number:207,State:1,Class:16
2026-02-10 20:31:54.118 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 7781.3152ms
2026-02-10 20:31:54.130 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:31:54.349 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:050e3016-185b-4ec1-a532-c64d1ce20c17
Error Number:207,State:1,Class:16
2026-02-10 20:31:54.460 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 8231.7078 ms
2026-02-10 20:31:54.470 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 8290.9277ms
2026-02-10 20:32:44.968 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 20:32:45.371 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 20:33:30.876 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 20:33:33.321 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 20:33:36.617 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:33:36.621 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:33:36.624 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:33:36.627 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:33:38.114 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:33:38.269 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:33:38.276 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:33:38.313 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 20:33:38.412 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 20:33:38.421 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 20:33:38.892 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 20:33:39.176 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 20:33:39.226 +03:00 [INF] Hosting environment: Development
2026-02-10 20:33:39.231 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 20:33:40.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 20:33:41.213 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 333.3271 ms
2026-02-10 20:33:41.241 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 768.7571ms
2026-02-10 20:33:42.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 20:33:42.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 20:33:42.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 16.3007ms
2026-02-10 20:33:42.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.9292ms
2026-02-10 20:33:43.434 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 20:33:44.145 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 703.2700 ms
2026-02-10 20:33:44.148 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 713.8813ms
2026-02-10 20:34:09.367 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:34:09.390 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:34:09.416 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:34:09.483 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:34:10.144 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:34:10.328 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:34:10.390 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:34:10.455 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:34:10.491 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryElementDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:34:10.570 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:34:10.641 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ce18893e-49cf-4331-843f-4e8b7789e4ac
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ce18893e-49cf-4331-843f-4e8b7789e4ac
Error Number:207,State:1,Class:16
2026-02-10 20:34:40.288 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 30780.0435ms
2026-02-10 20:34:40.292 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:34:40.524 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 45
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.Application.Features.Payroll.Processing.Commands.ProcessPayrun.ProcessPayrunCommandHandler.Handle(ProcessPayrunCommand request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Commands\ProcessPayrun\ProcessPayrunCommand.cs:line 50
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth(Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 30
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:ce18893e-49cf-4331-843f-4e8b7789e4ac
Error Number:207,State:1,Class:16
2026-02-10 20:34:40.636 +03:00 [ERR] HTTP POST /api/Payroll/process-month responded 500 in 31254.0223 ms
2026-02-10 20:34:40.649 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 500 null application/json 31281.8601ms
2026-02-10 20:42:00.279 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 20:42:03.493 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 20:42:06.264 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:42:06.294 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:42:06.296 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:42:06.297 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:42:08.088 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:42:08.326 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:42:08.362 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:42:08.416 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 20:42:08.539 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 20:42:08.548 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 20:42:09.093 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 20:42:09.774 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 20:42:11.256 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 20:42:11.258 +03:00 [INF] Hosting environment: Development
2026-02-10 20:42:11.264 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 20:42:12.067 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 356.1756 ms
2026-02-10 20:42:12.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 850.8769ms
2026-02-10 20:42:12.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 20:42:12.134 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 25.0404ms
2026-02-10 20:42:12.840 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 20:42:12.910 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.774ms
2026-02-10 20:42:14.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 20:42:15.303 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 582.4078 ms
2026-02-10 20:42:15.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 594.0299ms
2026-02-10 20:42:40.494 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:42:40.506 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:42:40.554 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:42:40.593 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:42:41.011 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:42:41.134 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:42:41.172 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:42:41.214 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:42:41.249 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryElementDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:42:41.293 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    S.AMOUNT as Amount, 
                    E.ELEMENT_TYPE as ElementType, 
                    E.IS_BASIC as IsBasic
                FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] S
                JOIN [HR_PAYROLL].[SALARY_ELEMENTS] E ON S.ELEMENT_ID = E.ELEMENT_ID
                WHERE S.EMPLOYEE_ID = @p0 AND S.IS_ACTIVE = 1
2026-02-10 20:42:41.349 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bc9aaff3-45ec-4cb2-a98a-dba921745673
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ELEMENT_ID'.
Invalid column name 'IS_ACTIVE'.
Invalid column name 'ELEMENT_TYPE'.
Invalid column name 'IS_BASIC'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bc9aaff3-45ec-4cb2-a98a-dba921745673
Error Number:207,State:1,Class:16
2026-02-10 20:43:36.007 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 20:43:38.698 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 20:43:41.504 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:43:41.507 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:43:41.510 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:43:41.512 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 20:43:43.397 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:43:43.605 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:43:43.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 20:43:43.649 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 20:43:43.766 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 20:43:43.775 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 20:43:44.281 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 20:43:44.505 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 20:43:44.731 +03:00 [INF] Hosting environment: Development
2026-02-10 20:43:45.233 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 20:43:45.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 20:43:46.088 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 338.3700 ms
2026-02-10 20:43:46.101 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 20:43:46.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 797.4722ms
2026-02-10 20:43:46.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 21.5136ms
2026-02-10 20:43:46.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 20:43:46.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.3308ms
2026-02-10 20:43:48.565 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 20:43:49.608 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 634.5040 ms
2026-02-10 20:43:49.625 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1059.2269ms
2026-02-10 20:44:21.786 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 20:44:21.800 +03:00 [INF] CORS policy execution successful.
2026-02-10 20:44:21.863 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:44:21.908 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:44:22.312 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 20:44:22.486 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 20:44:22.535 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:22.763 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:22.928 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:23.455 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:23.511 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:23.538 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:23.580 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:23.673 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:23.690 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:23.718 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:23.729 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:23.783 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:23.795 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:23.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:23.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:23.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:23.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:23.849 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:23.857 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:23.863 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:23.872 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:23.880 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:23.889 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:23.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:23.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:23.915 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:23.922 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:23.933 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:23.945 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:23.951 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:23.963 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:23.970 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:23.981 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:23.999 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:24.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:24.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:24.032 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:24.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:24.055 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:24.080 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:24.090 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:24.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:24.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:24.122 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:24.134 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:24.149 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:24.160 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:24.171 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:24.180 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:24.195 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:24.214 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:24.235 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:24.247 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:24.259 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:24.269 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:24.284 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:24.488 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (DbType = Int32), @p53='?' (Size = 1) (DbType = Byte), @p54='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p55='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p56='?' (DbType = Int32), @p57='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (Size = 50), @p63='?' (DbType = Int32), @p64='?' (DbType = Int32), @p65='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p66='?' (DbType = DateTime2), @p67='?' (Size = 50), @p68='?' (DbType = Int32), @p69='?' (Size = 1) (DbType = Byte), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p72='?' (DbType = Int32), @p73='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p74='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p75='?' (DbType = Int32), @p76='?' (DbType = Int32), @p77='?' (DbType = DateTime2), @p78='?' (Size = 50), @p79='?' (DbType = Int32), @p80='?' (DbType = Int32), @p81='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p82='?' (DbType = DateTime2), @p83='?' (Size = 50), @p84='?' (DbType = Int32), @p85='?' (Size = 1) (DbType = Byte), @p86='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p87='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p88='?' (DbType = Int32), @p89='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p90='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p91='?' (DbType = Int32), @p92='?' (DbType = Int32), @p93='?' (DbType = DateTime2), @p94='?' (Size = 50), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p98='?' (DbType = DateTime2), @p99='?' (Size = 50), @p100='?' (DbType = Int32), @p101='?' (Size = 1) (DbType = Byte), @p102='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p103='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (Size = 50), @p111='?' (DbType = Int32), @p112='?' (DbType = Int32), @p113='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = DateTime2), @p115='?' (Size = 50), @p116='?' (DbType = Int32), @p117='?' (Size = 1) (DbType = Byte), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p120='?' (DbType = Int32), @p121='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p122='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 50), @p127='?' (DbType = Int32), @p128='?' (DbType = Int32), @p129='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (DbType = Int32), @p133='?' (Size = 1) (DbType = Byte), @p134='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p135='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p136='?' (DbType = Int32), @p137='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p138='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (DbType = Int32), @p141='?' (DbType = DateTime2), @p142='?' (Size = 50), @p143='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 3),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 4),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 5),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, 6),
(@p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, 7),
(@p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 8)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-10 20:44:24.547 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (Size = 20), @p28='?' (Size = 50), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int64), @p34='?' (Size = 100), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int64), @p43='?' (Size = 100), @p44='?' (Size = 200), @p45='?' (Size = 20), @p46='?' (Size = 50), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime2), @p50='?' (Size = 50), @p51='?' (DbType = Int64), @p52='?' (Size = 100), @p53='?' (Size = 200), @p54='?' (Size = 20), @p55='?' (Size = 50), @p56='?' (Size = 4000), @p57='?' (Size = 4000), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int64), @p61='?' (Size = 100), @p62='?' (Size = 200), @p63='?' (Size = 20), @p64='?' (Size = 50), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int64), @p70='?' (Size = 100), @p71='?' (Size = 200), @p72='?' (Size = 20), @p73='?' (Size = 50), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int64), @p79='?' (Size = 100), @p80='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 5),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, 6),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, 8)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-10 20:44:24.577 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 20:44:24.596 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 2678.6199ms
2026-02-10 20:44:24.599 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 20:44:24.600 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 2805.4725 ms
2026-02-10 20:44:24.615 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 2829.394ms
2026-02-10 20:44:45.000 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 20:44:45.012 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 20:44:45.044 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 20:44:45.083 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 20:44:45.091 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 20:44:45.100 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 20:44:45.110 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 20:44:45.116 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 20:44:45.127 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 20:44:45.135 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 20:44:45.157 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 107.3474ms
2026-02-10 20:44:45.159 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 20:44:45.161 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 151.3426 ms
2026-02-10 20:44:45.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 166.2282ms
2026-02-10 21:47:20.597 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/25/2/2026 - null null
2026-02-10 21:47:20.691 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 21:47:20.697 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 21:47:20.815 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 21:47:20.911 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 21:47:20.934 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 21:47:20.953 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 21:47:21.071 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 21:47:21.087 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 21:47:21.092 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 21:47:21.094 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 382.7908ms
2026-02-10 21:47:21.178 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 21:47:21.180 +03:00 [INF] HTTP GET /api/Payroll/payslip/25/2/2026 responded 200 in 490.4459 ms
2026-02-10 21:47:21.195 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/25/2/2026 - 200 null application/json; charset=utf-8 598.0515ms
2026-02-10 21:54:05.109 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/AttendanceSettings/process-attendance - application/json 46
2026-02-10 21:54:05.202 +03:00 [INF] CORS policy execution successful.
2026-02-10 21:54:05.203 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-10 21:54:05.219 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-10 21:54:11.501 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 6279.8327ms
2026-02-10 21:54:11.504 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-10 21:54:11.543 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- TargetDate: ูุง ูููู ูุนุงูุฌุฉ ุชูุงุฑูุฎ ูุณุชูุจููุฉ Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- TargetDate: ูุง ูููู ูุนุงูุฌุฉ ุชูุงุฑูุฎ ูุณุชูุจููุฉ Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 32
   at HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance(ProcessAttendanceCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Attendance\AttendanceSettingsController.cs:line 83
   at lambda_method1796(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-10 21:54:11.588 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 400 in 6387.0316 ms
2026-02-10 21:54:11.595 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/AttendanceSettings/process-attendance - 400 null application/json 6486.2109ms
2026-02-10 21:54:20.030 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/AttendanceSettings/process-attendance - application/json 45
2026-02-10 21:54:20.042 +03:00 [INF] CORS policy execution successful.
2026-02-10 21:54:20.043 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-10 21:54:20.045 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-10 21:54:20.065 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-10 21:54:20.095 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 47.7593ms
2026-02-10 21:54:20.098 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-10 21:54:20.101 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 400 in 58.8696 ms
2026-02-10 21:54:20.104 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/AttendanceSettings/process-attendance - 400 null application/problem+json; charset=utf-8 73.7084ms
2026-02-10 21:54:37.311 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/AttendanceSettings/process-attendance - application/json 46
2026-02-10 21:54:37.314 +03:00 [INF] CORS policy execution successful.
2026-02-10 21:54:37.315 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-10 21:54:37.316 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-02-10 21:54:37.472 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[STATUS], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0 AND [e].[IS_OFF_DAY] = CAST(0 AS tinyint) AND [e].[SHIFT_ID] IS NOT NULL
2026-02-10 21:54:37.587 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE CONVERT(date, [r].[PUNCH_TIME]) = @__targetDate_0
ORDER BY [r].[PUNCH_TIME]
2026-02-10 21:54:37.614 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__roster_EmployeeId_0='?' (DbType = Int32), @__8__locals1_targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PERMISSION_REQUEST_ID], [p].[APPROVED_AT], [p].[APPROVED_BY], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[HOURS], [p].[IS_DELETED], [p].[PERMISSION_DATE], [p].[PERMISSION_TYPE], [p].[REASON], [p].[REJECTION_REASON], [p].[STATUS], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_ATTENDANCE].[PERMISSION_REQUESTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__roster_EmployeeId_0 AND [p].[PERMISSION_DATE] = @__8__locals1_targetDate_1 AND [p].[STATUS] = N'Approved'
2026-02-10 21:54:37.634 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__roster_EmployeeId_0='?' (DbType = Int32), @__8__locals1_targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__roster_EmployeeId_0 AND [d].[ATTENDANCE_DATE] = @__8__locals1_targetDate_1
2026-02-10 21:54:37.728 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int16), @p6='?' (DbType = Int32), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int16), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[DAILY_ATTENDANCE] ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RECORD_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-10 21:54:37.739 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 21:54:37.744 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-02-10 21:54:37.746 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 427.0421ms
2026-02-10 21:54:37.748 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-02-10 21:54:37.750 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 436.2017 ms
2026-02-10 21:54:37.752 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 441.241ms
2026-02-10 21:54:43.683 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/25/2/2026 - null null
2026-02-10 21:54:43.685 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 21:54:43.686 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 21:54:43.700 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 21:54:43.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 21:54:43.880 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 21:54:43.893 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 21:54:43.913 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 21:54:43.938 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 21:54:43.966 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 21:54:43.998 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 308.7852ms
2026-02-10 21:54:44.025 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 21:54:44.043 +03:00 [INF] HTTP GET /api/Payroll/payslip/25/2/2026 responded 200 in 357.8258 ms
2026-02-10 21:54:44.056 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/25/2/2026 - 200 null application/json; charset=utf-8 373.4131ms
2026-02-10 21:54:48.039 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 21:54:48.042 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 21:54:48.044 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 21:54:48.055 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 21:54:48.063 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 21:54:48.081 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 21:54:48.092 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 21:54:48.098 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 21:54:48.105 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 21:54:48.109 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 21:54:48.111 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 63.2223ms
2026-02-10 21:54:48.112 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 21:54:48.113 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 71.1883 ms
2026-02-10 21:54:48.117 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 77.5885ms
2026-02-10 22:12:09.575 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:12:11.703 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 22:12:13.575 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:12:13.581 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:12:13.583 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:12:13.585 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:12:15.243 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:12:15.454 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:12:15.462 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:12:15.492 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 22:12:15.643 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 22:12:15.674 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 22:12:16.239 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 22:12:16.427 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 22:12:16.481 +03:00 [INF] Hosting environment: Development
2026-02-10 22:12:16.484 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 22:12:17.621 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 22:12:18.715 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 629.3802 ms
2026-02-10 22:12:19.083 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 1489.6055ms
2026-02-10 22:12:19.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 22:12:19.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 22:12:19.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 15.2731ms
2026-02-10 22:12:19.677 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 195.0662ms
2026-02-10 22:12:20.869 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 22:12:21.746 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 775.2233 ms
2026-02-10 22:12:21.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 921.4908ms
2026-02-10 22:12:47.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 22:12:47.050 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:12:47.095 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 22:12:47.358 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:12:47.412 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:12:47.702 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:12:47.730 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:12:47.794 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:12:47.820 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:12:47.842 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 22:12:47.879 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 775.2509ms
2026-02-10 22:12:47.882 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:12:47.883 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 848.2806 ms
2026-02-10 22:12:47.893 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 869.1688ms
2026-02-10 22:17:51.396 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:17:51.969 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 22:18:37.166 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:18:37.608 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 22:19:27.674 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:19:28.035 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 22:20:03.460 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:20:06.061 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 22:20:08.915 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:20:08.919 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:20:08.921 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:20:08.923 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:20:10.963 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:20:11.156 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:20:11.163 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:20:11.205 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 22:20:11.334 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 22:20:11.375 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 22:20:11.939 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 22:20:12.156 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 22:20:12.239 +03:00 [INF] Hosting environment: Development
2026-02-10 22:20:12.860 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 22:20:12.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 22:20:13.760 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 376.0963 ms
2026-02-10 22:20:13.772 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 855.0986ms
2026-02-10 22:20:13.871 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 22:20:14.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 236.9399ms
2026-02-10 22:20:14.623 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 22:20:14.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.0762ms
2026-02-10 22:20:16.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 22:20:17.172 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 802.3841 ms
2026-02-10 22:20:17.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 836.2465ms
2026-02-10 22:20:49.499 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/17/2/2024 - null null
2026-02-10 22:20:49.561 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:20:49.614 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 22:20:49.974 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:20:50.062 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:20:50.423 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:20:50.468 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:20:50.494 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:20:50.554 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:20:50.577 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 22:20:50.622 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 999.2506ms
2026-02-10 22:20:50.625 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:20:50.626 +03:00 [INF] HTTP GET /api/Payroll/payslip/17/2/2024 responded 200 in 1116.2751 ms
2026-02-10 22:20:50.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/17/2/2024 - 200 null application/json; charset=utf-8 1139.8307ms
2026-02-10 22:32:35.057 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:32:37.691 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 22:32:39.457 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:32:39.462 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:32:39.465 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:32:39.468 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:32:40.753 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:32:40.889 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:32:40.895 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:32:40.922 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 22:32:41.014 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 22:32:41.022 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 22:32:41.373 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 22:32:41.518 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 22:32:41.519 +03:00 [INF] Hosting environment: Development
2026-02-10 22:32:41.520 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 22:32:42.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 22:32:43.414 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 348.9841 ms
2026-02-10 22:32:43.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 805.1237ms
2026-02-10 22:32:43.453 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 22:32:43.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 66.9396ms
2026-02-10 22:32:44.192 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 22:32:44.284 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.8934ms
2026-02-10 22:32:45.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 22:32:46.589 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 640.6946 ms
2026-02-10 22:32:46.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 739.7536ms
2026-02-10 22:33:19.831 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 22:33:19.933 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:33:20.015 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 22:33:20.320 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:33:20.364 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:33:20.664 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:33:20.711 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:33:20.769 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:33:20.788 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:33:20.811 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 22:33:20.873 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 849.1768ms
2026-02-10 22:33:20.879 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:33:20.882 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 1020.6019 ms
2026-02-10 22:33:20.891 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 1059.6362ms
2026-02-10 22:36:15.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/17/2/2026 - null null
2026-02-10 22:36:15.288 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:36:15.290 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 22:36:15.529 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:36:15.600 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:36:15.622 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:36:15.631 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:36:15.639 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:36:15.648 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:36:15.652 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 22:36:15.654 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 361.411ms
2026-02-10 22:36:15.656 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:36:15.657 +03:00 [INF] HTTP GET /api/Payroll/payslip/17/2/2026 responded 200 in 370.1909 ms
2026-02-10 22:36:15.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/17/2/2026 - 200 null application/json; charset=utf-8 385.8925ms
2026-02-10 22:39:33.524 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:39:34.075 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 22:40:49.833 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:40:50.172 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 22:44:21.249 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:44:21.710 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 22:45:09.610 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:45:12.481 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 22:45:14.414 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:45:14.418 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:45:14.420 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:45:14.421 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:45:15.628 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:45:15.760 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:45:15.765 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:45:15.791 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 22:45:15.880 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 22:45:15.899 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 22:45:16.362 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 22:45:16.518 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 22:45:16.519 +03:00 [INF] Hosting environment: Development
2026-02-10 22:45:16.520 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 22:45:17.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 22:45:18.278 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 549.9197 ms
2026-02-10 22:45:18.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 22:45:18.460 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 1019.6229ms
2026-02-10 22:45:18.463 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 75.9816ms
2026-02-10 22:45:19.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 22:45:19.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 256.8788ms
2026-02-10 22:45:20.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 22:45:21.604 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 601.5591 ms
2026-02-10 22:45:21.609 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 665.7075ms
2026-02-10 22:45:55.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 22:45:55.733 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:45:55.811 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 22:45:56.129 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:45:56.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:45:56.484 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:45:56.519 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:45:56.607 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:45:56.632 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:45:56.656 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 22:45:56.690 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 869.2443ms
2026-02-10 22:45:56.694 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:45:56.696 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 979.1706 ms
2026-02-10 22:45:56.707 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 999.5411ms
2026-02-10 22:51:43.103 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 22:51:47.182 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 22:51:49.698 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:51:49.706 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:51:49.708 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:51:49.710 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 22:51:53.560 +03:00 [INF] Executed DbCommand (193ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:51:53.778 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:51:53.793 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 22:51:53.837 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 22:51:53.931 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 22:51:53.943 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 22:51:54.393 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 22:51:54.563 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 22:51:54.564 +03:00 [INF] Hosting environment: Development
2026-02-10 22:51:54.565 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 22:51:55.572 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 22:51:58.971 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3168.0293 ms
2026-02-10 22:51:59.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 3443.7937ms
2026-02-10 22:51:59.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 22:51:59.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 22:51:59.695 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 13.9364ms
2026-02-10 22:51:59.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.9234ms
2026-02-10 22:52:01.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 22:52:01.948 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 733.0720 ms
2026-02-10 22:52:01.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 818.9829ms
2026-02-10 22:52:32.071 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - null 0
2026-02-10 22:52:32.086 +03:00 [INF] CORS policy execution successful.
2026-02-10 22:52:32.108 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 22:52:32.142 +03:00 [INF] Route matched with {action = "ProcessMonth", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] ProcessMonth(Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 22:52:33.127 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PAYROLL].[PAYROLL_RUNS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [Month], [Notes], [RunDate], [Status], [TotalPayout], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [Year])
OUTPUT INSERTED.[RunId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-02-10 22:52:33.311 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 22:52:33.360 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:33.576 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:33.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:33.965 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.015 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.045 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.081 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.180 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:34.208 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.215 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.250 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.256 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.266 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:34.278 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.284 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.289 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.293 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.298 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.306 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:34.319 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.338 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.345 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:34.358 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.366 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.371 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.382 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:34.395 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.400 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.407 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.418 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:34.432 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.444 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.452 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:34.475 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.481 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.486 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.494 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.502 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.507 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:34.517 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:34.522 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:34.536 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:34.543 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:34.548 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:34.775 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = DateTime2), @p19='?' (Size = 50), @p20='?' (DbType = Int32), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = DateTime2), @p35='?' (Size = 50), @p36='?' (DbType = Int32), @p37='?' (Size = 1) (DbType = Byte), @p38='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = Int32), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (Size = 50), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (DbType = Int32), @p53='?' (Size = 1) (DbType = Byte), @p54='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p55='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p56='?' (DbType = Int32), @p57='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (Size = 50), @p63='?' (DbType = Int32), @p64='?' (DbType = Int32), @p65='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p66='?' (DbType = DateTime2), @p67='?' (Size = 50), @p68='?' (DbType = Int32), @p69='?' (Size = 1) (DbType = Byte), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p72='?' (DbType = Int32), @p73='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p74='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p75='?' (DbType = Int32), @p76='?' (DbType = Int32), @p77='?' (DbType = DateTime2), @p78='?' (Size = 50), @p79='?' (DbType = Int32), @p80='?' (DbType = Int32), @p81='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p82='?' (DbType = DateTime2), @p83='?' (Size = 50), @p84='?' (DbType = Int32), @p85='?' (Size = 1) (DbType = Byte), @p86='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p87='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p88='?' (DbType = Int32), @p89='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p90='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p91='?' (DbType = Int32), @p92='?' (DbType = Int32), @p93='?' (DbType = DateTime2), @p94='?' (Size = 50), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p98='?' (DbType = DateTime2), @p99='?' (Size = 50), @p100='?' (DbType = Int32), @p101='?' (Size = 1) (DbType = Byte), @p102='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p103='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (Size = 50), @p111='?' (DbType = Int32), @p112='?' (DbType = Int32), @p113='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = DateTime2), @p115='?' (Size = 50), @p116='?' (DbType = Int32), @p117='?' (Size = 1) (DbType = Byte), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p120='?' (DbType = Int32), @p121='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p122='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 50), @p127='?' (DbType = Int32), @p128='?' (DbType = Int32), @p129='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (DbType = Int32), @p133='?' (Size = 1) (DbType = Byte), @p134='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p135='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p136='?' (DbType = Int32), @p137='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p138='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (DbType = Int32), @p141='?' (DbType = DateTime2), @p142='?' (Size = 50), @p143='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PAYROLL].[PAYSLIPS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 3),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 4),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 5),
(@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, 6),
(@p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, 7),
(@p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 8)) AS i ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ABSENCE_DAYS], [BasicSalary], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [NetSalary], [OT_EARNINGS], [RUN_ID], [TotalAllowances], [TotalDeductions], [TOTAL_LATE_MINUTES], [TOTAL_OT_MINUTES], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ABSENCE_DAYS], i.[BasicSalary], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[NetSalary], i.[OT_EARNINGS], i.[RUN_ID], i.[TotalAllowances], i.[TotalDeductions], i.[TOTAL_LATE_MINUTES], i.[TOTAL_OT_MINUTES], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[PayslipId], i._Position;
2026-02-10 22:52:34.811 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200), @p18='?' (Size = 20), @p19='?' (Size = 50), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int64), @p25='?' (Size = 100), @p26='?' (Size = 200), @p27='?' (Size = 20), @p28='?' (Size = 50), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int64), @p34='?' (Size = 100), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 50), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (DbType = Int64), @p43='?' (Size = 100), @p44='?' (Size = 200), @p45='?' (Size = 20), @p46='?' (Size = 50), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime2), @p50='?' (Size = 50), @p51='?' (DbType = Int64), @p52='?' (Size = 100), @p53='?' (Size = 200), @p54='?' (Size = 20), @p55='?' (Size = 50), @p56='?' (Size = 4000), @p57='?' (Size = 4000), @p58='?' (DbType = DateTime2), @p59='?' (Size = 50), @p60='?' (DbType = Int64), @p61='?' (Size = 100), @p62='?' (Size = 200), @p63='?' (Size = 20), @p64='?' (Size = 50), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int64), @p70='?' (Size = 100), @p71='?' (Size = 200), @p72='?' (Size = 20), @p73='?' (Size = 50), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int64), @p79='?' (Size = 100), @p80='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 5),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, 6),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, 8)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-10 22:52:34.832 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 22:52:34.853 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API) in 2698.7566ms
2026-02-10 22:52:34.855 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.ProcessMonth (HRMS.API)'
2026-02-10 22:52:34.857 +03:00 [INF] HTTP POST /api/Payroll/process-month responded 200 in 2774.8217 ms
2026-02-10 22:52:34.867 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Payroll/process-month?month=2&year=2026 - 200 null application/json; charset=utf-8 2796.3286ms
2026-02-10 22:52:54.952 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 22:52:54.961 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:52:54.975 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 22:52:55.024 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 22:52:55.031 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 22:52:55.040 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 22:52:55.048 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_Month_1='?' (DbType = Int32), @__request_Year_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[AdjustmentId], [p].[AdjustmentType], [p].[Amount], [p].[ApprovedBy], [p].[CREATED_AT], [p].[CREATED_BY], [p].[EMPLOYEE_ID], [p].[IS_DELETED], [p].[PAYROLL_RUN_ID], [p].[Reason], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO]
FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS] AS [p]
WHERE [p].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND DATEPART(month, [p].[CREATED_AT]) = @__request_Month_1 AND DATEPART(year, [p].[CREATED_AT]) = @__request_Year_2 AND [p].[IS_DELETED] = CAST(0 AS tinyint)
2026-02-10 22:52:55.057 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 22:52:55.064 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 22:52:55.068 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 22:52:55.079 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 99.9862ms
2026-02-10 22:52:55.084 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 22:52:55.086 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 124.7729 ms
2026-02-10 22:52:55.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 135.4975ms
2026-02-10 23:01:51.003 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 23:01:54.167 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 23:01:56.974 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:01:56.981 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:01:56.984 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:01:56.986 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:01:59.088 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:01:59.281 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:01:59.291 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:01:59.367 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 23:01:59.499 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 23:01:59.508 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 23:02:00.068 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 23:02:00.381 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 23:02:00.394 +03:00 [INF] Hosting environment: Development
2026-02-10 23:02:02.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 23:02:02.530 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 23:02:03.288 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 413.7175 ms
2026-02-10 23:02:03.550 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 1380.6297ms
2026-02-10 23:02:04.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 23:02:04.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 23:02:04.721 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 494.3502ms
2026-02-10 23:02:04.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 534.0779ms
2026-02-10 23:02:09.004 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 23:02:10.279 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1270.2170 ms
2026-02-10 23:02:10.282 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1278.3987ms
2026-02-10 23:02:35.402 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 23:02:35.426 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:02:35.511 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 23:02:35.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 23:02:35.920 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 23:02:35.955 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LoanId], [l0].[ApprovalDate], [l0].[APPROVED_BY], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[EMPLOYEE_ID], [l0].[InstallmentCount], [l0].[IS_DELETED], [l0].[LoanAmount], [l0].[RequestDate], [l0].[SettlementDate], [l0].[SettlementNotes], [l0].[Status], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 23:02:35.982 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PayrollAdjustmentRawDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:02:36.025 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[p0='?' (DbType = Int32), p1='?' (DbType = Int32), p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    ADJUSTMENT_ID as AdjustmentId,
                    EMPLOYEE_ID as EmployeeId,
                    ADJUSTMENT_TYPE as AdjustmentType,
                    AMOUNT as Amount,
                    REASON as Reason
                FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS]
                WHERE EMPLOYEE_ID = @p0
                    AND YEAR(CREATED_AT) = @p1
                    AND MONTH(CREATED_AT) = @p2
                    AND (IS_DELETED = 0 OR IS_DELETED IS NULL)
2026-02-10 23:02:36.065 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:fe7380b2-5945-465d-864c-97c175853b99
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:fe7380b2-5945-465d-864c-97c175853b99
Error Number:207,State:1,Class:16
2026-02-10 23:03:51.938 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 23:03:52.415 +03:00 [FTL] โ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 76
2026-02-10 23:07:21.698 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 23:07:24.514 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 23:07:27.149 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:07:27.153 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:07:27.155 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:07:27.160 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:07:28.949 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:07:29.138 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:07:29.154 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:07:29.193 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 23:07:29.303 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 23:07:29.314 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 23:07:29.820 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 23:07:30.063 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 23:07:30.073 +03:00 [INF] Hosting environment: Development
2026-02-10 23:07:30.096 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 23:07:30.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 23:07:31.804 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 426.2599 ms
2026-02-10 23:07:31.889 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 997.5287ms
2026-02-10 23:07:32.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 23:07:32.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 23:07:32.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 14.6974ms
2026-02-10 23:07:32.753 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 119.1306ms
2026-02-10 23:07:33.954 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 23:07:35.022 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1046.2760 ms
2026-02-10 23:07:35.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1075.2677ms
2026-02-10 23:07:59.005 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 23:07:59.049 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:07:59.101 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 23:07:59.491 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 23:07:59.559 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 23:07:59.633 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LoanId], [l0].[ApprovalDate], [l0].[APPROVED_BY], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[EMPLOYEE_ID], [l0].[InstallmentCount], [l0].[IS_DELETED], [l0].[LoanAmount], [l0].[RequestDate], [l0].[SettlementDate], [l0].[SettlementNotes], [l0].[Status], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 23:07:59.674 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PayrollAdjustmentRawDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:07:59.725 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[p0='?' (DbType = Int32), p1='?' (DbType = Int32), p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    ADJUSTMENT_ID as AdjustmentId,
                    EMPLOYEE_ID as EmployeeId,
                    ADJUSTMENT_TYPE as AdjustmentType,
                    AMOUNT as Amount,
                    REASON as Reason
                FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS]
                WHERE EMPLOYEE_ID = @p0
                    AND YEAR(CREATED_AT) = @p1
                    AND MONTH(CREATED_AT) = @p2
                    AND (IS_DELETED = 0 OR IS_DELETED IS NULL)
2026-02-10 23:07:59.771 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bc532098-4732-447f-a6fc-49f7855120ec
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bc532098-4732-447f-a6fc-49f7855120ec
Error Number:207,State:1,Class:16
2026-02-10 23:08:30.665 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 31487.2643ms
2026-02-10 23:08:30.782 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:08:31.085 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 161
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.GetPayslip(Int32 employeeId, Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 48
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:bc532098-4732-447f-a6fc-49f7855120ec
Error Number:207,State:1,Class:16
2026-02-10 23:08:31.196 +03:00 [ERR] HTTP GET /api/Payroll/payslip/23/2/2026 responded 500 in 32167.6120 ms
2026-02-10 23:08:31.213 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 500 null application/json 32247.0166ms
2026-02-10 23:15:23.922 +03:00 [INF] ๐ Starting HRMS Hospital API...
2026-02-10 23:15:29.849 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-10 23:15:31.341 +03:00 [WRN] No store type was specified for the decimal property 'Hours' on entity type 'PermissionRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:15:31.345 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:15:31.346 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:15:31.347 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:15:33.738 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:15:33.855 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:15:33.860 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-10 23:15:33.881 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 23:15:33.967 +03:00 [INF] โ Default roles and admin user seeded successfully
2026-02-10 23:15:33.974 +03:00 [INF] โ HRMS Hospital API started successfully
2026-02-10 23:15:34.381 +03:00 [INF] Now listening on: https://localhost:5201
2026-02-10 23:15:34.551 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-10 23:15:34.622 +03:00 [INF] Hosting environment: Development
2026-02-10 23:15:34.657 +03:00 [INF] Content root path: D:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-02-10 23:15:35.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 23:15:38.507 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2627.3508 ms
2026-02-10 23:15:38.525 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 3054.8146ms
2026-02-10 23:15:39.167 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 23:15:39.167 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 23:15:39.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 24.5477ms
2026-02-10 23:15:39.339 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 171.9326ms
2026-02-10 23:15:40.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 23:15:41.275 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 496.3755 ms
2026-02-10 23:15:41.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 913.9072ms
2026-02-10 23:16:21.536 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 23:16:21.564 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:16:21.669 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 23:16:22.101 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 23:16:22.157 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 23:16:22.205 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LoanId], [l0].[ApprovalDate], [l0].[APPROVED_BY], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[EMPLOYEE_ID], [l0].[InstallmentCount], [l0].[IS_DELETED], [l0].[LoanAmount], [l0].[RequestDate], [l0].[SettlementDate], [l0].[SettlementNotes], [l0].[Status], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 23:16:22.241 +03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PayrollAdjustmentRawDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-02-10 23:16:22.297 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32), p1='?' (DbType = Int32), p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    ADJUSTMENT_ID as AdjustmentId,
                    EMPLOYEE_ID as EmployeeId,
                    ADJUSTMENT_TYPE as AdjustmentType,
                    AMOUNT as Amount,
                    REASON as Reason
                FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS]
                WHERE EMPLOYEE_ID = @p0
                    AND YEAR(CREATED_AT) = @p1
                    AND MONTH(CREATED_AT) = @p2
                    AND (IS_DELETED = 0 OR IS_DELETED IS NULL)
2026-02-10 23:16:22.347 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:fb89de0e-dc0d-4956-b37e-575f1f914da3
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:fb89de0e-dc0d-4956-b37e-575f1f914da3
Error Number:207,State:1,Class:16
2026-02-10 23:17:05.362 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 43478.9478ms
2026-02-10 23:17:05.364 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:17:05.569 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADJUSTMENT_ID'.
Invalid column name 'ADJUSTMENT_TYPE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Payroll\Processing\Queries\CalculateMonthlySalary\CalculateMonthlySalaryQuery.cs:line 161
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Behaviors\ValidationBehavior.cs:line 36
   at HRMS.API.Controllers.Payroll.PayrollController.GetPayslip(Int32 employeeId, Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 48
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:fb89de0e-dc0d-4956-b37e-575f1f914da3
Error Number:207,State:1,Class:16
2026-02-10 23:17:05.649 +03:00 [ERR] HTTP GET /api/Payroll/payslip/23/2/2026 responded 500 in 44100.4808 ms
2026-02-10 23:17:05.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 500 null application/json 44159.8853ms
2026-02-10 23:23:03.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 23:23:03.818 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1.1940 ms
2026-02-10 23:23:03.823 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 55.3366ms
2026-02-10 23:23:04.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 23:23:04.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 23:23:04.642 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 532.3804ms
2026-02-10 23:23:04.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 441.1077ms
2026-02-10 23:23:05.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 23:23:07.077 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1164.7866 ms
2026-02-10 23:23:07.080 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1896.0465ms
2026-02-10 23:23:35.856 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 23:23:35.881 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:23:35.909 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 23:23:35.988 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 23:23:36.001 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 23:23:36.019 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LoanId], [l0].[ApprovalDate], [l0].[APPROVED_BY], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[EMPLOYEE_ID], [l0].[InstallmentCount], [l0].[IS_DELETED], [l0].[LoanAmount], [l0].[RequestDate], [l0].[SettlementDate], [l0].[SettlementNotes], [l0].[Status], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 23:23:36.036 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[p0='?' (DbType = Int32), p1='?' (DbType = Int32), p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    AdjustmentId as AdjId,
                    EmployeeId as EmpId,
                    AdjustmentType as AdjType,
                    Amount as Amt,
                    Reason as Rsn
                FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS]
                WHERE EmployeeId = @p0
                    AND YEAR(CreatedAt) = @p1
                    AND MONTH(CreatedAt) = @p2
                    AND (IsDeleted = 0 OR IsDeleted IS NULL)
2026-02-10 23:23:36.042 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'EmployeeId'.
Invalid column name 'CreatedAt'.
Invalid column name 'CreatedAt'.
Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
Invalid column name 'EmployeeId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:14637c0c-d377-492b-9887-918adfb06de8
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'EmployeeId'.
Invalid column name 'CreatedAt'.
Invalid column name 'CreatedAt'.
Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
Invalid column name 'EmployeeId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:14637c0c-d377-492b-9887-918adfb06de8
Error Number:207,State:1,Class:16
2026-02-10 23:24:57.299 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 81386.3148ms
2026-02-10 23:24:58.516 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:24:58.931 +03:00 [ERR] CRITICAL ERROR CAUGHT: Invalid column name 'EmployeeId'.
Invalid column name 'CreatedAt'.
Invalid column name 'CreatedAt'.
Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
Invalid column name 'EmployeeId'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'EmployeeId'.
Invalid column name 'CreatedAt'.
Invalid column name 'CreatedAt'.
Invalid column name 'IsDeleted'.
Invalid column name 'IsDeleted'.
Invalid column name 'EmployeeId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken)
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Payroll.PayrollController.GetPayslip(Int32 employeeId, Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 48
   at lambda_method394(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
ClientConnectionId:14637c0c-d377-492b-9887-918adfb06de8
Error Number:207,State:1,Class:16
2026-02-10 23:25:04.992 +03:00 [ERR] HTTP GET /api/Payroll/payslip/23/2/2026 responded 500 in 89112.2197 ms
2026-02-10 23:25:05.295 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 500 null application/json 89439.5032ms
2026-02-10 23:25:32.273 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 23:25:32.282 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1.0822 ms
2026-02-10 23:25:32.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 24.8336ms
2026-02-10 23:25:32.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 23:25:32.347 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 23:25:32.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 28.0617ms
2026-02-10 23:25:32.390 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.9731ms
2026-02-10 23:25:33.466 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 23:25:34.826 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 417.7579 ms
2026-02-10 23:25:34.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1366.5326ms
2026-02-10 23:25:58.523 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 23:25:58.566 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:25:58.582 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 23:25:58.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 23:25:58.625 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 23:25:58.641 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LoanId], [l0].[ApprovalDate], [l0].[APPROVED_BY], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[EMPLOYEE_ID], [l0].[InstallmentCount], [l0].[IS_DELETED], [l0].[LoanAmount], [l0].[RequestDate], [l0].[SettlementDate], [l0].[SettlementNotes], [l0].[Status], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 23:25:58.681 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[p0='?' (DbType = Int32), p1='?' (DbType = Int32), p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    AdjustmentId as AdjId,
                    EMPLOYEE_ID as EmpId,
                    AdjustmentType as AdjType,
                    Amount as Amt,
                    Reason as Rsn
                FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS]
                WHERE EMPLOYEE_ID = @p0
                    AND YEAR(CREATED_AT) = @p1
                    AND MONTH(CREATED_AT) = @p2
                    AND (IS_DELETED = 0 OR IS_DELETED IS NULL)
2026-02-10 23:25:58.691 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
System.InvalidOperationException: The required column 'AdjustmentId' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'AdjustmentId' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-10 23:27:57.309 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 118722.2071ms
2026-02-10 23:27:57.417 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:27:57.808 +03:00 [ERR] CRITICAL ERROR CAUGHT: The required column 'AdjustmentId' was not present in the results of a 'FromSql' operation.
System.InvalidOperationException: The required column 'AdjustmentId' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Payroll.Processing.Queries.CalculateMonthlySalary.CalculateMonthlySalaryQueryHandler.Handle(CalculateMonthlySalaryQuery request, CancellationToken cancellationToken)
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Payroll.PayrollController.GetPayslip(Int32 employeeId, Int32 month, Int32 year) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Payroll\PayrollController.cs:line 48
   at lambda_method412(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-10 23:27:57.856 +03:00 [ERR] HTTP GET /api/Payroll/payslip/23/2/2026 responded 500 in 119291.2430 ms
2026-02-10 23:27:57.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 500 null application/json 119334.9515ms
2026-02-10 23:28:12.463 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/index.html - null null
2026-02-10 23:28:12.690 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1.3315 ms
2026-02-10 23:28:12.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - null null
2026-02-10 23:28:12.806 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/_vs/browserLink - null null
2026-02-10 23:28:12.982 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/index.html - 200 null text/html;charset=utf-8 519.9895ms
2026-02-10 23:28:13.067 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 261.6957ms
2026-02-10 23:28:13.169 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 362.2734ms
2026-02-10 23:28:14.272 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - null null
2026-02-10 23:28:15.227 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 442.5215 ms
2026-02-10 23:28:15.232 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 959.8009ms
2026-02-10 23:28:44.363 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - null null
2026-02-10 23:28:44.500 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:28:44.536 +03:00 [INF] Route matched with {action = "GetPayslip", controller = "Payroll"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto]]] GetPayslip(Int32, Int32, Int32) on controller HRMS.API.Controllers.Payroll.PayrollController (HRMS.API).
2026-02-10 23:28:44.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_ACTIVE], [e].[IS_DELETED], [e].[JOB_GRADE_ID], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[PROFILE_PICTURE_PATH], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[TERMINATION_DATE], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-02-10 23:28:44.568 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[StructureId], [e].[Amount], [e].[CREATED_AT], [e].[CREATED_BY], [e].[ELEMENT_ID], [e].[EMPLOYEE_ID], [e].[IsActive], [e].[IS_DELETED], [e].[Percentage], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[ElementId], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DefaultPercentage], [s].[ElementNameAr], [s].[ElementType], [s].[IsBasic], [s].[IS_DELETED], [s].[IsGosiBase], [s].[IsRecurring], [s].[IsTaxable], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_PAYROLL].[EMPLOYEE_SALARY_STRUCTURE] AS [e]
INNER JOIN [HR_PAYROLL].[SALARY_ELEMENTS] AS [s] ON [e].[ELEMENT_ID] = [s].[ElementId]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IsActive] = CAST(1 AS tinyint)
2026-02-10 23:28:44.584 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[InstallmentId], [l].[Amount], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DueDate], [l].[InstallmentNumber], [l].[IS_DELETED], [l].[IsPaid], [l].[LOAN_ID], [l].[PaidDate], [l].[PAID_IN_PAYROLL_RUN], [l].[SettlementNotes], [l].[Status], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LoanId], [l0].[ApprovalDate], [l0].[APPROVED_BY], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[EMPLOYEE_ID], [l0].[InstallmentCount], [l0].[IS_DELETED], [l0].[LoanAmount], [l0].[RequestDate], [l0].[SettlementDate], [l0].[SettlementNotes], [l0].[Status], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_PAYROLL].[LOAN_INSTALLMENTS] AS [l]
INNER JOIN [HR_PAYROLL].[LOANS] AS [l0] ON [l].[LOAN_ID] = [l0].[LoanId]
WHERE [l0].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [l].[DueDate] >= @__startDate_1 AND [l].[DueDate] <= @__endDate_2 AND [l].[IsPaid] = CAST(0 AS tinyint)
2026-02-10 23:28:44.608 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32), p1='?' (DbType = Int32), p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

                SELECT 
                    AdjustmentId as AdjustmentId,
                    EMPLOYEE_ID as EmployeeId,
                    AdjustmentType as AdjustmentType,
                    Amount as Amount,
                    Reason as Reason
                FROM [HR_PAYROLL].[PAYROLL_ADJUSTMENTS]
                WHERE EMPLOYEE_ID = @p0
                    AND YEAR(CREATED_AT) = @p1
                    AND MONTH(CREATED_AT) = @p2
                    AND (IS_DELETED = 0 OR IS_DELETED IS NULL)
2026-02-10 23:28:44.641 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[EMPLOYEE_ID] = @__employeeId_0 AND [d].[ATTENDANCE_DATE] >= @__startDate_1 AND [d].[ATTENDANCE_DATE] <= @__endDate_2
2026-02-10 23:28:44.658 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND [l].[STATUS] = N'HR_APPROVED' AND [l].[END_DATE] >= @__startDate_1 AND [l].[START_DATE] <= @__endDate_2
2026-02-10 23:28:44.684 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Payroll.Processing.MonthlySalaryCalculationDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 23:28:44.737 +03:00 [INF] Executed action HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API) in 198.8358ms
2026-02-10 23:28:44.741 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Payroll.PayrollController.GetPayslip (HRMS.API)'
2026-02-10 23:28:44.742 +03:00 [INF] HTTP GET /api/Payroll/payslip/23/2/2026 responded 200 in 242.0368 ms
2026-02-10 23:28:44.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Payroll/payslip/23/2/2026 - 200 null application/json; charset=utf-8 381.1064ms
2026-02-10 23:34:02.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Performance/config/kpis - null null
2026-02-10 23:34:02.190 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API)'
2026-02-10 23:34:02.223 +03:00 [INF] Route matched with {action = "GetKpis", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetKpis() on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:34:03.345 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[KPI_ID], [k].[CATEGORY], [k].[CREATED_AT], [k].[CREATED_BY], [k].[IS_DELETED], [k].[KPI_DESCRIPTION], [k].[KPI_NAME_AR], [k].[MEASUREMENT_UNIT], [k].[UPDATED_AT], [k].[UPDATED_BY], [k].[VERSION_NO], [k].[WEIGHT]
FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
ORDER BY [k].[CATEGORY], [k].[KPI_NAME_AR]
2026-02-10 23:34:03.442 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.KpiDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:34:03.458 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API) in 1231.1157ms
2026-02-10 23:34:03.461 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetKpis (HRMS.API)'
2026-02-10 23:34:03.463 +03:00 [INF] HTTP GET /api/Performance/config/kpis responded 200 in 1274.2752 ms
2026-02-10 23:34:03.473 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Performance/config/kpis - 200 null application/json; charset=utf-8 1325.849ms
2026-02-10 23:35:21.760 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - application/json 264
2026-02-10 23:35:21.776 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:35:21.782 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager|Admin)
2026-02-10 23:35:21.795 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-10 23:35:21.797 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 401 in 25.6513 ms
2026-02-10 23:35:21.801 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - 401 0 null 40.7731ms
2026-02-10 23:36:00.665 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Auth/login - application/json 74
2026-02-10 23:36:00.685 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:36:00.688 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-10 23:36:00.708 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[HRMS.Application.DTOs.Auth.AuthResponse]]] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-02-10 23:36:00.897 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-10 23:36:01.108 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-10 23:36:01.124 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 23:36:01.744 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-10 23:36:01.848 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-10 23:36:01.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-10 23:36:01.934 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-02-10 23:36:01.943 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p31='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p32='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 256), @p22='?' (Size = 256), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Boolean), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (DbType = Boolean), @p30='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [CreatedAt] = @p11, [Email] = @p12, [EmailConfirmed] = @p13, [EmployeeId] = @p14, [FullNameAr] = @p15, [FullNameEn] = @p16, [IsActive] = @p17, [LastLoginAt] = @p18, [LockoutEnabled] = @p19, [LockoutEnd] = @p20, [NormalizedEmail] = @p21, [NormalizedUserName] = @p22, [PasswordHash] = @p23, [PhoneNumber] = @p24, [PhoneNumberConfirmed] = @p25, [RefreshToken] = @p26, [RefreshTokenExpiryTime] = @p27, [SecurityStamp] = @p28, [TwoFactorEnabled] = @p29, [UserName] = @p30
OUTPUT 1
WHERE [Id] = @p31 AND [ConcurrencyStamp] = @p32;
2026-02-10 23:36:01.965 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-10 23:36:01.986 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 1269.6778ms
2026-02-10 23:36:01.988 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-02-10 23:36:01.990 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 1304.9342 ms
2026-02-10 23:36:01.994 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Auth/login - 200 null application/json; charset=utf-8 1328.677ms
2026-02-10 23:36:29.796 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - application/json 264
2026-02-10 23:36:29.800 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:36:29.904 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-10 23:36:29.918 +03:00 [INF] Route matched with {action = "CreateKpi", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateKpi(HRMS.Application.Features.Performance.KpiLibrary.Commands.Create.CreateKpiCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:36:30.022 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_KpiNameAr_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
        WHERE [k].[KPI_NAME_AR] = @__request_KpiNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 23:36:30.057 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 500), @p5='?' (Size = 200), @p6='?' (Size = 20), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[KPI_LIBRARIES] ([CATEGORY], [CREATED_AT], [CREATED_BY], [IS_DELETED], [KPI_DESCRIPTION], [KPI_NAME_AR], [MEASUREMENT_UNIT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [WEIGHT])
OUTPUT INSERTED.[KPI_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-02-10 23:36:30.076 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 23:36:30.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:36:30.087 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API) in 165.7711ms
2026-02-10 23:36:30.089 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-10 23:36:30.091 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 200 in 291.1300 ms
2026-02-10 23:36:30.092 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - 200 null application/json; charset=utf-8 295.751ms
2026-02-10 23:36:50.498 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - application/json 224
2026-02-10 23:36:50.501 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:36:50.504 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-10 23:36:50.505 +03:00 [INF] Route matched with {action = "CreateKpi", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateKpi(HRMS.Application.Features.Performance.KpiLibrary.Commands.Create.CreateKpiCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:36:50.512 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_KpiNameAr_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
        WHERE [k].[KPI_NAME_AR] = @__request_KpiNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 23:36:50.517 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 500), @p5='?' (Size = 200), @p6='?' (Size = 20), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[KPI_LIBRARIES] ([CATEGORY], [CREATED_AT], [CREATED_BY], [IS_DELETED], [KPI_DESCRIPTION], [KPI_NAME_AR], [MEASUREMENT_UNIT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [WEIGHT])
OUTPUT INSERTED.[KPI_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-02-10 23:36:50.531 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 23:36:50.685 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:36:50.696 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API) in 187.3939ms
2026-02-10 23:36:50.698 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-10 23:36:50.700 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 200 in 199.1865 ms
2026-02-10 23:36:50.703 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - 200 null application/json; charset=utf-8 204.5086ms
2026-02-10 23:37:25.731 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/appraisal-cycles - application/json 156
2026-02-10 23:37:25.735 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:37:25.736 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API)'
2026-02-10 23:37:25.749 +03:00 [INF] Route matched with {action = "CreateAppraisalCycle", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateAppraisalCycle(HRMS.Application.Features.Performance.AppraisalCycles.Commands.Create.CreateAppraisalCycleCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:37:32.413 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API) in 6538.5536ms
2026-02-10 23:37:32.425 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API)'
2026-02-10 23:37:32.492 +03:00 [ERR] CRITICAL ERROR CAUGHT: Validation failed: 
 -- Status: ุงูุญุงูุฉ ูุฌุจ ุฃู ุชููู: PLANNING, ACTIVE, COMPLETED, CANCELLED Severity: Error
FluentValidation.ValidationException: Validation failed: 
 -- Status: ุงูุญุงูุฉ ูุฌุจ ุฃู ุชููู: PLANNING, ACTIVE, COMPLETED, CANCELLED Severity: Error
   at HRMS.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle(CreateAppraisalCycleCommand command) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Performance\PerformanceController.cs:line 403
   at lambda_method870(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 31
2026-02-10 23:37:32.517 +03:00 [INF] HTTP POST /api/Performance/config/appraisal-cycles responded 400 in 6782.7819 ms
2026-02-10 23:37:32.519 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/appraisal-cycles - 400 null application/json 6787.8078ms
2026-02-10 23:37:38.411 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/appraisal-cycles - application/json 156
2026-02-10 23:37:38.415 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:37:38.416 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API)'
2026-02-10 23:37:38.417 +03:00 [INF] Route matched with {action = "CreateAppraisalCycle", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateAppraisalCycle(HRMS.Application.Features.Performance.AppraisalCycles.Commands.Create.CreateAppraisalCycleCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:37:38.615 +03:00 [INF] Executed DbCommand (180ms) [Parameters=[@__request_StartDate_0='?' (DbType = DateTime2), @__request_EndDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a]
        WHERE (@__request_StartDate_0 >= [a].[START_DATE] AND @__request_StartDate_0 <= [a].[END_DATE]) OR (@__request_EndDate_1 >= [a].[START_DATE] AND @__request_EndDate_1 <= [a].[END_DATE])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 23:37:38.662 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[APPRAISAL_CYCLES] ([CREATED_AT], [CREATED_BY], [CYCLE_NAME_AR], [END_DATE], [IS_ACTIVE], [IS_DELETED], [START_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[CYCLE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-02-10 23:37:38.670 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 23:37:38.673 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:37:38.675 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API) in 254.9551ms
2026-02-10 23:37:38.676 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateAppraisalCycle (HRMS.API)'
2026-02-10 23:37:38.677 +03:00 [INF] HTTP POST /api/Performance/config/appraisal-cycles responded 200 in 262.8417 ms
2026-02-10 23:37:38.679 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/appraisal-cycles - 200 null application/json; charset=utf-8 267.6478ms
2026-02-10 23:39:13.358 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/appraisals - application/json 442
2026-02-10 23:39:13.630 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:39:13.631 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-10 23:39:13.662 +03:00 [INF] Route matched with {action = "SubmitAppraisal", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] SubmitAppraisal(HRMS.Application.Features.Performance.Appraisals.Commands.SubmitAppraisal.SubmitAppraisalCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:39:13.853 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals1_request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 23:39:13.966 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-10 23:39:13.979 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 1000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 500), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p9='?' (Size = 20), @p10='?' (Size = 1) (DbType = Byte), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] ([APPRAISAL_DATE], [COMMENTS], [CREATED_AT], [CREATED_BY], [CYCLE_ID], [EMPLOYEE_COMMENT], [EMPLOYEE_ID], [EVALUATOR_ID], [FINAL_SCORE], [GRADE], [IS_DELETED], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[APPRAISAL_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-02-10 23:39:13.992 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-10 23:39:13.997 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[AUDIT_LOGS] ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
OUTPUT INSERTED.[LOG_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-02-10 23:39:14.118 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-10 23:39:14.143 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Size = 200), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p6='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int32), @p9='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p15='?' (DbType = Int32), @p16='?' (Size = 200), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p20='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 1) (DbType = Byte), @p22='?' (DbType = Int32), @p23='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p24='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p25='?' (DbType = DateTime2), @p26='?' (Size = 50), @p27='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_PERFORMANCE].[APPRAISAL_DETAILS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, 1)) AS i ([ACTUAL_VALUE], [APPRAISAL_ID], [COMMENTS], [CREATED_AT], [CREATED_BY], [EMPLOYEE_SCORE], [FINAL_SCORE], [IS_DELETED], [KPI_ID], [MANAGER_SCORE], [TARGET_VALUE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_VALUE], [APPRAISAL_ID], [COMMENTS], [CREATED_AT], [CREATED_BY], [EMPLOYEE_SCORE], [FINAL_SCORE], [IS_DELETED], [KPI_ID], [MANAGER_SCORE], [TARGET_VALUE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_VALUE], i.[APPRAISAL_ID], i.[COMMENTS], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_SCORE], i.[FINAL_SCORE], i.[IS_DELETED], i.[KPI_ID], i.[MANAGER_SCORE], i.[TARGET_VALUE], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[DETAIL_ID], i._Position;
2026-02-10 23:39:14.160 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2026-02-10 23:39:14.171 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int64), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 20), @p10='?' (Size = 50), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int64), @p16='?' (Size = 100), @p17='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_CORE].[AUDIT_LOGS] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1)) AS i ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTION_TYPE], [IP_ADDRESS], [NEW_VALUE], [OLD_VALUE], [PERFORMED_AT], [PERFORMED_BY], [RECORD_ID], [TABLE_NAME], [USER_AGENT])
VALUES (i.[ACTION_TYPE], i.[IP_ADDRESS], i.[NEW_VALUE], i.[OLD_VALUE], i.[PERFORMED_AT], i.[PERFORMED_BY], i.[RECORD_ID], i.[TABLE_NAME], i.[USER_AGENT])
OUTPUT INSERTED.[LOG_ID], i._Position;
2026-02-10 23:39:14.183 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:39:14.185 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API) in 512.7061ms
2026-02-10 23:39:14.187 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.SubmitAppraisal (HRMS.API)'
2026-02-10 23:39:14.188 +03:00 [INF] HTTP POST /api/Performance/appraisals responded 200 in 558.2369 ms
2026-02-10 23:39:14.190 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/appraisals - 200 null application/json; charset=utf-8 832.5213ms
2026-02-10 23:40:41.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Performance/appraisals?employeeId=23&cycleId=2 - null null
2026-02-10 23:40:41.338 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisals (HRMS.API)'
2026-02-10 23:40:41.351 +03:00 [INF] Route matched with {action = "GetAppraisals", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppraisals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:40:41.429 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_CycleId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[APPRAISAL_ID], [e].[APPRAISAL_DATE], [e].[COMMENTS], [e].[CREATED_AT], [e].[CREATED_BY], [e].[CYCLE_ID], [e].[EMPLOYEE_COMMENT], [e].[EMPLOYEE_ID], [e].[EVALUATOR_ID], [e].[FINAL_SCORE], [e].[GRADE], [e].[IS_DELETED], [e].[STATUS], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e0].[EMPLOYEE_ID], [e0].[BIRTH_DATE], [e0].[CREATED_AT], [e0].[CREATED_BY], [e0].[DEPARTMENT_ID], [e0].[EMAIL], [e0].[EMPLOYEE_NUMBER], [e0].[FIRST_NAME_AR], [e0].[FULL_NAME_EN], [e0].[GENDER], [e0].[HIRE_DATE], [e0].[IS_ACTIVE], [e0].[IS_DELETED], [e0].[JOB_GRADE_ID], [e0].[JOB_ID], [e0].[LAST_NAME_AR], [e0].[LICENSE_EXPIRY_DATE], [e0].[LICENSE_NUMBER], [e0].[MANAGER_ID], [e0].[MARITAL_STATUS], [e0].[MOBILE], [e0].[NATIONAL_ID], [e0].[NATIONALITY_ID], [e0].[PROFILE_PICTURE_PATH], [e0].[SECOND_NAME_AR], [e0].[SPECIALTY], [e0].[TERMINATION_DATE], [e0].[THIRD_NAME_AR], [e0].[UPDATED_AT], [e0].[UPDATED_BY], [e0].[USER_ID], [e0].[VERSION_NO], [a].[CYCLE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[CYCLE_NAME_AR], [a].[END_DATE], [a].[IS_ACTIVE], [a].[IS_DELETED], [a].[START_DATE], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VERSION_NO]
FROM [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] AS [e]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
INNER JOIN [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a] ON [e].[CYCLE_ID] = [a].[CYCLE_ID]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint) AND [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[CYCLE_ID] = @__request_CycleId_1
ORDER BY [e].[APPRAISAL_DATE] DESC
2026-02-10 23:40:41.608 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.EmployeeAppraisalDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:40:41.633 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetAppraisals (HRMS.API) in 273.9107ms
2026-02-10 23:40:41.637 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisals (HRMS.API)'
2026-02-10 23:40:41.638 +03:00 [INF] HTTP GET /api/Performance/appraisals responded 200 in 300.0174 ms
2026-02-10 23:40:41.640 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Performance/appraisals?employeeId=23&cycleId=2 - 200 null application/json; charset=utf-8 305.2709ms
2026-02-10 23:43:35.177 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - application/json 248
2026-02-10 23:43:35.180 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:43:35.182 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-10 23:43:35.183 +03:00 [INF] Route matched with {action = "CreateKpi", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateKpi(HRMS.Application.Features.Performance.KpiLibrary.Commands.Create.CreateKpiCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:43:35.199 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_KpiNameAr_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
        WHERE [k].[KPI_NAME_AR] = @__request_KpiNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 23:43:35.208 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:43:35.212 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API) in 25.1814ms
2026-02-10 23:43:35.213 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-10 23:43:35.215 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 400 in 34.7276 ms
2026-02-10 23:43:35.217 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - 400 null application/json; charset=utf-8 40.0473ms
2026-02-10 23:43:58.773 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - application/json 208
2026-02-10 23:43:58.778 +03:00 [INF] CORS policy execution successful.
2026-02-10 23:43:58.780 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-10 23:43:58.781 +03:00 [INF] Route matched with {action = "CreateKpi", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateKpi(HRMS.Application.Features.Performance.KpiLibrary.Commands.Create.CreateKpiCommand) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:43:58.790 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_KpiNameAr_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERFORMANCE].[KPI_LIBRARIES] AS [k]
        WHERE [k].[KPI_NAME_AR] = @__request_KpiNameAr_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-10 23:43:58.796 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:43:58.798 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API) in 14.3379ms
2026-02-10 23:43:58.811 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.CreateKpi (HRMS.API)'
2026-02-10 23:43:58.814 +03:00 [INF] HTTP POST /api/Performance/config/kpis responded 400 in 36.0885 ms
2026-02-10 23:43:58.819 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5201/api/Performance/config/kpis - 400 null application/json; charset=utf-8 45.6958ms
2026-02-10 23:44:57.031 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5201/api/Performance/appraisals?employeeId=23&cycleId=2 - null null
2026-02-10 23:44:57.037 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisals (HRMS.API)'
2026-02-10 23:44:57.038 +03:00 [INF] Route matched with {action = "GetAppraisals", controller = "Performance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppraisals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HRMS.API.Controllers.Performance.PerformanceController (HRMS.API).
2026-02-10 23:44:57.110 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_CycleId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[APPRAISAL_ID], [e].[APPRAISAL_DATE], [e].[COMMENTS], [e].[CREATED_AT], [e].[CREATED_BY], [e].[CYCLE_ID], [e].[EMPLOYEE_COMMENT], [e].[EMPLOYEE_ID], [e].[EVALUATOR_ID], [e].[FINAL_SCORE], [e].[GRADE], [e].[IS_DELETED], [e].[STATUS], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e0].[EMPLOYEE_ID], [e0].[BIRTH_DATE], [e0].[CREATED_AT], [e0].[CREATED_BY], [e0].[DEPARTMENT_ID], [e0].[EMAIL], [e0].[EMPLOYEE_NUMBER], [e0].[FIRST_NAME_AR], [e0].[FULL_NAME_EN], [e0].[GENDER], [e0].[HIRE_DATE], [e0].[IS_ACTIVE], [e0].[IS_DELETED], [e0].[JOB_GRADE_ID], [e0].[JOB_ID], [e0].[LAST_NAME_AR], [e0].[LICENSE_EXPIRY_DATE], [e0].[LICENSE_NUMBER], [e0].[MANAGER_ID], [e0].[MARITAL_STATUS], [e0].[MOBILE], [e0].[NATIONAL_ID], [e0].[NATIONALITY_ID], [e0].[PROFILE_PICTURE_PATH], [e0].[SECOND_NAME_AR], [e0].[SPECIALTY], [e0].[TERMINATION_DATE], [e0].[THIRD_NAME_AR], [e0].[UPDATED_AT], [e0].[UPDATED_BY], [e0].[USER_ID], [e0].[VERSION_NO], [a].[CYCLE_ID], [a].[CREATED_AT], [a].[CREATED_BY], [a].[CYCLE_NAME_AR], [a].[END_DATE], [a].[IS_ACTIVE], [a].[IS_DELETED], [a].[START_DATE], [a].[UPDATED_AT], [a].[UPDATED_BY], [a].[VERSION_NO]
FROM [HR_PERFORMANCE].[EMPLOYEE_APPRAISALS] AS [e]
INNER JOIN [HR_PERSONNEL].[EMPLOYEES] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
INNER JOIN [HR_PERFORMANCE].[APPRAISAL_CYCLES] AS [a] ON [e].[CYCLE_ID] = [a].[CYCLE_ID]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint) AND [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[CYCLE_ID] = @__request_CycleId_1
ORDER BY [e].[APPRAISAL_DATE] DESC
2026-02-10 23:44:57.243 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Performance.EmployeeAppraisalDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-10 23:44:57.246 +03:00 [INF] Executed action HRMS.API.Controllers.Performance.PerformanceController.GetAppraisals (HRMS.API) in 204.8456ms
2026-02-10 23:44:57.250 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Performance.PerformanceController.GetAppraisals (HRMS.API)'
2026-02-10 23:44:57.252 +03:00 [INF] HTTP GET /api/Performance/appraisals responded 200 in 214.9926 ms
2026-02-10 23:44:57.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5201/api/Performance/appraisals?employeeId=23&cycleId=2 - 200 null application/json; charset=utf-8 222.8081ms
