2026-01-27 00:03:00.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 00:03:01.129 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.6824 ms
2026-01-27 00:03:01.253 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 00:03:01.253 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 00:03:03.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2229.8749ms
2026-01-27 00:03:03.266 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 2013.0207ms
2026-01-27 00:03:05.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3998.9103ms
2026-01-27 00:03:05.344 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 00:03:05.856 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 410.8202 ms
2026-01-27 00:03:05.880 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 536.2495ms
2026-01-27 00:03:27.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employees/23/full-profile - null null
2026-01-27 00:03:27.188 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API)'
2026-01-27 00:03:27.196 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeDetails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeDetailsController (HRMS.API).
2026-01-27 00:03:27.287 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-27 00:03:27.716 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c0].[CONTRACT_ID], [c0].[BASIC_SALARY], [c0].[CONTRACT_STATUS], [c0].[CONTRACT_TYPE], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[EMPLOYEE_ID], [c0].[END_DATE], [c0].[HOUSING_ALLOWANCE], [c0].[IS_DELETED], [c0].[IS_RENEWABLE], [c0].[OTHER_ALLOWANCES], [c0].[START_DATE], [c0].[TRANSPORT_ALLOWANCE], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VACATION_DAYS], [c0].[VERSION_NO], [c0].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c0] ON [s].[EMPLOYEE_ID] = [c0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [e2].[QUALIFICATION_ID], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c0].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-01-27 00:03:27.906 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto'.
2026-01-27 00:03:41.454 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API) in 14253.7696ms
2026-01-27 00:03:41.457 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API)'
2026-01-27 00:04:26.047 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 00:04:31.813 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 00:04:31.899 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 00:04:32.721 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 00:04:32.723 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 00:04:32.859 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 00:04:32.860 +03:00 [INF] Hosting environment: Development
2026-01-27 00:04:32.861 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 00:04:34.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 00:04:38.064 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3632.4088 ms
2026-01-27 00:04:38.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 3957.161ms
2026-01-27 00:04:38.889 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 00:04:38.889 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 00:04:38.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 18.3534ms
2026-01-27 00:04:38.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.2115ms
2026-01-27 00:04:40.405 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 00:04:40.801 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 392.0335 ms
2026-01-27 00:04:40.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 399.2885ms
2026-01-27 00:04:52.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employees/23/full-profile - null null
2026-01-27 00:04:52.335 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API)'
2026-01-27 00:04:52.391 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeDetails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeDetailsController (HRMS.API).
2026-01-27 00:04:56.984 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 00:04:56.988 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 00:04:56.991 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 00:04:58.959 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-27 00:05:01.311 +03:00 [INF] Executed DbCommand (344ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c0].[CONTRACT_ID], [c0].[BASIC_SALARY], [c0].[CONTRACT_STATUS], [c0].[CONTRACT_TYPE], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[EMPLOYEE_ID], [c0].[END_DATE], [c0].[HOUSING_ALLOWANCE], [c0].[IS_DELETED], [c0].[IS_RENEWABLE], [c0].[OTHER_ALLOWANCES], [c0].[START_DATE], [c0].[TRANSPORT_ALLOWANCE], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VACATION_DAYS], [c0].[VERSION_NO], [c0].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c0] ON [s].[EMPLOYEE_ID] = [c0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [e2].[QUALIFICATION_ID], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c0].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-01-27 00:05:01.608 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto'.
2026-01-27 00:05:01.739 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API) in 9338.2735ms
2026-01-27 00:05:01.742 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API)'
2026-01-27 00:05:01.743 +03:00 [INF] HTTP GET /api/employees/23/full-profile responded 200 in 9419.1995 ms
2026-01-27 00:05:01.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employees/23/full-profile - 200 null application/json; charset=utf-8 9444.8904ms
2026-01-27 00:08:12.891 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Employees/23 - application/json 4037
2026-01-27 00:08:12.932 +03:00 [INF] CORS policy execution successful.
2026-01-27 00:08:12.938 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API)'
2026-01-27 00:08:12.949 +03:00 [INF] Route matched with {action = "Update", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Update(Int32, HRMS.Application.DTOs.Personnel.CreateEmployeeDto) on controller HRMS.API.Controllers.Personnel.EmployeesController (HRMS.API).
2026-01-27 00:08:13.280 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-27 00:08:13.555 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED0], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [e1].[QUALIFICATION_ID], [e1].[ATTACHMENT_PATH], [e1].[COUNTRY_ID], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DEGREE_TYPE], [e1].[EMPLOYEE_ID], [e1].[GRADE], [e1].[GRADUATION_YEAR], [e1].[IS_DELETED], [e1].[MAJOR_AR], [e1].[UNIVERSITY_AR], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [e2].[EXPERIENCE_ID], [e2].[COMPANY_NAME_AR], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[EMPLOYEE_ID], [e2].[END_DATE], [e2].[IS_CURRENT], [e2].[IS_DELETED], [e2].[JOB_TITLE_AR], [e2].[REASON_FOR_LEAVING], [e2].[RESPONSIBILITIES], [e2].[START_DATE], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[CONTACT_ID], [e3].[CONTACT_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[IS_DELETED], [e3].[IS_PRIMARY], [e3].[PHONE_PRIMARY], [e3].[PHONE_SECONDARY], [e3].[RELATIONSHIP], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY], [e4].[CERT_ID], [e4].[ATTACHMENT_PATH], [e4].[CERT_NAME_AR], [e4].[CERT_NUMBER], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[EXPIRY_DATE], [e4].[IS_DELETED], [e4].[IS_MANDATORY], [e4].[ISSUE_DATE], [e4].[ISSUING_AUTHORITY], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [e5].[ACCOUNT_ID], [e5].[ACCOUNT_NUMBER], [e5].[BANK_ID], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[IBAN], [e5].[IS_ACTIVE], [e5].[IS_DELETED], [e5].[IS_PRIMARY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [d].[DEPENDENT_ID], [d].[BIRTH_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[IS_ELIGIBLE_FOR_INSURANCE], [d].[IS_ELIGIBLE_FOR_TICKET], [d].[NAME_AR], [d].[NATIONAL_ID], [d].[RELATIONSHIP], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO], [e6].[ADDRESS_ID], [e6].[ADDRESS_TYPE], [e6].[BUILDING_NO], [e6].[CITY_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[DISTRICT], [e6].[EMPLOYEE_ID], [e6].[IS_DELETED], [e6].[POSTAL_CODE], [e6].[STREET], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [e7].[DOCUMENT_ID], [e7].[CONTENT_TYPE], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DOCUMENT_NUMBER], [e7].[DOCUMENT_TYPE_ID], [e7].[EMPLOYEE_ID], [e7].[EXPIRY_DATE], [e7].[FILE_NAME], [e7].[FILE_PATH], [e7].[FILE_SIZE], [e7].[IS_DELETED], [e7].[ISSUE_DATE], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT0], [e0].[CREATED_BY] AS [CREATED_BY0], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED0], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT0], [e0].[UPDATED_BY] AS [UPDATED_BY0], [e0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e1] ON [s].[EMPLOYEE_ID] = [e1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c] ON [s].[EMPLOYEE_ID] = [c].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d] ON [s].[EMPLOYEE_ID] = [d].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[COMPENSATION_ID], [e1].[QUALIFICATION_ID], [e2].[EXPERIENCE_ID], [e3].[CONTACT_ID], [c].[CONTRACT_ID], [e4].[CERT_ID], [e5].[ACCOUNT_ID], [d].[DEPENDENT_ID], [e6].[ADDRESS_ID]
2026-01-27 00:08:54.520 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API) in 41567.5021ms
2026-01-27 00:08:54.798 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API)'
2026-01-27 00:08:55.322 +03:00 [ERR] Global Exception Caught: The association between entity types 'Employee' and 'EmployeeAddress' has been severed, but the relationship is either marked as required or is implicitly required because the foreign key is not nullable. If the dependent/child entity should be deleted when a required relationship is severed, configure the relationship to use cascade deletes. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the key values.
System.InvalidOperationException: The association between entity types 'Employee' and 'EmployeeAddress' has been severed, but the relationship is either marked as required or is implicitly required because the foreign key is not nullable. If the dependent/child entity should be deleted when a required relationship is severed, configure the relationship to use cascade deletes. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.HandleConceptualNulls(Boolean sensitiveLoggingEnabled, Boolean force, Boolean isCascadeDelete)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.HandleNullForeignKey(IProperty property, Boolean setModified, Boolean isCascadeDelete)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetProperty(IPropertyBase propertyBase, Object value, Boolean isMaterialization, Boolean setModified, Boolean isCascadeDelete, CurrentValueType valueType)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetProperty(IPropertyBase propertyBase, Object value, Boolean isMaterialization, Boolean setModified, Boolean isCascadeDelete)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.set_Item(IPropertyBase propertyBase, Object value)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.ConditionallyNullForeignKeyProperties(InternalEntityEntry dependentEntry, InternalEntityEntry principalEntry, IForeignKey foreignKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Personnel.Employees.Commands.UpdateEmployee.UpdateEmployeeCommandHandler.Handle(UpdateEmployeeCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Personnel\Employees\Commands\UpdateEmployee\UpdateEmployeeCommandHandler.cs:line 148
   at HRMS.API.Controllers.Personnel.EmployeesController.Update(Int32 id, CreateEmployeeDto dto) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Personnel\EmployeesController.cs:line 61
   at lambda_method578(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 00:09:02.727 +03:00 [ERR] HTTP PUT /api/Employees/23 responded 500 in 49797.5933 ms
2026-01-27 00:09:03.053 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Employees/23 - 500 null application/json 50200.0543ms
2026-01-27 00:11:59.460 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 00:11:59.560 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 5.8881 ms
2026-01-27 00:11:59.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 00:11:59.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 320.7519ms
2026-01-27 00:11:59.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 00:11:59.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 97.0489ms
2026-01-27 00:11:59.942 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 238.7073ms
2026-01-27 00:12:00.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 00:12:01.942 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 286.2231 ms
2026-01-27 00:12:01.948 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1321.5851ms
2026-01-27 00:12:32.962 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Employees/23 - application/json 4037
2026-01-27 00:12:32.966 +03:00 [INF] CORS policy execution successful.
2026-01-27 00:12:32.973 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API)'
2026-01-27 00:12:32.981 +03:00 [INF] Route matched with {action = "Update", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Update(Int32, HRMS.Application.DTOs.Personnel.CreateEmployeeDto) on controller HRMS.API.Controllers.Personnel.EmployeesController (HRMS.API).
2026-01-27 00:12:33.217 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED0], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [e1].[QUALIFICATION_ID], [e1].[ATTACHMENT_PATH], [e1].[COUNTRY_ID], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DEGREE_TYPE], [e1].[EMPLOYEE_ID], [e1].[GRADE], [e1].[GRADUATION_YEAR], [e1].[IS_DELETED], [e1].[MAJOR_AR], [e1].[UNIVERSITY_AR], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [e2].[EXPERIENCE_ID], [e2].[COMPANY_NAME_AR], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[EMPLOYEE_ID], [e2].[END_DATE], [e2].[IS_CURRENT], [e2].[IS_DELETED], [e2].[JOB_TITLE_AR], [e2].[REASON_FOR_LEAVING], [e2].[RESPONSIBILITIES], [e2].[START_DATE], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[CONTACT_ID], [e3].[CONTACT_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[IS_DELETED], [e3].[IS_PRIMARY], [e3].[PHONE_PRIMARY], [e3].[PHONE_SECONDARY], [e3].[RELATIONSHIP], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY], [e4].[CERT_ID], [e4].[ATTACHMENT_PATH], [e4].[CERT_NAME_AR], [e4].[CERT_NUMBER], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[EXPIRY_DATE], [e4].[IS_DELETED], [e4].[IS_MANDATORY], [e4].[ISSUE_DATE], [e4].[ISSUING_AUTHORITY], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [e5].[ACCOUNT_ID], [e5].[ACCOUNT_NUMBER], [e5].[BANK_ID], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[IBAN], [e5].[IS_ACTIVE], [e5].[IS_DELETED], [e5].[IS_PRIMARY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [d].[DEPENDENT_ID], [d].[BIRTH_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[IS_ELIGIBLE_FOR_INSURANCE], [d].[IS_ELIGIBLE_FOR_TICKET], [d].[NAME_AR], [d].[NATIONAL_ID], [d].[RELATIONSHIP], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO], [e6].[ADDRESS_ID], [e6].[ADDRESS_TYPE], [e6].[BUILDING_NO], [e6].[CITY_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[DISTRICT], [e6].[EMPLOYEE_ID], [e6].[IS_DELETED], [e6].[POSTAL_CODE], [e6].[STREET], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [e7].[DOCUMENT_ID], [e7].[CONTENT_TYPE], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DOCUMENT_NUMBER], [e7].[DOCUMENT_TYPE_ID], [e7].[EMPLOYEE_ID], [e7].[EXPIRY_DATE], [e7].[FILE_NAME], [e7].[FILE_PATH], [e7].[FILE_SIZE], [e7].[IS_DELETED], [e7].[ISSUE_DATE], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT0], [e0].[CREATED_BY] AS [CREATED_BY0], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED0], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT0], [e0].[UPDATED_BY] AS [UPDATED_BY0], [e0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e1] ON [s].[EMPLOYEE_ID] = [e1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c] ON [s].[EMPLOYEE_ID] = [c].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d] ON [s].[EMPLOYEE_ID] = [d].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[COMPENSATION_ID], [e1].[QUALIFICATION_ID], [e2].[EXPERIENCE_ID], [e3].[CONTACT_ID], [c].[CONTRACT_ID], [e4].[CERT_ID], [e5].[ACCOUNT_ID], [d].[DEPENDENT_ID], [e6].[ADDRESS_ID]
2026-01-27 00:12:42.703 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API) in 9698.0734ms
2026-01-27 00:12:42.721 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API)'
2026-01-27 00:12:43.153 +03:00 [ERR] Global Exception Caught: The association between entity types 'Employee' and 'EmployeeAddress' has been severed, but the relationship is either marked as required or is implicitly required because the foreign key is not nullable. If the dependent/child entity should be deleted when a required relationship is severed, configure the relationship to use cascade deletes. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the key values.
System.InvalidOperationException: The association between entity types 'Employee' and 'EmployeeAddress' has been severed, but the relationship is either marked as required or is implicitly required because the foreign key is not nullable. If the dependent/child entity should be deleted when a required relationship is severed, configure the relationship to use cascade deletes. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.HandleConceptualNulls(Boolean sensitiveLoggingEnabled, Boolean force, Boolean isCascadeDelete)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.HandleNullForeignKey(IProperty property, Boolean setModified, Boolean isCascadeDelete)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetProperty(IPropertyBase propertyBase, Object value, Boolean isMaterialization, Boolean setModified, Boolean isCascadeDelete, CurrentValueType valueType)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetProperty(IPropertyBase propertyBase, Object value, Boolean isMaterialization, Boolean setModified, Boolean isCascadeDelete)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.set_Item(IPropertyBase propertyBase, Object value)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.ConditionallyNullForeignKeyProperties(InternalEntityEntry dependentEntry, InternalEntityEntry principalEntry, IForeignKey foreignKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Personnel.Employees.Commands.UpdateEmployee.UpdateEmployeeCommandHandler.Handle(UpdateEmployeeCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Personnel\Employees\Commands\UpdateEmployee\UpdateEmployeeCommandHandler.cs:line 148
   at HRMS.API.Controllers.Personnel.EmployeesController.Update(Int32 id, CreateEmployeeDto dto) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Personnel\EmployeesController.cs:line 61
   at lambda_method2196(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 00:12:43.185 +03:00 [ERR] HTTP PUT /api/Employees/23 responded 500 in 10218.6379 ms
2026-01-27 00:12:43.188 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Employees/23 - 500 null application/json 10228.6969ms
2026-01-27 00:13:34.313 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 00:13:34.957 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-27 00:13:41.685 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 00:13:42.130 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-27 00:14:26.753 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 00:14:27.158 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-27 00:14:46.736 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 00:14:55.514 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 00:14:55.599 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 00:14:57.060 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 00:14:57.063 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 00:14:57.220 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 00:14:57.435 +03:00 [INF] Hosting environment: Development
2026-01-27 00:14:57.452 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 00:14:58.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 00:14:58.735 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 301.7463 ms
2026-01-27 00:14:58.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 648.9077ms
2026-01-27 00:14:58.763 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 00:14:58.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 15.2537ms
2026-01-27 00:14:59.550 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 00:15:00.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 481.0772ms
2026-01-27 00:15:01.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 00:15:01.802 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 469.9163 ms
2026-01-27 00:15:01.809 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 480.41ms
2026-01-27 00:15:28.284 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Employees/23 - application/json 4035
2026-01-27 00:15:28.299 +03:00 [INF] CORS policy execution successful.
2026-01-27 00:15:28.350 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API)'
2026-01-27 00:15:28.405 +03:00 [INF] Route matched with {action = "Update", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Update(Int32, HRMS.Application.DTOs.Personnel.CreateEmployeeDto) on controller HRMS.API.Controllers.Personnel.EmployeesController (HRMS.API).
2026-01-27 00:15:31.821 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 00:15:31.830 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 00:15:31.833 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 00:15:33.245 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-27 00:15:34.175 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED0], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [e1].[QUALIFICATION_ID], [e1].[ATTACHMENT_PATH], [e1].[COUNTRY_ID], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DEGREE_TYPE], [e1].[EMPLOYEE_ID], [e1].[GRADE], [e1].[GRADUATION_YEAR], [e1].[IS_DELETED], [e1].[MAJOR_AR], [e1].[UNIVERSITY_AR], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [e2].[EXPERIENCE_ID], [e2].[COMPANY_NAME_AR], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[EMPLOYEE_ID], [e2].[END_DATE], [e2].[IS_CURRENT], [e2].[IS_DELETED], [e2].[JOB_TITLE_AR], [e2].[REASON_FOR_LEAVING], [e2].[RESPONSIBILITIES], [e2].[START_DATE], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[CONTACT_ID], [e3].[CONTACT_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[IS_DELETED], [e3].[IS_PRIMARY], [e3].[PHONE_PRIMARY], [e3].[PHONE_SECONDARY], [e3].[RELATIONSHIP], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [c].[CONTRACT_ID], [c].[BASIC_SALARY], [c].[CONTRACT_STATUS], [c].[CONTRACT_TYPE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[EMPLOYEE_ID], [c].[END_DATE], [c].[HOUSING_ALLOWANCE], [c].[IS_DELETED], [c].[IS_RENEWABLE], [c].[OTHER_ALLOWANCES], [c].[START_DATE], [c].[TRANSPORT_ALLOWANCE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VACATION_DAYS], [c].[VERSION_NO], [c].[WORKING_HOURS_DAILY], [e4].[CERT_ID], [e4].[ATTACHMENT_PATH], [e4].[CERT_NAME_AR], [e4].[CERT_NUMBER], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[EXPIRY_DATE], [e4].[IS_DELETED], [e4].[IS_MANDATORY], [e4].[ISSUE_DATE], [e4].[ISSUING_AUTHORITY], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [e5].[ACCOUNT_ID], [e5].[ACCOUNT_NUMBER], [e5].[BANK_ID], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[IBAN], [e5].[IS_ACTIVE], [e5].[IS_DELETED], [e5].[IS_PRIMARY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [d].[DEPENDENT_ID], [d].[BIRTH_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[IS_ELIGIBLE_FOR_INSURANCE], [d].[IS_ELIGIBLE_FOR_TICKET], [d].[NAME_AR], [d].[NATIONAL_ID], [d].[RELATIONSHIP], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO], [e6].[ADDRESS_ID], [e6].[ADDRESS_TYPE], [e6].[BUILDING_NO], [e6].[CITY_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[DISTRICT], [e6].[EMPLOYEE_ID], [e6].[IS_DELETED], [e6].[POSTAL_CODE], [e6].[STREET], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [e7].[DOCUMENT_ID], [e7].[CONTENT_TYPE], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DOCUMENT_NUMBER], [e7].[DOCUMENT_TYPE_ID], [e7].[EMPLOYEE_ID], [e7].[EXPIRY_DATE], [e7].[FILE_NAME], [e7].[FILE_PATH], [e7].[FILE_SIZE], [e7].[IS_DELETED], [e7].[ISSUE_DATE], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT0], [e0].[CREATED_BY] AS [CREATED_BY0], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED0], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT0], [e0].[UPDATED_BY] AS [UPDATED_BY0], [e0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e1] ON [s].[EMPLOYEE_ID] = [e1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c] ON [s].[EMPLOYEE_ID] = [c].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d] ON [s].[EMPLOYEE_ID] = [d].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[COMPENSATION_ID], [e1].[QUALIFICATION_ID], [e2].[EXPERIENCE_ID], [e3].[CONTACT_ID], [c].[CONTRACT_ID], [e4].[CERT_ID], [e5].[ACCOUNT_ID], [d].[DEPENDENT_ID], [e6].[ADDRESS_ID]
2026-01-27 00:15:36.240 +03:00 [INF] Executed DbCommand (175ms) [Parameters=[@p18='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 20), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = DateTime2), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int16), @p16='?' (DbType = Int32), @p19='?' (DbType = Int32), @p17='?' (Size = 1) (DbType = Byte), @p33='?' (DbType = Int32), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 50), @p23='?' (DbType = Int32), @p24='?' (Size = 1) (DbType = Byte), @p25='?' (Size = 1) (DbType = Byte), @p26='?' (Size = 1) (DbType = Byte), @p27='?' (Size = 100), @p28='?' (Size = 20), @p29='?' (Size = 50), @p30='?' (DbType = DateTime2), @p31='?' (Size = 50), @p32='?' (DbType = Int32), @p34='?' (DbType = Int32), @p47='?' (DbType = Int32), @p35='?' (Size = 100), @p36='?' (DbType = DateTime2), @p37='?' (Size = 50), @p38='?' (DbType = Int32), @p39='?' (Size = 1) (DbType = Byte), @p40='?' (Size = 1) (DbType = Byte), @p41='?' (Size = 20), @p42='?' (Size = 20), @p43='?' (Size = 50), @p44='?' (DbType = DateTime2), @p45='?' (Size = 50), @p46='?' (DbType = Int32), @p48='?' (DbType = Int32), @p55='?' (DbType = Int32), @p49='?' (Size = 100), @p50='?' (Size = 50), @p51='?' (DbType = DateTime2), @p52='?' (Size = 20), @p53='?' (Size = 100), @p54='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p70='?' (DbType = Int32), @p57='?' (Size = 20), @p58='?' (Size = 20), @p59='?' (DbType = Int32), @p60='?' (DbType = DateTime2), @p61='?' (Size = 50), @p62='?' (Size = 100), @p63='?' (DbType = Int32), @p64='?' (Size = 1) (DbType = Byte), @p65='?' (Size = 20), @p66='?' (Size = 200), @p67='?' (DbType = DateTime2), @p68='?' (Size = 50), @p69='?' (DbType = Int32), @p71='?' (DbType = Int32), @p84='?' (DbType = Int32), @p72='?' (Size = 50), @p73='?' (DbType = Int32), @p74='?' (DbType = DateTime2), @p75='?' (Size = 50), @p76='?' (DbType = Int32), @p77='?' (Size = 50), @p78='?' (Size = 1) (DbType = Byte), @p79='?' (Size = 1) (DbType = Byte), @p80='?' (Size = 1) (DbType = Byte), @p81='?' (DbType = DateTime2), @p82='?' (Size = 50), @p83='?' (DbType = Int32), @p85='?' (DbType = Int32), @p86='?' (DbType = Int32), @p87='?' (DbType = Int32), @p94='?' (DbType = Int32), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p90='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p91='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p92='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p93='?' (DbType = DateTime2), @p95='?' (DbType = Int32), @p111='?' (DbType = Int32), @p96='?' (Size = 100), @p97='?' (DbType = DateTime2), @p98='?' (Size = 50), @p99='?' (Size = 50), @p100='?' (DbType = Int32), @p101='?' (DbType = Int32), @p102='?' (DbType = DateTime2), @p103='?' (Size = 255), @p104='?' (Size = 500), @p105='?' (DbType = Int64), @p106='?' (Size = 1) (DbType = Byte), @p107='?' (DbType = DateTime2), @p108='?' (DbType = DateTime2), @p109='?' (Size = 50), @p110='?' (DbType = Int32), @p112='?' (DbType = Int32), @p127='?' (DbType = Int32), @p113='?' (Size = 200), @p114='?' (DbType = DateTime2), @p115='?' (Size = 50), @p116='?' (DbType = Int32), @p117='?' (DbType = DateTime2), @p118='?' (Size = 1) (DbType = Byte), @p119='?' (Size = 1) (DbType = Byte), @p120='?' (Size = 100), @p121='?' (Size = 200), @p122='?' (Size = 500), @p123='?' (DbType = DateTime2), @p124='?' (DbType = DateTime2), @p125='?' (Size = 50), @p126='?' (DbType = Int32), @p128='?' (DbType = Int32), @p143='?' (DbType = Int32), @p129='?' (Size = 500), @p130='?' (DbType = Int32), @p131='?' (DbType = DateTime2), @p132='?' (Size = 50), @p133='?' (Size = 50), @p134='?' (DbType = Int32), @p135='?' (Size = 20), @p136='?' (DbType = Int16), @p137='?' (Size = 1) (DbType = Byte), @p138='?' (Size = 100), @p139='?' (Size = 200), @p140='?' (DbType = DateTime2), @p141='?' (Size = 50), @p142='?' (DbType = Int32), @p144='?' (DbType = Int32), @p145='?' (Size = 500), @p146='?' (Size = 200), @p147='?' (Size = 100), @p148='?' (DbType = DateTime2), @p149='?' (Size = 50), @p150='?' (DbType = Int32), @p151='?' (DbType = DateTime2), @p152='?' (Size = 1) (DbType = Byte), @p153='?' (Size = 1) (DbType = Byte), @p154='?' (DbType = DateTime2), @p155='?' (Size = 200), @p156='?' (DbType = DateTime2), @p157='?' (Size = 50), @p158='?' (DbType = Int32), @p159='?' (Size = 500), @p160='?' (Size = 200), @p161='?' (Size = 100), @p162='?' (DbType = DateTime2), @p163='?' (Size = 50), @p164='?' (DbType = Int32), @p165='?' (DbType = DateTime2), @p166='?' (Size = 1) (DbType = Byte), @p167='?' (Size = 1) (DbType = Byte), @p168='?' (DbType = DateTime2), @p169='?' (Size = 200), @p170='?' (DbType = DateTime2), @p171='?' (Size = 50), @p172='?' (DbType = Int32), @p173='?' (Size = 500), @p174='?' (Size = 200), @p175='?' (Size = 100), @p176='?' (DbType = DateTime2), @p177='?' (Size = 50), @p178='?' (DbType = Int32), @p179='?' (DbType = DateTime2), @p180='?' (Size = 1) (DbType = Byte), @p181='?' (Size = 1) (DbType = Byte), @p182='?' (DbType = DateTime2), @p183='?' (Size = 200), @p184='?' (DbType = DateTime2), @p185='?' (Size = 50), @p186='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [HR_PERSONNEL].[CONTRACTS] SET [BASIC_SALARY] = @p0, [CONTRACT_STATUS] = @p1, [CONTRACT_TYPE] = @p2, [CREATED_AT] = @p3, [CREATED_BY] = @p4, [EMPLOYEE_ID] = @p5, [END_DATE] = @p6, [HOUSING_ALLOWANCE] = @p7, [IS_DELETED] = @p8, [IS_RENEWABLE] = @p9, [OTHER_ALLOWANCES] = @p10, [START_DATE] = @p11, [TRANSPORT_ALLOWANCE] = @p12, [UPDATED_AT] = @p13, [UPDATED_BY] = @p14, [VACATION_DAYS] = @p15, [VERSION_NO] = @p16, [WORKING_HOURS_DAILY] = @p17
OUTPUT 1
WHERE [CONTRACT_ID] = @p18 AND [VERSION_NO] = @p19;
UPDATE [HR_PERSONNEL].[DEPENDENTS] SET [BIRTH_DATE] = @p20, [CREATED_AT] = @p21, [CREATED_BY] = @p22, [EMPLOYEE_ID] = @p23, [IS_DELETED] = @p24, [IS_ELIGIBLE_FOR_INSURANCE] = @p25, [IS_ELIGIBLE_FOR_TICKET] = @p26, [NAME_AR] = @p27, [NATIONAL_ID] = @p28, [RELATIONSHIP] = @p29, [UPDATED_AT] = @p30, [UPDATED_BY] = @p31, [VERSION_NO] = @p32
OUTPUT 1
WHERE [DEPENDENT_ID] = @p33 AND [VERSION_NO] = @p34;
UPDATE [HR_PERSONNEL].[EMERGENCY_CONTACTS] SET [CONTACT_NAME_AR] = @p35, [CREATED_AT] = @p36, [CREATED_BY] = @p37, [EMPLOYEE_ID] = @p38, [IS_DELETED] = @p39, [IS_PRIMARY] = @p40, [PHONE_PRIMARY] = @p41, [PHONE_SECONDARY] = @p42, [RELATIONSHIP] = @p43, [UPDATED_AT] = @p44, [UPDATED_BY] = @p45, [VERSION_NO] = @p46
OUTPUT 1
WHERE [CONTACT_ID] = @p47 AND [VERSION_NO] = @p48;
UPDATE [HR_PERSONNEL].[EMPLOYEES] SET [EMAIL] = @p49, [FIRST_NAME_AR] = @p50, [LICENSE_EXPIRY_DATE] = @p51, [MOBILE] = @p52, [SPECIALTY] = @p53, [UPDATED_AT] = @p54
OUTPUT 1
WHERE [EMPLOYEE_ID] = @p55 AND [VERSION_NO] = @p56;
UPDATE [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] SET [ADDRESS_TYPE] = @p57, [BUILDING_NO] = @p58, [CITY_ID] = @p59, [CREATED_AT] = @p60, [CREATED_BY] = @p61, [DISTRICT] = @p62, [EMPLOYEE_ID] = @p63, [IS_DELETED] = @p64, [POSTAL_CODE] = @p65, [STREET] = @p66, [UPDATED_AT] = @p67, [UPDATED_BY] = @p68, [VERSION_NO] = @p69
OUTPUT 1
WHERE [ADDRESS_ID] = @p70 AND [VERSION_NO] = @p71;
UPDATE [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] SET [ACCOUNT_NUMBER] = @p72, [BANK_ID] = @p73, [CREATED_AT] = @p74, [CREATED_BY] = @p75, [EMPLOYEE_ID] = @p76, [IBAN] = @p77, [IS_ACTIVE] = @p78, [IS_DELETED] = @p79, [IS_PRIMARY] = @p80, [UPDATED_AT] = @p81, [UPDATED_BY] = @p82, [VERSION_NO] = @p83
OUTPUT 1
WHERE [ACCOUNT_ID] = @p84 AND [VERSION_NO] = @p85;
DELETE FROM [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS]
OUTPUT 1
WHERE [CERT_ID] = @p86 AND [VERSION_NO] = @p87;
UPDATE [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] SET [BASIC_SALARY] = @p88, [HOUSING_ALLOWANCE] = @p89, [MEDICAL_ALLOWANCE] = @p90, [OTHER_ALLOWANCES] = @p91, [TRANSPORT_ALLOWANCE] = @p92, [UPDATED_AT] = @p93
OUTPUT 1
WHERE [COMPENSATION_ID] = @p94 AND [VERSION_NO] = @p95;
UPDATE [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] SET [CONTENT_TYPE] = @p96, [CREATED_AT] = @p97, [CREATED_BY] = @p98, [DOCUMENT_NUMBER] = @p99, [DOCUMENT_TYPE_ID] = @p100, [EMPLOYEE_ID] = @p101, [EXPIRY_DATE] = @p102, [FILE_NAME] = @p103, [FILE_PATH] = @p104, [FILE_SIZE] = @p105, [IS_DELETED] = @p106, [ISSUE_DATE] = @p107, [UPDATED_AT] = @p108, [UPDATED_BY] = @p109, [VERSION_NO] = @p110
OUTPUT 1
WHERE [DOCUMENT_ID] = @p111 AND [VERSION_NO] = @p112;
UPDATE [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] SET [COMPANY_NAME_AR] = @p113, [CREATED_AT] = @p114, [CREATED_BY] = @p115, [EMPLOYEE_ID] = @p116, [END_DATE] = @p117, [IS_CURRENT] = @p118, [IS_DELETED] = @p119, [JOB_TITLE_AR] = @p120, [REASON_FOR_LEAVING] = @p121, [RESPONSIBILITIES] = @p122, [START_DATE] = @p123, [UPDATED_AT] = @p124, [UPDATED_BY] = @p125, [VERSION_NO] = @p126
OUTPUT 1
WHERE [EXPERIENCE_ID] = @p127 AND [VERSION_NO] = @p128;
UPDATE [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] SET [ATTACHMENT_PATH] = @p129, [COUNTRY_ID] = @p130, [CREATED_AT] = @p131, [CREATED_BY] = @p132, [DEGREE_TYPE] = @p133, [EMPLOYEE_ID] = @p134, [GRADE] = @p135, [GRADUATION_YEAR] = @p136, [IS_DELETED] = @p137, [MAJOR_AR] = @p138, [UNIVERSITY_AR] = @p139, [UPDATED_AT] = @p140, [UPDATED_BY] = @p141, [VERSION_NO] = @p142
OUTPUT 1
WHERE [QUALIFICATION_ID] = @p143 AND [VERSION_NO] = @p144;
MERGE [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] USING (
VALUES (@p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, 0),
(@p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, 1),
(@p173, @p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, 2)) AS i ([ATTACHMENT_PATH], [CERT_NAME_AR], [CERT_NUMBER], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [EXPIRY_DATE], [IS_DELETED], [IS_MANDATORY], [ISSUE_DATE], [ISSUING_AUTHORITY], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ATTACHMENT_PATH], [CERT_NAME_AR], [CERT_NUMBER], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [EXPIRY_DATE], [IS_DELETED], [IS_MANDATORY], [ISSUE_DATE], [ISSUING_AUTHORITY], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ATTACHMENT_PATH], i.[CERT_NAME_AR], i.[CERT_NUMBER], i.[CREATED_AT], i.[CREATED_BY], i.[EMPLOYEE_ID], i.[EXPIRY_DATE], i.[IS_DELETED], i.[IS_MANDATORY], i.[ISSUE_DATE], i.[ISSUING_AUTHORITY], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[CERT_ID], i._Position;
2026-01-27 00:15:36.333 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2026-01-27 00:15:36.340 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API) in 7924.8063ms
2026-01-27 00:15:36.343 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.Update (HRMS.API)'
2026-01-27 00:15:36.345 +03:00 [INF] HTTP PUT /api/Employees/23 responded 204 in 8052.2975 ms
2026-01-27 00:15:36.365 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Employees/23 - 204 null null 8080.7634ms
2026-01-27 00:16:08.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Employees/23 - null null
2026-01-27 00:16:08.984 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.GetProfile (HRMS.API)'
2026-01-27 00:16:09.038 +03:00 [INF] Route matched with {action = "GetProfile", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Application.DTOs.Personnel.EmployeeProfileDto]] GetProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeesController (HRMS.API).
2026-01-27 00:16:09.300 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED2], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT2], [e0].[CREATED_BY] AS [CREATED_BY2], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED2], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT2], [e0].[UPDATED_BY] AS [UPDATED_BY2], [e0].[VERSION_NO] AS [VERSION_NO2]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[IS_DELETED] = CAST(0 AS tinyint)
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID]
2026-01-27 00:16:09.513 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Personnel.EmployeeProfileDto'.
2026-01-27 00:16:09.538 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeesController.GetProfile (HRMS.API) in 416.4635ms
2026-01-27 00:16:09.541 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.GetProfile (HRMS.API)'
2026-01-27 00:16:09.543 +03:00 [INF] HTTP GET /api/Employees/23 responded 200 in 560.3783 ms
2026-01-27 00:16:09.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Employees/23 - 200 null application/json; charset=utf-8 586.5096ms
2026-01-27 00:16:30.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/employees/23/full-profile - null null
2026-01-27 00:16:30.302 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API)'
2026-01-27 00:16:30.309 +03:00 [INF] Route matched with {action = "GetFullProfile", controller = "EmployeeDetails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto]] GetFullProfile(Int32) on controller HRMS.API.Controllers.Personnel.EmployeeDetailsController (HRMS.API).
2026-01-27 00:16:30.730 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-27 00:16:31.142 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[EMPLOYEE_ID], [s].[BIRTH_DATE], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DEPARTMENT_ID], [s].[EMAIL], [s].[EMPLOYEE_NUMBER], [s].[FIRST_NAME_AR], [s].[FULL_NAME_EN], [s].[GENDER], [s].[HIRE_DATE], [s].[IS_DELETED], [s].[JOB_ID], [s].[LAST_NAME_AR], [s].[LICENSE_EXPIRY_DATE], [s].[LICENSE_NUMBER], [s].[MANAGER_ID], [s].[MARITAL_STATUS], [s].[MOBILE], [s].[NATIONAL_ID], [s].[NATIONALITY_ID], [s].[SECOND_NAME_AR], [s].[SPECIALTY], [s].[THIRD_NAME_AR], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[USER_ID], [s].[VERSION_NO], [s].[DEPT_ID], [s].[BranchId], [s].[COST_CENTER_CODE], [s].[CREATED_AT0], [s].[CREATED_BY0], [s].[DEPT_NAME_AR], [s].[DEPT_NAME_EN], [s].[IS_ACTIVE], [s].[IS_DELETED0], [s].[MANAGER_ID0], [s].[PARENT_DEPT_ID], [s].[UPDATED_AT0], [s].[UPDATED_BY0], [s].[VERSION_NO0], [s].[JOB_ID0], [s].[CREATED_AT1], [s].[CREATED_BY1], [s].[DEFAULT_GRADE_ID], [s].[DepartmentDeptId], [s].[IS_DELETED1], [s].[IS_MEDICAL], [s].[JOB_TITLE_AR], [s].[JOB_TITLE_EN], [s].[UPDATED_AT1], [s].[UPDATED_BY1], [s].[VERSION_NO1], [s].[COUNTRY_ID], [s].[CITIZENSHIP_NAME_AR], [s].[CITIZENSHIP_NAME_EN], [s].[COUNTRY_NAME_AR], [s].[COUNTRY_NAME_EN], [s].[CREATED_AT2], [s].[CREATED_BY2], [s].[IS_DELETED2], [s].[ISO_CODE], [s].[UPDATED_AT2], [s].[UPDATED_BY2], [s].[VERSION_NO2], [s].[COMPENSATION_ID], [s].[BANK_ID], [s].[BASIC_SALARY], [s].[CREATED_AT3], [s].[CREATED_BY3], [s].[EMPLOYEE_ID0], [s].[HOUSING_ALLOWANCE], [s].[IBAN_NUMBER], [s].[IS_DELETED3], [s].[MEDICAL_ALLOWANCE], [s].[OTHER_ALLOWANCES], [s].[TRANSPORT_ALLOWANCE], [s].[UPDATED_AT3], [s].[UPDATED_BY3], [s].[VERSION_NO3], [s0].[DOCUMENT_ID], [s0].[CONTENT_TYPE], [s0].[CREATED_AT], [s0].[CREATED_BY], [s0].[DOCUMENT_NUMBER], [s0].[DOCUMENT_TYPE_ID], [s0].[EMPLOYEE_ID], [s0].[EXPIRY_DATE], [s0].[FILE_NAME], [s0].[FILE_PATH], [s0].[FILE_SIZE], [s0].[IS_DELETED], [s0].[ISSUE_DATE], [s0].[UPDATED_AT], [s0].[UPDATED_BY], [s0].[VERSION_NO], [s0].[DOCUMENT_TYPE_ID0], [s0].[ALLOWED_EXTENSIONS], [s0].[CREATED_AT0], [s0].[CREATED_BY0], [s0].[DEFAULT_EXPIRY_DAYS], [s0].[DESCRIPTION], [s0].[DOCUMENT_TYPE_NAME_AR], [s0].[DOCUMENT_TYPE_NAME_EN], [s0].[HAS_EXPIRY], [s0].[IS_DELETED0], [s0].[IS_REQUIRED], [s0].[MAX_FILE_SIZE_MB], [s0].[UPDATED_AT0], [s0].[UPDATED_BY0], [s0].[VERSION_NO0], [e2].[QUALIFICATION_ID], [e2].[ATTACHMENT_PATH], [e2].[COUNTRY_ID], [e2].[CREATED_AT], [e2].[CREATED_BY], [e2].[DEGREE_TYPE], [e2].[EMPLOYEE_ID], [e2].[GRADE], [e2].[GRADUATION_YEAR], [e2].[IS_DELETED], [e2].[MAJOR_AR], [e2].[UNIVERSITY_AR], [e2].[UPDATED_AT], [e2].[UPDATED_BY], [e2].[VERSION_NO], [e3].[EXPERIENCE_ID], [e3].[COMPANY_NAME_AR], [e3].[CREATED_AT], [e3].[CREATED_BY], [e3].[EMPLOYEE_ID], [e3].[END_DATE], [e3].[IS_CURRENT], [e3].[IS_DELETED], [e3].[JOB_TITLE_AR], [e3].[REASON_FOR_LEAVING], [e3].[RESPONSIBILITIES], [e3].[START_DATE], [e3].[UPDATED_AT], [e3].[UPDATED_BY], [e3].[VERSION_NO], [e4].[CONTACT_ID], [e4].[CONTACT_NAME_AR], [e4].[CREATED_AT], [e4].[CREATED_BY], [e4].[EMPLOYEE_ID], [e4].[IS_DELETED], [e4].[IS_PRIMARY], [e4].[PHONE_PRIMARY], [e4].[PHONE_SECONDARY], [e4].[RELATIONSHIP], [e4].[UPDATED_AT], [e4].[UPDATED_BY], [e4].[VERSION_NO], [c0].[CONTRACT_ID], [c0].[BASIC_SALARY], [c0].[CONTRACT_STATUS], [c0].[CONTRACT_TYPE], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[EMPLOYEE_ID], [c0].[END_DATE], [c0].[HOUSING_ALLOWANCE], [c0].[IS_DELETED], [c0].[IS_RENEWABLE], [c0].[OTHER_ALLOWANCES], [c0].[START_DATE], [c0].[TRANSPORT_ALLOWANCE], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VACATION_DAYS], [c0].[VERSION_NO], [c0].[WORKING_HOURS_DAILY], [e5].[CERT_ID], [e5].[ATTACHMENT_PATH], [e5].[CERT_NAME_AR], [e5].[CERT_NUMBER], [e5].[CREATED_AT], [e5].[CREATED_BY], [e5].[EMPLOYEE_ID], [e5].[EXPIRY_DATE], [e5].[IS_DELETED], [e5].[IS_MANDATORY], [e5].[ISSUE_DATE], [e5].[ISSUING_AUTHORITY], [e5].[UPDATED_AT], [e5].[UPDATED_BY], [e5].[VERSION_NO], [e6].[ACCOUNT_ID], [e6].[ACCOUNT_NUMBER], [e6].[BANK_ID], [e6].[CREATED_AT], [e6].[CREATED_BY], [e6].[EMPLOYEE_ID], [e6].[IBAN], [e6].[IS_ACTIVE], [e6].[IS_DELETED], [e6].[IS_PRIMARY], [e6].[UPDATED_AT], [e6].[UPDATED_BY], [e6].[VERSION_NO], [d1].[DEPENDENT_ID], [d1].[BIRTH_DATE], [d1].[CREATED_AT], [d1].[CREATED_BY], [d1].[EMPLOYEE_ID], [d1].[IS_DELETED], [d1].[IS_ELIGIBLE_FOR_INSURANCE], [d1].[IS_ELIGIBLE_FOR_TICKET], [d1].[NAME_AR], [d1].[NATIONAL_ID], [d1].[RELATIONSHIP], [d1].[UPDATED_AT], [d1].[UPDATED_BY], [d1].[VERSION_NO], [e7].[ADDRESS_ID], [e7].[ADDRESS_TYPE], [e7].[BUILDING_NO], [e7].[CITY_ID], [e7].[CREATED_AT], [e7].[CREATED_BY], [e7].[DISTRICT], [e7].[EMPLOYEE_ID], [e7].[IS_DELETED], [e7].[POSTAL_CODE], [e7].[STREET], [e7].[UPDATED_AT], [e7].[UPDATED_BY], [e7].[VERSION_NO]
FROM (
    SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT] AS [CREATED_AT0], [d].[CREATED_BY] AS [CREATED_BY0], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED] AS [IS_DELETED0], [d].[MANAGER_ID] AS [MANAGER_ID0], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT] AS [UPDATED_AT0], [d].[UPDATED_BY] AS [UPDATED_BY0], [d].[VERSION_NO] AS [VERSION_NO0], [j].[JOB_ID] AS [JOB_ID0], [j].[CREATED_AT] AS [CREATED_AT1], [j].[CREATED_BY] AS [CREATED_BY1], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED] AS [IS_DELETED1], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT] AS [UPDATED_AT1], [j].[UPDATED_BY] AS [UPDATED_BY1], [j].[VERSION_NO] AS [VERSION_NO1], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[CITIZENSHIP_NAME_EN], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT] AS [CREATED_AT2], [c].[CREATED_BY] AS [CREATED_BY2], [c].[IS_DELETED] AS [IS_DELETED2], [c].[ISO_CODE], [c].[UPDATED_AT] AS [UPDATED_AT2], [c].[UPDATED_BY] AS [UPDATED_BY2], [c].[VERSION_NO] AS [VERSION_NO2], [e0].[COMPENSATION_ID], [e0].[BANK_ID], [e0].[BASIC_SALARY], [e0].[CREATED_AT] AS [CREATED_AT3], [e0].[CREATED_BY] AS [CREATED_BY3], [e0].[EMPLOYEE_ID] AS [EMPLOYEE_ID0], [e0].[HOUSING_ALLOWANCE], [e0].[IBAN_NUMBER], [e0].[IS_DELETED] AS [IS_DELETED3], [e0].[MEDICAL_ALLOWANCE], [e0].[OTHER_ALLOWANCES], [e0].[TRANSPORT_ALLOWANCE], [e0].[UPDATED_AT] AS [UPDATED_AT3], [e0].[UPDATED_BY] AS [UPDATED_BY3], [e0].[VERSION_NO] AS [VERSION_NO3]
    FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
    INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPARTMENT_ID] = [d].[DEPT_ID]
    INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
    LEFT JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
    LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_COMPENSATIONS] AS [e0] ON [e].[EMPLOYEE_ID] = [e0].[EMPLOYEE_ID]
    WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
) AS [s]
LEFT JOIN (
    SELECT [e1].[DOCUMENT_ID], [e1].[CONTENT_TYPE], [e1].[CREATED_AT], [e1].[CREATED_BY], [e1].[DOCUMENT_NUMBER], [e1].[DOCUMENT_TYPE_ID], [e1].[EMPLOYEE_ID], [e1].[EXPIRY_DATE], [e1].[FILE_NAME], [e1].[FILE_PATH], [e1].[FILE_SIZE], [e1].[IS_DELETED], [e1].[ISSUE_DATE], [e1].[UPDATED_AT], [e1].[UPDATED_BY], [e1].[VERSION_NO], [d0].[DOCUMENT_TYPE_ID] AS [DOCUMENT_TYPE_ID0], [d0].[ALLOWED_EXTENSIONS], [d0].[CREATED_AT] AS [CREATED_AT0], [d0].[CREATED_BY] AS [CREATED_BY0], [d0].[DEFAULT_EXPIRY_DAYS], [d0].[DESCRIPTION], [d0].[DOCUMENT_TYPE_NAME_AR], [d0].[DOCUMENT_TYPE_NAME_EN], [d0].[HAS_EXPIRY], [d0].[IS_DELETED] AS [IS_DELETED0], [d0].[IS_REQUIRED], [d0].[MAX_FILE_SIZE_MB], [d0].[UPDATED_AT] AS [UPDATED_AT0], [d0].[UPDATED_BY] AS [UPDATED_BY0], [d0].[VERSION_NO] AS [VERSION_NO0]
    FROM [HR_PERSONNEL].[EMPLOYEE_DOCUMENTS] AS [e1]
    INNER JOIN [HR_CORE].[DOCUMENT_TYPES] AS [d0] ON [e1].[DOCUMENT_TYPE_ID] = [d0].[DOCUMENT_TYPE_ID]
) AS [s0] ON [s].[EMPLOYEE_ID] = [s0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_QUALIFICATIONS] AS [e2] ON [s].[EMPLOYEE_ID] = [e2].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_EXPERIENCES] AS [e3] ON [s].[EMPLOYEE_ID] = [e3].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMERGENCY_CONTACTS] AS [e4] ON [s].[EMPLOYEE_ID] = [e4].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[CONTRACTS] AS [c0] ON [s].[EMPLOYEE_ID] = [c0].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_CERTIFICATIONS] AS [e5] ON [s].[EMPLOYEE_ID] = [e5].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_BANK_ACCOUNTS] AS [e6] ON [s].[EMPLOYEE_ID] = [e6].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[DEPENDENTS] AS [d1] ON [s].[EMPLOYEE_ID] = [d1].[EMPLOYEE_ID]
LEFT JOIN [HR_PERSONNEL].[EMPLOYEE_ADDRESSES] AS [e7] ON [s].[EMPLOYEE_ID] = [e7].[EMPLOYEE_ID]
ORDER BY [s].[EMPLOYEE_ID], [s].[DEPT_ID], [s].[JOB_ID0], [s].[COUNTRY_ID], [s].[COMPENSATION_ID], [s0].[DOCUMENT_ID], [s0].[DOCUMENT_TYPE_ID0], [e2].[QUALIFICATION_ID], [e3].[EXPERIENCE_ID], [e4].[CONTACT_ID], [c0].[CONTRACT_ID], [e5].[CERT_ID], [e6].[ACCOUNT_ID], [d1].[DEPENDENT_ID]
2026-01-27 00:16:31.343 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.Features.Personnel.Employees.DTOs.DetailedEmployeeProfileDto'.
2026-01-27 00:16:31.403 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API) in 1090.2053ms
2026-01-27 00:16:31.421 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeeDetailsController.GetFullProfile (HRMS.API)'
2026-01-27 00:16:31.423 +03:00 [INF] HTTP GET /api/employees/23/full-profile responded 200 in 1121.4553 ms
2026-01-27 00:16:31.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/employees/23/full-profile - 200 null application/json; charset=utf-8 1129.6951ms
2026-01-27 01:05:03.120 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 01:05:05.502 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-27 01:06:02.326 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 01:06:02.802 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-27 01:17:21.246 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 01:17:25.042 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 01:17:25.208 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 01:17:26.211 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 01:17:26.213 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 01:17:26.358 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 01:17:26.368 +03:00 [INF] Hosting environment: Development
2026-01-27 01:17:26.369 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 01:17:27.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 01:17:31.465 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3493.6579 ms
2026-01-27 01:17:31.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 3825.772ms
2026-01-27 01:17:32.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 01:17:32.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 01:17:32.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 14.16ms
2026-01-27 01:17:32.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.8205ms
2026-01-27 01:17:33.750 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 01:17:34.772 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 365.9833 ms
2026-01-27 01:17:34.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1026.0739ms
2026-01-27 01:24:36.708 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - application/json 163
2026-01-27 01:24:36.739 +03:00 [INF] CORS policy execution successful.
2026-01-27 01:24:36.902 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-01-27 01:24:36.913 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-27 01:24:36.914 +03:00 [INF] HTTP POST /api/LeaveConfiguration/leave-types responded 401 in 183.7221 ms
2026-01-27 01:24:36.918 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - 401 0 null 209.7163ms
2026-01-27 01:26:26.401 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 01:26:26.425 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.5112 ms
2026-01-27 01:26:26.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 27.6346ms
2026-01-27 01:26:26.486 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 01:26:26.486 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 01:26:26.708 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 221.7436ms
2026-01-27 01:26:26.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 240.1472ms
2026-01-27 01:26:29.558 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 01:26:29.831 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 261.9309 ms
2026-01-27 01:26:29.835 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 278.2661ms
2026-01-27 01:27:02.327 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - application/json 163
2026-01-27 01:27:02.349 +03:00 [INF] CORS policy execution successful.
2026-01-27 01:27:02.412 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API)'
2026-01-27 01:27:02.457 +03:00 [INF] Route matched with {action = "CreateLeaveType", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveType(HRMS.Application.Features.Leaves.LeaveTypes.Commands.CreateLeaveType.CreateLeaveTypeCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:27:06.431 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 01:27:06.443 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 01:27:06.447 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 01:27:08.721 +03:00 [INF] Executed DbCommand (411ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (DbType = Boolean), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 100), @p8='?' (Size = 100), @p9='?' (DbType = Int16), @p10='?' (Size = 1) (DbType = Byte), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[LEAVE_TYPES] ([CREATED_AT], [CREATED_BY], [DEFAULT_DAYS], [IS_CARRY_FORWARD], [IS_DEDUCTIBLE], [IS_DELETED], [IS_PAID], [LEAVE_NAME_AR], [LEAVE_NAME_EN], [MAX_DAYS_PER_YEAR], [REQUIRES_ATTACHMENT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[LEAVE_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-27 01:27:08.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 01:27:08.881 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API) in 6412.2703ms
2026-01-27 01:27:08.890 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API)'
2026-01-27 01:27:08.892 +03:00 [INF] HTTP POST /api/LeaveConfiguration/leave-types responded 200 in 6543.4589 ms
2026-01-27 01:27:08.930 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 6603.5002ms
2026-01-27 01:27:35.766 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - application/json 179
2026-01-27 01:27:35.844 +03:00 [INF] CORS policy execution successful.
2026-01-27 01:27:35.846 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 01:27:35.856 +03:00 [INF] Route matched with {action = "CreatePublicHoliday", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreatePublicHoliday(HRMS.Application.Features.Leaves.PublicHolidays.Commands.CreatePublicHoliday.CreatePublicHolidayCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:27:35.889 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 01:27:35.913 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API) in 53.0584ms
2026-01-27 01:27:35.919 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 01:27:35.922 +03:00 [INF] HTTP POST /api/LeaveConfiguration/public-holidays responded 400 in 77.9954 ms
2026-01-27 01:27:35.928 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - 400 null application/problem+json; charset=utf-8 238.682ms
2026-01-27 01:27:50.673 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - application/json 179
2026-01-27 01:27:50.677 +03:00 [INF] CORS policy execution successful.
2026-01-27 01:27:50.679 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API)'
2026-01-27 01:27:50.681 +03:00 [INF] Route matched with {action = "CreateLeaveType", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveType(HRMS.Application.Features.Leaves.LeaveTypes.Commands.CreateLeaveType.CreateLeaveTypeCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:27:50.855 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (DbType = Boolean), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 100), @p8='?' (Size = 100), @p9='?' (DbType = Int16), @p10='?' (Size = 1) (DbType = Byte), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[LEAVE_TYPES] ([CREATED_AT], [CREATED_BY], [DEFAULT_DAYS], [IS_CARRY_FORWARD], [IS_DEDUCTIBLE], [IS_DELETED], [IS_PAID], [LEAVE_NAME_AR], [LEAVE_NAME_EN], [MAX_DAYS_PER_YEAR], [REQUIRES_ATTACHMENT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[LEAVE_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-27 01:27:50.864 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 01:27:50.867 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API) in 181.6866ms
2026-01-27 01:27:50.870 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API)'
2026-01-27 01:27:50.873 +03:00 [INF] HTTP POST /api/LeaveConfiguration/leave-types responded 200 in 195.3645 ms
2026-01-27 01:27:50.876 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 203.1928ms
2026-01-27 01:28:09.283 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - application/json 212
2026-01-27 01:28:09.297 +03:00 [INF] CORS policy execution successful.
2026-01-27 01:28:09.443 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 01:28:09.446 +03:00 [INF] Route matched with {action = "CreatePublicHoliday", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreatePublicHoliday(HRMS.Application.Features.Leaves.PublicHolidays.Commands.CreatePublicHoliday.CreatePublicHolidayCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:28:09.557 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[PUBLIC_HOLIDAYS] ([CREATED_AT], [CREATED_BY], [END_DATE], [HOLIDAY_NAME_AR], [IS_DELETED], [START_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR])
OUTPUT INSERTED.[HOLIDAY_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-27 01:28:09.567 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 01:28:09.570 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API) in 120.0541ms
2026-01-27 01:28:09.573 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 01:28:09.575 +03:00 [INF] HTTP POST /api/LeaveConfiguration/public-holidays responded 200 in 278.2672 ms
2026-01-27 01:28:09.578 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - 200 null application/json; charset=utf-8 296.4786ms
2026-01-27 01:28:25.135 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - application/json 203
2026-01-27 01:28:25.142 +03:00 [INF] CORS policy execution successful.
2026-01-27 01:28:25.143 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 01:28:25.146 +03:00 [INF] Route matched with {action = "CreatePublicHoliday", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreatePublicHoliday(HRMS.Application.Features.Leaves.PublicHolidays.Commands.CreatePublicHoliday.CreatePublicHolidayCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:28:25.185 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[PUBLIC_HOLIDAYS] ([CREATED_AT], [CREATED_BY], [END_DATE], [HOLIDAY_NAME_AR], [IS_DELETED], [START_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR])
OUTPUT INSERTED.[HOLIDAY_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-27 01:28:25.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 01:28:25.198 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API) in 48.9322ms
2026-01-27 01:28:25.201 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 01:28:25.205 +03:00 [INF] HTTP POST /api/LeaveConfiguration/public-holidays responded 200 in 63.8073 ms
2026-01-27 01:28:25.217 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - 200 null application/json; charset=utf-8 82.5182ms
2026-01-27 01:32:49.123 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - application/json 8
2026-01-27 01:32:49.129 +03:00 [INF] CORS policy execution successful.
2026-01-27 01:32:49.131 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 01:32:49.140 +03:00 [INF] Route matched with {action = "InitializeYearlyBalances", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] InitializeYearlyBalances(Int16) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:32:49.160 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 01:32:49.162 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API) in 19.1645ms
2026-01-27 01:32:49.165 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 01:32:49.166 +03:00 [INF] HTTP POST /api/LeaveConfiguration/initialize-balances responded 400 in 37.3079 ms
2026-01-27 01:32:49.169 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - 400 null application/problem+json; charset=utf-8 82.0051ms
2026-01-27 01:38:16.766 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 01:38:17.214 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-27 01:38:57.472 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 01:38:57.823 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-27 01:39:20.422 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 01:39:23.023 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 01:39:23.129 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 01:39:23.775 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 01:39:23.777 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 01:39:23.917 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 01:39:23.925 +03:00 [INF] Hosting environment: Development
2026-01-27 01:39:23.971 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 01:39:24.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 01:39:26.775 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 361.3687 ms
2026-01-27 01:39:26.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 01:39:27.421 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2545.6412ms
2026-01-27 01:39:27.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 574.0146ms
2026-01-27 01:39:27.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 01:39:27.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 173.5567ms
2026-01-27 01:39:29.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 01:39:29.755 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 537.2796 ms
2026-01-27 01:39:29.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 662.7755ms
2026-01-27 01:48:31.057 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 01:48:34.530 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 01:48:34.599 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 01:48:35.168 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 01:48:35.201 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 01:48:35.396 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 01:48:35.405 +03:00 [INF] Hosting environment: Development
2026-01-27 01:48:35.420 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 01:48:36.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 01:48:36.837 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 298.0031 ms
2026-01-27 01:48:36.875 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 01:48:36.896 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 643.623ms
2026-01-27 01:48:36.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 36.4977ms
2026-01-27 01:48:37.633 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 01:48:37.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.0703ms
2026-01-27 01:48:39.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 01:48:40.256 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 350.7932 ms
2026-01-27 01:48:40.262 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1000.1998ms
2026-01-27 01:49:11.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/settings - null null
2026-01-27 01:49:11.080 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetSystemSettings (HRMS.API)'
2026-01-27 01:49:11.121 +03:00 [INF] Route matched with {action = "GetSystemSettings", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Core.SystemSettingDto]]]] GetSystemSettings() on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:49:14.251 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 01:49:14.254 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 01:49:14.257 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 01:49:15.954 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-27 01:49:16.040 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Core.SystemSettingDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 01:49:16.066 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetSystemSettings (HRMS.API) in 4934.67ms
2026-01-27 01:49:16.070 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetSystemSettings (HRMS.API)'
2026-01-27 01:49:16.072 +03:00 [INF] HTTP GET /api/LeaveConfiguration/settings responded 200 in 5026.0838 ms
2026-01-27 01:49:16.094 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/settings - 200 null application/json; charset=utf-8 5057.0808ms
2026-01-27 01:49:30.912 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/public-holidays?year=2026 - null null
2026-01-27 01:49:30.923 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllPublicHolidays (HRMS.API)'
2026-01-27 01:49:30.952 +03:00 [INF] Route matched with {action = "GetAllPublicHolidays", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.PublicHolidayDto]]]] GetAllPublicHolidays(System.Nullable`1[System.Int16]) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:49:31.169 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__targetYear_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[HOLIDAY_ID], [p].[CREATED_AT], [p].[CREATED_BY], [p].[END_DATE], [p].[HOLIDAY_NAME_AR], [p].[IS_DELETED], [p].[START_DATE], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO], [p].[YEAR]
FROM [HR_LEAVES].[PUBLIC_HOLIDAYS] AS [p]
WHERE [p].[YEAR] = @__targetYear_0
ORDER BY [p].[START_DATE]
2026-01-27 01:49:31.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.PublicHolidayDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 01:49:31.230 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllPublicHolidays (HRMS.API) in 273.0831ms
2026-01-27 01:49:31.234 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllPublicHolidays (HRMS.API)'
2026-01-27 01:49:31.236 +03:00 [INF] HTTP GET /api/LeaveConfiguration/public-holidays responded 200 in 314.4617 ms
2026-01-27 01:49:31.240 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/public-holidays?year=2026 - 200 null application/json; charset=utf-8 328.5324ms
2026-01-27 01:50:08.721 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/leave-types - null null
2026-01-27 01:50:08.776 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-01-27 01:50:08.783 +03:00 [INF] Route matched with {action = "GetAllLeaveTypes", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveTypeDto]]]] GetAllLeaveTypes() on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 01:50:08.936 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
2026-01-27 01:50:08.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 01:50:08.980 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API) in 193.0786ms
2026-01-27 01:50:08.984 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetAllLeaveTypes (HRMS.API)'
2026-01-27 01:50:08.990 +03:00 [INF] HTTP GET /api/LeaveConfiguration/leave-types responded 200 in 214.4982 ms
2026-01-27 01:50:08.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 273.2343ms
2026-01-27 01:59:16.330 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - application/json 3
2026-01-27 01:59:16.340 +03:00 [INF] CORS policy execution successful.
2026-01-27 01:59:16.343 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 01:59:16.352 +03:00 [INF] Route matched with {action = "InitializeYearlyBalances", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] InitializeYearlyBalances(Int16) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:00:08.217 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API) in 51862.1489ms
2026-01-27 02:00:08.230 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:00:08.274 +03:00 [ERR] Global Exception Caught: The LINQ expression 'DbSet<Employee>()
    .Where(e => e.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'Employee' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
System.InvalidOperationException: The LINQ expression 'DbSet<Employee>()
    .Where(e => e.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'Employee' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Leaves.LeaveBalances.Commands.InitializeYearlyBalance.InitializeYearlyBalanceCommandHandler.Handle(InitializeYearlyBalanceCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Leaves\LeaveBalances\Commands\InitializeYearlyBalance\InitializeYearlyBalanceCommand.cs:line 37
   at HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances(Int16 year) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Leaves\LeaveConfigurationController.cs:line 146
   at lambda_method136(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 02:00:08.359 +03:00 [ERR] HTTP POST /api/LeaveConfiguration/initialize-balances responded 500 in 52024.2239 ms
2026-01-27 02:00:08.362 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - 500 null application/json 52031.8736ms
2026-01-27 02:01:38.271 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - application/json 140
2026-01-27 02:01:38.276 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:01:38.278 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API)'
2026-01-27 02:01:38.286 +03:00 [INF] Route matched with {action = "CreateLeaveType", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveType(HRMS.Application.Features.Leaves.LeaveTypes.Commands.CreateLeaveType.CreateLeaveTypeCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:01:38.988 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (DbType = Boolean), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 100), @p8='?' (Size = 100), @p9='?' (DbType = Int16), @p10='?' (Size = 1) (DbType = Byte), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[LEAVE_TYPES] ([CREATED_AT], [CREATED_BY], [DEFAULT_DAYS], [IS_CARRY_FORWARD], [IS_DEDUCTIBLE], [IS_DELETED], [IS_PAID], [LEAVE_NAME_AR], [LEAVE_NAME_EN], [MAX_DAYS_PER_YEAR], [REQUIRES_ATTACHMENT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[LEAVE_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-27 02:01:39.045 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:01:39.050 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API) in 559.6696ms
2026-01-27 02:01:39.059 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API)'
2026-01-27 02:01:39.061 +03:00 [INF] HTTP POST /api/LeaveConfiguration/leave-types responded 200 in 784.9339 ms
2026-01-27 02:01:39.064 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 792.508ms
2026-01-27 02:01:51.819 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - application/json 149
2026-01-27 02:01:51.826 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:01:51.829 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API)'
2026-01-27 02:01:51.833 +03:00 [INF] Route matched with {action = "CreateLeaveType", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveType(HRMS.Application.Features.Leaves.LeaveTypes.Commands.CreateLeaveType.CreateLeaveTypeCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:01:51.867 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (DbType = Boolean), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 100), @p8='?' (Size = 100), @p9='?' (DbType = Int16), @p10='?' (Size = 1) (DbType = Byte), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[LEAVE_TYPES] ([CREATED_AT], [CREATED_BY], [DEFAULT_DAYS], [IS_CARRY_FORWARD], [IS_DEDUCTIBLE], [IS_DELETED], [IS_PAID], [LEAVE_NAME_AR], [LEAVE_NAME_EN], [MAX_DAYS_PER_YEAR], [REQUIRES_ATTACHMENT], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[LEAVE_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-27 02:01:51.878 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:01:51.880 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API) in 43.4919ms
2026-01-27 02:01:51.882 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreateLeaveType (HRMS.API)'
2026-01-27 02:01:51.883 +03:00 [INF] HTTP POST /api/LeaveConfiguration/leave-types responded 200 in 57.0910 ms
2026-01-27 02:01:51.885 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/leave-types - 200 null application/json; charset=utf-8 66.1203ms
2026-01-27 02:02:15.645 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - application/json 184
2026-01-27 02:02:15.649 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:02:15.651 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 02:02:15.659 +03:00 [INF] Route matched with {action = "CreatePublicHoliday", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreatePublicHoliday(HRMS.Application.Features.Leaves.PublicHolidays.Commands.CreatePublicHoliday.CreatePublicHolidayCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:02:15.875 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[PUBLIC_HOLIDAYS] ([CREATED_AT], [CREATED_BY], [END_DATE], [HOLIDAY_NAME_AR], [IS_DELETED], [START_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR])
OUTPUT INSERTED.[HOLIDAY_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-27 02:02:15.882 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:02:15.884 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API) in 82.6955ms
2026-01-27 02:02:15.894 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 02:02:15.895 +03:00 [INF] HTTP POST /api/LeaveConfiguration/public-holidays responded 200 in 246.0095 ms
2026-01-27 02:02:15.897 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - 200 null application/json; charset=utf-8 252.9115ms
2026-01-27 02:02:27.919 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - application/json 170
2026-01-27 02:02:27.964 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:02:27.966 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 02:02:27.967 +03:00 [INF] Route matched with {action = "CreatePublicHoliday", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreatePublicHoliday(HRMS.Application.Features.Leaves.PublicHolidays.Commands.CreatePublicHoliday.CreatePublicHolidayCommand) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:02:27.975 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[PUBLIC_HOLIDAYS] ([CREATED_AT], [CREATED_BY], [END_DATE], [HOLIDAY_NAME_AR], [IS_DELETED], [START_DATE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR])
OUTPUT INSERTED.[HOLIDAY_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-27 02:02:27.980 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:02:27.983 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API) in 12.7122ms
2026-01-27 02:02:27.985 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.CreatePublicHoliday (HRMS.API)'
2026-01-27 02:02:27.986 +03:00 [INF] HTTP POST /api/LeaveConfiguration/public-holidays responded 200 in 22.5916 ms
2026-01-27 02:02:27.989 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/public-holidays - 200 null application/json; charset=utf-8 69.3828ms
2026-01-27 02:02:37.120 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - application/json 3
2026-01-27 02:02:37.124 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:02:37.125 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:02:37.129 +03:00 [INF] Route matched with {action = "InitializeYearlyBalances", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] InitializeYearlyBalances(Int16) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:02:39.872 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API) in 2736.677ms
2026-01-27 02:02:39.878 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:02:39.917 +03:00 [ERR] Global Exception Caught: The LINQ expression 'DbSet<Employee>()
    .Where(e => e.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'Employee' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
System.InvalidOperationException: The LINQ expression 'DbSet<Employee>()
    .Where(e => e.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'Employee' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HRMS.Application.Features.Leaves.LeaveBalances.Commands.InitializeYearlyBalance.InitializeYearlyBalanceCommandHandler.Handle(InitializeYearlyBalanceCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Leaves\LeaveBalances\Commands\InitializeYearlyBalance\InitializeYearlyBalanceCommand.cs:line 37
   at HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances(Int16 year) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Leaves\LeaveConfigurationController.cs:line 146
   at lambda_method136(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 02:02:39.945 +03:00 [ERR] HTTP POST /api/LeaveConfiguration/initialize-balances responded 500 in 2821.5007 ms
2026-01-27 02:02:39.947 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - 500 null application/json 2827.1629ms
2026-01-27 02:03:28.266 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/LeaveConfiguration/settings - application/json 638
2026-01-27 02:03:28.376 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:03:28.378 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API)'
2026-01-27 02:03:28.410 +03:00 [INF] Route matched with {action = "UpdateSystemSetting", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] UpdateSystemSetting(System.Collections.Generic.List`1[HRMS.Application.DTOs.Core.SystemSettingDto]) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:03:28.449 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:03:40.998 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API) in 12583.6872ms
2026-01-27 02:03:41.036 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API)'
2026-01-27 02:03:41.423 +03:00 [ERR] Global Exception Caught: Setting Key 'MAX_CARRYOVER_DAYS' not found.
HRMS.Application.Exceptions.NotFoundException: Setting Key 'MAX_CARRYOVER_DAYS' not found.
   at HRMS.Application.Features.Core.SystemSettings.Commands.UpdateSetting.UpdateSettingCommandHandler.Handle(UpdateSettingCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\SystemSettings\Commands\UpdateSetting\UpdateSettingCommand.cs:line 45
   at HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting(List`1 settings) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Leaves\LeaveConfigurationController.cs:line 103
   at lambda_method454(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 02:03:41.441 +03:00 [INF] HTTP PUT /api/LeaveConfiguration/settings responded 404 in 13064.7850 ms
2026-01-27 02:03:41.444 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/LeaveConfiguration/settings - 404 null application/json 13177.9748ms
2026-01-27 02:05:11.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/settings - null null
2026-01-27 02:05:11.969 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetSystemSettings (HRMS.API)'
2026-01-27 02:05:11.971 +03:00 [INF] Route matched with {action = "GetSystemSettings", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Core.SystemSettingDto]]]] GetSystemSettings() on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:05:12.001 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-27 02:05:12.007 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Collections.Generic.List`1[[HRMS.Application.DTOs.Core.SystemSettingDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:05:12.010 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetSystemSettings (HRMS.API) in 35.0553ms
2026-01-27 02:05:12.013 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.GetSystemSettings (HRMS.API)'
2026-01-27 02:05:12.015 +03:00 [INF] HTTP GET /api/LeaveConfiguration/settings responded 200 in 45.3736 ms
2026-01-27 02:05:12.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/LeaveConfiguration/settings - 200 null application/json; charset=utf-8 54.9129ms
2026-01-27 02:05:37.868 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/LeaveConfiguration/settings - application/json 638
2026-01-27 02:05:37.912 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:05:37.913 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API)'
2026-01-27 02:05:37.915 +03:00 [INF] Route matched with {action = "UpdateSystemSetting", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] UpdateSystemSetting(System.Collections.Generic.List`1[HRMS.Application.DTOs.Core.SystemSettingDto]) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:05:37.932 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:05:37.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:05:37.991 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:05:41.206 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API) in 3287.8724ms
2026-01-27 02:05:41.215 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API)'
2026-01-27 02:05:41.578 +03:00 [ERR] Global Exception Caught: Setting Key 'HOSPITAL_POLICY_URL' not found.
HRMS.Application.Exceptions.NotFoundException: Setting Key 'HOSPITAL_POLICY_URL' not found.
   at HRMS.Application.Features.Core.SystemSettings.Commands.UpdateSetting.UpdateSettingCommandHandler.Handle(UpdateSettingCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\SystemSettings\Commands\UpdateSetting\UpdateSettingCommand.cs:line 45
   at HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting(List`1 settings) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Leaves\LeaveConfigurationController.cs:line 103
   at lambda_method454(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 02:05:41.644 +03:00 [INF] HTTP PUT /api/LeaveConfiguration/settings responded 404 in 3731.9088 ms
2026-01-27 02:05:41.646 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/LeaveConfiguration/settings - 404 null application/json 3778.437ms
2026-01-27 02:06:57.541 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/LeaveConfiguration/settings - application/json 638
2026-01-27 02:06:57.546 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:06:57.548 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API)'
2026-01-27 02:06:57.559 +03:00 [INF] Route matched with {action = "UpdateSystemSetting", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] UpdateSystemSetting(System.Collections.Generic.List`1[HRMS.Application.DTOs.Core.SystemSettingDto]) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:06:57.600 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:06:57.612 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:06:57.654 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:07:24.487 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API) in 26893.8649ms
2026-01-27 02:07:24.540 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API)'
2026-01-27 02:07:24.846 +03:00 [ERR] Global Exception Caught: Setting Key 'HOSPITAL_POLICY_URL' not found.
HRMS.Application.Exceptions.NotFoundException: Setting Key 'HOSPITAL_POLICY_URL' not found.
   at HRMS.Application.Features.Core.SystemSettings.Commands.UpdateSetting.UpdateSettingCommandHandler.Handle(UpdateSettingCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\SystemSettings\Commands\UpdateSetting\UpdateSettingCommand.cs:line 45
   at HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting(List`1 settings) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Leaves\LeaveConfigurationController.cs:line 103
   at lambda_method454(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 02:07:24.862 +03:00 [INF] HTTP PUT /api/LeaveConfiguration/settings responded 404 in 27315.9088 ms
2026-01-27 02:07:24.864 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/LeaveConfiguration/settings - 404 null application/json 27323.4698ms
2026-01-27 02:07:28.294 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/LeaveConfiguration/settings - application/json 413
2026-01-27 02:07:28.299 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:07:28.302 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API)'
2026-01-27 02:07:28.306 +03:00 [INF] Route matched with {action = "UpdateSystemSetting", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] UpdateSystemSetting(System.Collections.Generic.List`1[HRMS.Application.DTOs.Core.SystemSettingDto]) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:07:28.532 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:07:28.539 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_SettingKey_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SETTING_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[DESCRIPTION_AR], [s].[IS_DELETED], [s].[IS_EDITABLE], [s].[SETTING_KEY], [s].[SETTING_TYPE], [s].[SETTING_VALUE], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_CORE].[SYSTEM_SETTINGS] AS [s]
WHERE [s].[SETTING_KEY] = @__request_SettingKey_0
2026-01-27 02:07:28.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:07:28.550 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API) in 22.0495ms
2026-01-27 02:07:28.554 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.UpdateSystemSetting (HRMS.API)'
2026-01-27 02:07:28.556 +03:00 [INF] HTTP PUT /api/LeaveConfiguration/settings responded 200 in 257.3591 ms
2026-01-27 02:07:28.559 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/LeaveConfiguration/settings - 200 null application/json; charset=utf-8 265.3013ms
2026-01-27 02:07:44.207 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - application/json 3
2026-01-27 02:07:44.503 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:07:44.505 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:07:44.508 +03:00 [INF] Route matched with {action = "InitializeYearlyBalances", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] InitializeYearlyBalances(Int16) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:21:25.516 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 02:21:28.125 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 02:21:28.675 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 02:21:29.420 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 02:21:29.454 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 02:21:29.699 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 02:21:30.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 02:21:30.462 +03:00 [INF] Hosting environment: Development
2026-01-27 02:21:30.499 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 02:21:32.255 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 638.3900 ms
2026-01-27 02:21:32.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 02:21:33.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 02:21:33.148 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2730.4922ms
2026-01-27 02:21:33.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 863.2754ms
2026-01-27 02:21:33.482 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 389.0549ms
2026-01-27 02:21:34.824 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 02:21:36.251 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 537.3174 ms
2026-01-27 02:21:36.279 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1455.8657ms
2026-01-27 02:21:51.056 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - application/json 5
2026-01-27 02:21:51.207 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:21:51.330 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:21:51.411 +03:00 [INF] Route matched with {action = "InitializeYearlyBalances", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] InitializeYearlyBalances(Int16) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:21:55.383 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 02:21:55.387 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 02:21:55.389 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 02:21:57.987 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-27 02:21:58.249 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[IS_DEDUCTIBLE] = CAST(1 AS bit)
2026-01-27 02:21:58.596 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.772 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.786 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.798 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.805 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.814 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.823 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.835 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.848 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.881 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.891 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.900 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:58.912 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:21:59.242 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Int16), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 1) (DbType = Byte), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = Int16), @p20='?' (DbType = DateTime2), @p21='?' (Size = 50), @p22='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (Size = 1) (DbType = Byte), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (Size = 50), @p28='?' (DbType = Int32), @p29='?' (DbType = Int16), @p30='?' (DbType = DateTime2), @p31='?' (Size = 50), @p32='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p33='?' (DbType = Int32), @p34='?' (Size = 1) (DbType = Byte), @p35='?' (DbType = Int32), @p36='?' (DbType = DateTime2), @p37='?' (Size = 50), @p38='?' (DbType = Int32), @p39='?' (DbType = Int16), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (Size = 1) (DbType = Byte), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 50), @p48='?' (DbType = Int32), @p49='?' (DbType = Int16), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (Size = 1) (DbType = Byte), @p55='?' (DbType = Int32), @p56='?' (DbType = DateTime2), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (DbType = Int16), @p60='?' (DbType = DateTime2), @p61='?' (Size = 50), @p62='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p63='?' (DbType = Int32), @p64='?' (Size = 1) (DbType = Byte), @p65='?' (DbType = Int32), @p66='?' (DbType = DateTime2), @p67='?' (Size = 50), @p68='?' (DbType = Int32), @p69='?' (DbType = Int16), @p70='?' (DbType = DateTime2), @p71='?' (Size = 50), @p72='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p73='?' (DbType = Int32), @p74='?' (Size = 1) (DbType = Byte), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int32), @p79='?' (DbType = Int16), @p80='?' (DbType = DateTime2), @p81='?' (Size = 50), @p82='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (Size = 1) (DbType = Byte), @p85='?' (DbType = Int32), @p86='?' (DbType = DateTime2), @p87='?' (Size = 50), @p88='?' (DbType = Int32), @p89='?' (DbType = Int16), @p90='?' (DbType = DateTime2), @p91='?' (Size = 50), @p92='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p93='?' (DbType = Int32), @p94='?' (Size = 1) (DbType = Byte), @p95='?' (DbType = Int32), @p96='?' (DbType = DateTime2), @p97='?' (Size = 50), @p98='?' (DbType = Int32), @p99='?' (DbType = Int16), @p100='?' (DbType = DateTime2), @p101='?' (Size = 50), @p102='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p103='?' (DbType = Int32), @p104='?' (Size = 1) (DbType = Byte), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 50), @p108='?' (DbType = Int32), @p109='?' (DbType = Int16), @p110='?' (DbType = DateTime2), @p111='?' (Size = 50), @p112='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (Size = 1) (DbType = Byte), @p115='?' (DbType = Int32), @p116='?' (DbType = DateTime2), @p117='?' (Size = 50), @p118='?' (DbType = Int32), @p119='?' (DbType = Int16), @p120='?' (DbType = DateTime2), @p121='?' (Size = 50), @p122='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p123='?' (DbType = Int32), @p124='?' (Size = 1) (DbType = Byte), @p125='?' (DbType = Int32), @p126='?' (DbType = DateTime2), @p127='?' (Size = 50), @p128='?' (DbType = Int32), @p129='?' (DbType = Int16), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p133='?' (DbType = Int32), @p134='?' (Size = 1) (DbType = Byte), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 50), @p138='?' (DbType = Int32), @p139='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, 0),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, 1),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 2),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 3),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, 4),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, 6),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 8),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, 9),
(@p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, 10),
(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, 11),
(@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 12),
(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 13)) AS i ([CREATED_AT], [CREATED_BY], [CURRENT_BALANCE], [EMPLOYEE_ID], [IS_DELETED], [LEAVE_TYPE_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CREATED_AT], [CREATED_BY], [CURRENT_BALANCE], [EMPLOYEE_ID], [IS_DELETED], [LEAVE_TYPE_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR])
VALUES (i.[CREATED_AT], i.[CREATED_BY], i.[CURRENT_BALANCE], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LEAVE_TYPE_ID], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO], i.[YEAR])
OUTPUT INSERTED.[BALANCE_ID], i._Position;
2026-01-27 02:21:59.302 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:21:59.342 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API) in 7751.1756ms
2026-01-27 02:21:59.345 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:21:59.347 +03:00 [INF] HTTP POST /api/LeaveConfiguration/initialize-balances responded 200 in 8146.3187 ms
2026-01-27 02:21:59.372 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - 200 null application/json; charset=utf-8 8315.6168ms
2026-01-27 02:27:57.151 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - application/json 8
2026-01-27 02:27:57.350 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:27:57.352 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:27:57.354 +03:00 [INF] Route matched with {action = "InitializeYearlyBalances", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] InitializeYearlyBalances(Int16) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:27:57.373 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 02:27:57.406 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API) in 47.3817ms
2026-01-27 02:27:57.409 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:27:57.410 +03:00 [INF] HTTP POST /api/LeaveConfiguration/initialize-balances responded 400 in 61.2531 ms
2026-01-27 02:27:57.413 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - 400 null application/problem+json; charset=utf-8 262.2731ms
2026-01-27 02:28:16.313 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - application/json 3
2026-01-27 02:28:16.326 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:28:16.328 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:28:16.361 +03:00 [INF] Route matched with {action = "InitializeYearlyBalances", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] InitializeYearlyBalances(Int16) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:28:16.449 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-27 02:28:16.456 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[IS_DEDUCTIBLE] = CAST(1 AS bit)
2026-01-27 02:28:16.474 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.481 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.490 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.504 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.514 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.521 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.532 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.544 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.560 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.567 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:28:16.600 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Int16), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 1) (DbType = Byte), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = Int16), @p20='?' (DbType = DateTime2), @p21='?' (Size = 50), @p22='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (Size = 1) (DbType = Byte), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (Size = 50), @p28='?' (DbType = Int32), @p29='?' (DbType = Int16), @p30='?' (DbType = DateTime2), @p31='?' (Size = 50), @p32='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p33='?' (DbType = Int32), @p34='?' (Size = 1) (DbType = Byte), @p35='?' (DbType = Int32), @p36='?' (DbType = DateTime2), @p37='?' (Size = 50), @p38='?' (DbType = Int32), @p39='?' (DbType = Int16), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (Size = 1) (DbType = Byte), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 50), @p48='?' (DbType = Int32), @p49='?' (DbType = Int16), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (Size = 1) (DbType = Byte), @p55='?' (DbType = Int32), @p56='?' (DbType = DateTime2), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (DbType = Int16), @p60='?' (DbType = DateTime2), @p61='?' (Size = 50), @p62='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p63='?' (DbType = Int32), @p64='?' (Size = 1) (DbType = Byte), @p65='?' (DbType = Int32), @p66='?' (DbType = DateTime2), @p67='?' (Size = 50), @p68='?' (DbType = Int32), @p69='?' (DbType = Int16), @p70='?' (DbType = DateTime2), @p71='?' (Size = 50), @p72='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p73='?' (DbType = Int32), @p74='?' (Size = 1) (DbType = Byte), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int32), @p79='?' (DbType = Int16), @p80='?' (DbType = DateTime2), @p81='?' (Size = 50), @p82='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (Size = 1) (DbType = Byte), @p85='?' (DbType = Int32), @p86='?' (DbType = DateTime2), @p87='?' (Size = 50), @p88='?' (DbType = Int32), @p89='?' (DbType = Int16), @p90='?' (DbType = DateTime2), @p91='?' (Size = 50), @p92='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p93='?' (DbType = Int32), @p94='?' (Size = 1) (DbType = Byte), @p95='?' (DbType = Int32), @p96='?' (DbType = DateTime2), @p97='?' (Size = 50), @p98='?' (DbType = Int32), @p99='?' (DbType = Int16), @p100='?' (DbType = DateTime2), @p101='?' (Size = 50), @p102='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p103='?' (DbType = Int32), @p104='?' (Size = 1) (DbType = Byte), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 50), @p108='?' (DbType = Int32), @p109='?' (DbType = Int16), @p110='?' (DbType = DateTime2), @p111='?' (Size = 50), @p112='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (Size = 1) (DbType = Byte), @p115='?' (DbType = Int32), @p116='?' (DbType = DateTime2), @p117='?' (Size = 50), @p118='?' (DbType = Int32), @p119='?' (DbType = Int16), @p120='?' (DbType = DateTime2), @p121='?' (Size = 50), @p122='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p123='?' (DbType = Int32), @p124='?' (Size = 1) (DbType = Byte), @p125='?' (DbType = Int32), @p126='?' (DbType = DateTime2), @p127='?' (Size = 50), @p128='?' (DbType = Int32), @p129='?' (DbType = Int16), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p133='?' (DbType = Int32), @p134='?' (Size = 1) (DbType = Byte), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 50), @p138='?' (DbType = Int32), @p139='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, 0),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, 1),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 2),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 3),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, 4),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, 6),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 8),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, 9),
(@p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, 10),
(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, 11),
(@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 12),
(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 13)) AS i ([CREATED_AT], [CREATED_BY], [CURRENT_BALANCE], [EMPLOYEE_ID], [IS_DELETED], [LEAVE_TYPE_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CREATED_AT], [CREATED_BY], [CURRENT_BALANCE], [EMPLOYEE_ID], [IS_DELETED], [LEAVE_TYPE_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR])
VALUES (i.[CREATED_AT], i.[CREATED_BY], i.[CURRENT_BALANCE], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LEAVE_TYPE_ID], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO], i.[YEAR])
OUTPUT INSERTED.[BALANCE_ID], i._Position;
2026-01-27 02:28:16.615 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:28:16.617 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API) in 250.218ms
2026-01-27 02:28:16.620 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:28:16.621 +03:00 [INF] HTTP POST /api/LeaveConfiguration/initialize-balances responded 200 in 295.5339 ms
2026-01-27 02:28:16.624 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - 200 null application/json; charset=utf-8 310.5976ms
2026-01-27 02:35:36.536 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 02:35:36.559 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 7.6710 ms
2026-01-27 02:35:36.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 02:35:36.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 02:35:36.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 111.5853ms
2026-01-27 02:35:36.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 26.1723ms
2026-01-27 02:35:36.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.1213ms
2026-01-27 02:35:38.731 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 02:35:39.753 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 539.6391 ms
2026-01-27 02:35:39.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1032.0856ms
2026-01-27 02:38:58.335 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - application/json 4
2026-01-27 02:38:58.344 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:38:58.346 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:38:58.355 +03:00 [INF] Route matched with {action = "InitializeYearlyBalances", controller = "LeaveConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] InitializeYearlyBalances(Int16) on controller HRMS.API.Controllers.Leaves.LeaveConfigurationController (HRMS.API).
2026-01-27 02:38:58.484 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-27 02:38:58.492 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[IS_DEDUCTIBLE] = CAST(1 AS bit)
2026-01-27 02:38:58.500 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.506 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.514 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.531 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.537 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.542 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.548 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.554 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.559 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.574 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.579 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_empId_0='?' (DbType = Int32), @__type_LeaveTypeId_1='?' (DbType = Int32), @__8__locals1_request_Year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__8__locals2_empId_0 AND [e].[LEAVE_TYPE_ID] = @__type_LeaveTypeId_1 AND [e].[YEAR] = @__8__locals1_request_Year_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 02:38:58.612 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Int16), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 1) (DbType = Byte), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = Int16), @p20='?' (DbType = DateTime2), @p21='?' (Size = 50), @p22='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (Size = 1) (DbType = Byte), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (Size = 50), @p28='?' (DbType = Int32), @p29='?' (DbType = Int16), @p30='?' (DbType = DateTime2), @p31='?' (Size = 50), @p32='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p33='?' (DbType = Int32), @p34='?' (Size = 1) (DbType = Byte), @p35='?' (DbType = Int32), @p36='?' (DbType = DateTime2), @p37='?' (Size = 50), @p38='?' (DbType = Int32), @p39='?' (DbType = Int16), @p40='?' (DbType = DateTime2), @p41='?' (Size = 50), @p42='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p43='?' (DbType = Int32), @p44='?' (Size = 1) (DbType = Byte), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime2), @p47='?' (Size = 50), @p48='?' (DbType = Int32), @p49='?' (DbType = Int16), @p50='?' (DbType = DateTime2), @p51='?' (Size = 50), @p52='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (Size = 1) (DbType = Byte), @p55='?' (DbType = Int32), @p56='?' (DbType = DateTime2), @p57='?' (Size = 50), @p58='?' (DbType = Int32), @p59='?' (DbType = Int16), @p60='?' (DbType = DateTime2), @p61='?' (Size = 50), @p62='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p63='?' (DbType = Int32), @p64='?' (Size = 1) (DbType = Byte), @p65='?' (DbType = Int32), @p66='?' (DbType = DateTime2), @p67='?' (Size = 50), @p68='?' (DbType = Int32), @p69='?' (DbType = Int16), @p70='?' (DbType = DateTime2), @p71='?' (Size = 50), @p72='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p73='?' (DbType = Int32), @p74='?' (Size = 1) (DbType = Byte), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (Size = 50), @p78='?' (DbType = Int32), @p79='?' (DbType = Int16), @p80='?' (DbType = DateTime2), @p81='?' (Size = 50), @p82='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (Size = 1) (DbType = Byte), @p85='?' (DbType = Int32), @p86='?' (DbType = DateTime2), @p87='?' (Size = 50), @p88='?' (DbType = Int32), @p89='?' (DbType = Int16), @p90='?' (DbType = DateTime2), @p91='?' (Size = 50), @p92='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p93='?' (DbType = Int32), @p94='?' (Size = 1) (DbType = Byte), @p95='?' (DbType = Int32), @p96='?' (DbType = DateTime2), @p97='?' (Size = 50), @p98='?' (DbType = Int32), @p99='?' (DbType = Int16), @p100='?' (DbType = DateTime2), @p101='?' (Size = 50), @p102='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p103='?' (DbType = Int32), @p104='?' (Size = 1) (DbType = Byte), @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime2), @p107='?' (Size = 50), @p108='?' (DbType = Int32), @p109='?' (DbType = Int16), @p110='?' (DbType = DateTime2), @p111='?' (Size = 50), @p112='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (Size = 1) (DbType = Byte), @p115='?' (DbType = Int32), @p116='?' (DbType = DateTime2), @p117='?' (Size = 50), @p118='?' (DbType = Int32), @p119='?' (DbType = Int16), @p120='?' (DbType = DateTime2), @p121='?' (Size = 50), @p122='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p123='?' (DbType = Int32), @p124='?' (Size = 1) (DbType = Byte), @p125='?' (DbType = Int32), @p126='?' (DbType = DateTime2), @p127='?' (Size = 50), @p128='?' (DbType = Int32), @p129='?' (DbType = Int16), @p130='?' (DbType = DateTime2), @p131='?' (Size = 50), @p132='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p133='?' (DbType = Int32), @p134='?' (Size = 1) (DbType = Byte), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Size = 50), @p138='?' (DbType = Int32), @p139='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, 0),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, 1),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 2),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 3),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, 4),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, 6),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 8),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, 9),
(@p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, 10),
(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, 11),
(@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 12),
(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 13)) AS i ([CREATED_AT], [CREATED_BY], [CURRENT_BALANCE], [EMPLOYEE_ID], [IS_DELETED], [LEAVE_TYPE_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CREATED_AT], [CREATED_BY], [CURRENT_BALANCE], [EMPLOYEE_ID], [IS_DELETED], [LEAVE_TYPE_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [YEAR])
VALUES (i.[CREATED_AT], i.[CREATED_BY], i.[CURRENT_BALANCE], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LEAVE_TYPE_ID], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO], i.[YEAR])
OUTPUT INSERTED.[BALANCE_ID], i._Position;
2026-01-27 02:38:58.630 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 02:38:58.642 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API) in 282.9341ms
2026-01-27 02:38:58.644 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeaveConfigurationController.InitializeYearlyBalances (HRMS.API)'
2026-01-27 02:38:58.645 +03:00 [INF] HTTP POST /api/LeaveConfiguration/initialize-balances responded 200 in 301.3698 ms
2026-01-27 02:38:58.648 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/LeaveConfiguration/initialize-balances - 200 null application/json; charset=utf-8 340.2782ms
2026-01-27 02:49:27.423 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 02:49:30.925 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 02:49:31.073 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 02:49:31.668 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 02:49:31.670 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 02:49:31.824 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 02:49:31.956 +03:00 [INF] Hosting environment: Development
2026-01-27 02:49:31.957 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 02:49:33.580 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 02:49:34.748 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 361.4756 ms
2026-01-27 02:49:34.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 1188.25ms
2026-01-27 02:49:34.784 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 02:49:35.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 470.2607ms
2026-01-27 02:49:35.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 02:49:37.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1769.2094ms
2026-01-27 02:49:37.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 02:49:38.398 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 362.8776 ms
2026-01-27 02:49:38.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 761.0987ms
2026-01-27 02:52:50.563 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/requests - application/json 148
2026-01-27 02:52:50.629 +03:00 [INF] CORS policy execution successful.
2026-01-27 02:52:50.645 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 02:52:50.710 +03:00 [INF] Route matched with {action = "CreateLeaveRequest", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveRequest(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 02:53:21.986 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API) in 31263.085ms
2026-01-27 02:53:21.999 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 02:53:22.044 +03:00 [ERR] Global Exception Caught: Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‡ÙˆÙŠØ© Ø§Ù„Ù…ÙˆØ¸Ù ÙÙŠ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©.
FluentValidation.ValidationException: Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‡ÙˆÙŠØ© Ø§Ù„Ù…ÙˆØ¸Ù ÙÙŠ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©.
   at HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommandHandler.Handle(CreateLeaveRequestCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Leaves\Requests\Commands\CreateLeaveRequest\CreateLeaveRequestCommand.cs:line 64
   at HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest(CreateLeaveRequestCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Leaves\LeavesController.cs:line 34
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 02:53:22.124 +03:00 [INF] HTTP POST /api/Leaves/requests responded 400 in 31500.4552 ms
2026-01-27 02:53:22.134 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/requests - 400 null application/json 31570.4488ms
2026-01-27 03:00:27.446 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 03:00:30.417 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 03:00:30.711 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 03:00:31.607 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 03:00:31.612 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 03:00:31.906 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 03:00:32.003 +03:00 [INF] Hosting environment: Development
2026-01-27 03:00:32.053 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 03:00:33.960 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 03:00:35.702 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 324.4036 ms
2026-01-27 03:00:35.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 03:00:35.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 1974.6941ms
2026-01-27 03:00:36.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 185.5694ms
2026-01-27 03:00:36.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 03:00:39.809 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2980.6875ms
2026-01-27 03:00:40.506 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 03:00:46.160 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 409.2363 ms
2026-01-27 03:00:46.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5659.7143ms
2026-01-27 03:01:52.938 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/requests - application/json 194
2026-01-27 03:01:52.958 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:01:53.108 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 03:01:53.173 +03:00 [INF] Route matched with {action = "CreateLeaveRequest", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveRequest(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:01:53.262 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 03:01:53.304 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API) in 121.4336ms
2026-01-27 03:01:53.306 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 03:01:53.309 +03:00 [INF] HTTP POST /api/Leaves/requests responded 400 in 361.1828 ms
2026-01-27 03:01:53.312 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/requests - 400 null application/problem+json; charset=utf-8 374.3813ms
2026-01-27 03:02:39.878 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/requests - application/json 194
2026-01-27 03:02:39.891 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:02:39.893 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 03:02:39.900 +03:00 [INF] Route matched with {action = "CreateLeaveRequest", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveRequest(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:02:40.015 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 03:02:40.042 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API) in 138.5778ms
2026-01-27 03:02:40.054 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 03:02:40.056 +03:00 [INF] HTTP POST /api/Leaves/requests responded 400 in 164.8009 ms
2026-01-27 03:02:40.058 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/requests - 400 null application/problem+json; charset=utf-8 179.9228ms
2026-01-27 03:03:31.138 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/requests - application/json 138
2026-01-27 03:03:31.141 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:03:31.143 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 03:03:31.144 +03:00 [INF] Route matched with {action = "CreateLeaveRequest", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveRequest(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:03:34.508 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 03:03:34.512 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 03:03:34.515 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 03:03:36.199 +03:00 [INF] Executed DbCommand (109ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 03:03:36.489 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[LEAVE_TYPE_ID] = @__p_0
2026-01-27 03:03:36.733 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__8__locals1_employeeId_0='?' (DbType = Int32), @__8__locals1_request_LeaveTypeId_1='?' (DbType = Int32), @__year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[BALANCE_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[CURRENT_BALANCE], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[LEAVE_TYPE_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e].[YEAR]
FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employeeId_0 AND [e].[LEAVE_TYPE_ID] = @__8__locals1_request_LeaveTypeId_1 AND [e].[YEAR] = @__year_2
2026-01-27 03:03:37.425 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int32), @p9='?' (Size = 200), @p10='?' (Size = 200), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[LEAVE_REQUESTS] ([ATTACHMENT_PATH], [CREATED_AT], [CREATED_BY], [DAYS_COUNT], [EMPLOYEE_ID], [END_DATE], [IS_DELETED], [IS_POSTED_TO_BALANCE], [LEAVE_TYPE_ID], [REASON], [REJECTION_REASON], [START_DATE], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[REQUEST_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-27 03:03:37.519 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 03:03:37.561 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API) in 6414.106ms
2026-01-27 03:03:37.576 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 03:03:37.578 +03:00 [INF] HTTP POST /api/Leaves/requests responded 200 in 6436.2827 ms
2026-01-27 03:03:37.594 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/requests - 200 null application/json; charset=utf-8 6456.2108ms
2026-01-27 03:07:36.927 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/actions - application/json 145
2026-01-27 03:07:36.943 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:07:36.946 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ProcessLeaveAction (HRMS.API)'
2026-01-27 03:07:37.083 +03:00 [INF] Route matched with {action = "ProcessLeaveAction", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] ProcessLeaveAction(HRMS.Application.DTOs.Leaves.LeaveActionDto) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:07:37.096 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 03:07:37.098 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.ProcessLeaveAction (HRMS.API) in 10.5668ms
2026-01-27 03:07:37.100 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ProcessLeaveAction (HRMS.API)'
2026-01-27 03:07:37.102 +03:00 [INF] HTTP POST /api/Leaves/actions responded 400 in 159.5865 ms
2026-01-27 03:07:37.105 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/actions - 400 null application/problem+json; charset=utf-8 178.1087ms
2026-01-27 03:07:51.922 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/actions - application/json 144
2026-01-27 03:07:52.103 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:07:52.105 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ProcessLeaveAction (HRMS.API)'
2026-01-27 03:07:52.107 +03:00 [INF] Route matched with {action = "ProcessLeaveAction", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Boolean]]] ProcessLeaveAction(HRMS.Application.DTOs.Leaves.LeaveActionDto) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:07:52.259 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_Data_RequestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LEAVE_TYPE_ID], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[DEFAULT_DAYS], [l0].[IS_CARRY_FORWARD], [l0].[IS_DEDUCTIBLE], [l0].[IS_DELETED], [l0].[IS_PAID], [l0].[LEAVE_NAME_AR], [l0].[LEAVE_NAME_EN], [l0].[MAX_DAYS_PER_YEAR], [l0].[REQUIRES_ATTACHMENT], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
WHERE [l].[REQUEST_ID] = @__request_Data_RequestId_0
2026-01-27 03:07:52.284 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_leaveRequest_EmployeeId_0='?' (DbType = Int32), @__8__locals1_leaveRequest_LeaveTypeId_1='?' (DbType = Int32), @__year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[BALANCE_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[CURRENT_BALANCE], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[LEAVE_TYPE_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e].[YEAR]
FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_leaveRequest_EmployeeId_0 AND [e].[LEAVE_TYPE_ID] = @__8__locals1_leaveRequest_LeaveTypeId_1 AND [e].[YEAR] = @__year_2
2026-01-27 03:07:52.486 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p5='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (Size = 1) (DbType = Byte), @p12='?' (DbType = Int32), @p13='?' (Size = 200), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 20), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] SET [CURRENT_BALANCE] = @p0
OUTPUT 1
WHERE [BALANCE_ID] = @p1 AND [VERSION_NO] = @p2;
UPDATE [HR_LEAVES].[LEAVE_REQUESTS] SET [IS_POSTED_TO_BALANCE] = @p3, [STATUS] = @p4
OUTPUT 1
WHERE [REQUEST_ID] = @p5 AND [VERSION_NO] = @p6;
INSERT INTO [HR_LEAVES].[LEAVE_TRANSACTIONS] ([CREATED_AT], [CREATED_BY], [DAYS], [EMPLOYEE_ID], [IS_DELETED], [LEAVE_TYPE_ID], [NOTES], [REFERENCE_ID], [TRANSACTION_DATE], [TRANSACTION_TYPE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[TRANSACTION_ID]
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2026-01-27 03:07:52.525 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 03:07:52.530 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.ProcessLeaveAction (HRMS.API) in 416.6738ms
2026-01-27 03:07:52.532 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ProcessLeaveAction (HRMS.API)'
2026-01-27 03:07:52.534 +03:00 [INF] HTTP POST /api/Leaves/actions responded 200 in 430.3388 ms
2026-01-27 03:07:52.538 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/actions - 200 null application/json; charset=utf-8 615.1423ms
2026-01-27 03:18:58.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 03:18:58.232 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 4.7203 ms
2026-01-27 03:18:58.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 03:18:58.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 03:18:58.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 482.0941ms
2026-01-27 03:18:58.513 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 113.1121ms
2026-01-27 03:18:58.568 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 151.3982ms
2026-01-27 03:19:11.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 03:19:17.456 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 1210.7124 ms
2026-01-27 03:19:20.276 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8620.2902ms
2026-01-27 03:22:00.196 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/apply - application/json 189
2026-01-27 03:22:00.206 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:22:00.207 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:22:00.215 +03:00 [INF] Route matched with {action = "ApplyForLeave", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ApplyForLeave(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:22:00.443 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-01-27 03:22:00.462 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[LEAVE_TYPE_ID] = @__p_0
2026-01-27 03:22:00.511 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__request_EndDate_1='?' (DbType = DateTime2), @__request_StartDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
        WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND ([l].[STATUS] <> N'REJECTED' OR [l].[STATUS] IS NULL) AND [l].[START_DATE] <= @__request_EndDate_1 AND [l].[END_DATE] >= @__request_StartDate_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 03:22:00.677 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__years_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[HOLIDAY_ID], [p].[CREATED_AT], [p].[CREATED_BY], [p].[END_DATE], [p].[HOLIDAY_NAME_AR], [p].[IS_DELETED], [p].[START_DATE], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO], [p].[YEAR]
FROM [HR_LEAVES].[PUBLIC_HOLIDAYS] AS [p]
WHERE CAST([p].[YEAR] AS int) IN (
    SELECT [y].[value]
    FROM OPENJSON(@__years_0) WITH ([value] int '$') AS [y]
)
2026-01-27 03:22:00.724 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_employeeId_0='?' (DbType = Int32), @__8__locals1_request_LeaveTypeId_1='?' (DbType = Int32), @__year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[BALANCE_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[CURRENT_BALANCE], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[LEAVE_TYPE_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e].[YEAR]
FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employeeId_0 AND [e].[LEAVE_TYPE_ID] = @__8__locals1_request_LeaveTypeId_1 AND [e].[YEAR] = @__year_2
2026-01-27 03:22:00.753 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int32), @p9='?' (Size = 200), @p10='?' (Size = 200), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[LEAVE_REQUESTS] ([ATTACHMENT_PATH], [CREATED_AT], [CREATED_BY], [DAYS_COUNT], [EMPLOYEE_ID], [END_DATE], [IS_DELETED], [IS_POSTED_TO_BALANCE], [LEAVE_TYPE_ID], [REASON], [REJECTION_REASON], [START_DATE], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[REQUEST_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-27 03:22:00.759 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 03:22:00.762 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API) in 542.9931ms
2026-01-27 03:22:00.764 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:22:00.765 +03:00 [INF] HTTP POST /api/Leaves/apply responded 200 in 559.6189 ms
2026-01-27 03:22:00.768 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/apply - 200 null application/json; charset=utf-8 572.2366ms
2026-01-27 03:23:17.876 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/apply - application/json 189
2026-01-27 03:23:17.884 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:23:17.906 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:23:18.017 +03:00 [INF] Route matched with {action = "ApplyForLeave", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ApplyForLeave(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:23:18.030 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-01-27 03:23:18.040 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[LEAVE_TYPE_ID] = @__p_0
2026-01-27 03:23:18.049 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__request_EndDate_1='?' (DbType = DateTime2), @__request_StartDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
        WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND ([l].[STATUS] <> N'REJECTED' OR [l].[STATUS] IS NULL) AND [l].[START_DATE] <= @__request_EndDate_1 AND [l].[END_DATE] >= @__request_StartDate_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 03:23:18.287 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API) in 266.2086ms
2026-01-27 03:23:18.290 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:23:18.779 +03:00 [ERR] Global Exception Caught: Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø¯ÙŠÙƒ Ø¥Ø¬Ø§Ø²Ø© Ø£Ø®Ø±Ù‰ Ù…ØªØ¯Ø§Ø®Ù„Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙØªØ±Ø©
FluentValidation.ValidationException: Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø¯ÙŠÙƒ Ø¥Ø¬Ø§Ø²Ø© Ø£Ø®Ø±Ù‰ Ù…ØªØ¯Ø§Ø®Ù„Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙØªØ±Ø©
   at HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommandHandler.Handle(CreateLeaveRequestCommand request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave(CreateLeaveRequestCommand command)
   at lambda_method752(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context)
2026-01-27 03:23:18.832 +03:00 [INF] HTTP POST /api/Leaves/apply responded 400 in 947.8175 ms
2026-01-27 03:23:18.842 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/apply - 400 null application/json 969.3874ms
2026-01-27 03:27:07.272 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/apply - application/json 170
2026-01-27 03:27:07.283 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:27:07.286 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:27:07.293 +03:00 [INF] Route matched with {action = "ApplyForLeave", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ApplyForLeave(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:27:07.441 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-01-27 03:27:07.454 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[LEAVE_TYPE_ID] = @__p_0
2026-01-27 03:27:07.469 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__request_EndDate_1='?' (DbType = DateTime2), @__request_StartDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
        WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND ([l].[STATUS] <> N'REJECTED' OR [l].[STATUS] IS NULL) AND [l].[START_DATE] <= @__request_EndDate_1 AND [l].[END_DATE] >= @__request_StartDate_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 03:27:07.487 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__years_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[HOLIDAY_ID], [p].[CREATED_AT], [p].[CREATED_BY], [p].[END_DATE], [p].[HOLIDAY_NAME_AR], [p].[IS_DELETED], [p].[START_DATE], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO], [p].[YEAR]
FROM [HR_LEAVES].[PUBLIC_HOLIDAYS] AS [p]
WHERE CAST([p].[YEAR] AS int) IN (
    SELECT [y].[value]
    FROM OPENJSON(@__years_0) WITH ([value] int '$') AS [y]
)
2026-01-27 03:27:07.512 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_employeeId_0='?' (DbType = Int32), @__8__locals1_request_LeaveTypeId_1='?' (DbType = Int32), @__year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[BALANCE_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[CURRENT_BALANCE], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[LEAVE_TYPE_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e].[YEAR]
FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employeeId_0 AND [e].[LEAVE_TYPE_ID] = @__8__locals1_request_LeaveTypeId_1 AND [e].[YEAR] = @__year_2
2026-01-27 03:27:07.530 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int32), @p9='?' (Size = 200), @p10='?' (Size = 200), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[LEAVE_REQUESTS] ([ATTACHMENT_PATH], [CREATED_AT], [CREATED_BY], [DAYS_COUNT], [EMPLOYEE_ID], [END_DATE], [IS_DELETED], [IS_POSTED_TO_BALANCE], [LEAVE_TYPE_ID], [REASON], [REJECTION_REASON], [START_DATE], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[REQUEST_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-27 03:27:07.537 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 03:27:07.538 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API) in 105.4825ms
2026-01-27 03:27:07.541 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:27:07.542 +03:00 [INF] HTTP POST /api/Leaves/apply responded 200 in 259.4089 ms
2026-01-27 03:27:07.545 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/apply - 200 null application/json; charset=utf-8 273.1643ms
2026-01-27 03:27:38.860 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/requests - application/json 170
2026-01-27 03:27:38.864 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:27:38.866 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 03:27:38.873 +03:00 [INF] Route matched with {action = "CreateLeaveRequest", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HRMS.Core.Utilities.Result`1[System.Int32]]] CreateLeaveRequest(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:27:54.816 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API) in 15927.1921ms
2026-01-27 03:27:54.833 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.CreateLeaveRequest (HRMS.API)'
2026-01-27 03:28:25.812 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 03:28:31.913 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 03:28:32.784 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 03:28:34.576 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 03:28:34.583 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 03:28:35.344 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 03:28:37.411 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 03:28:37.468 +03:00 [INF] Hosting environment: Development
2026-01-27 03:28:37.508 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 03:28:38.445 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 455.3920 ms
2026-01-27 03:28:38.555 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 03:28:39.313 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 03:28:39.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2240.2ms
2026-01-27 03:28:39.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1138.1602ms
2026-01-27 03:28:40.169 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 855.445ms
2026-01-27 03:28:41.128 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 03:28:41.798 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 603.4007 ms
2026-01-27 03:28:41.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 744.783ms
2026-01-27 03:29:13.401 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/apply - application/json 170
2026-01-27 03:29:13.415 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:29:13.594 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:29:13.640 +03:00 [INF] Route matched with {action = "ApplyForLeave", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ApplyForLeave(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:29:16.381 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 03:29:16.385 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 03:29:16.400 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 03:29:18.115 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-01-27 03:29:18.274 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[LEAVE_TYPE_ID] = @__p_0
2026-01-27 03:29:18.516 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__request_EndDate_1='?' (DbType = DateTime2), @__request_StartDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
        WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND ([l].[STATUS] <> N'REJECTED' OR [l].[STATUS] IS NULL) AND [l].[START_DATE] <= @__request_EndDate_1 AND [l].[END_DATE] >= @__request_StartDate_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 03:29:30.170 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API) in 16514.6521ms
2026-01-27 03:29:30.280 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:29:30.698 +03:00 [ERR] Global Exception Caught: Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø¯ÙŠÙƒ Ø¥Ø¬Ø§Ø²Ø© Ø£Ø®Ø±Ù‰ Ù…ØªØ¯Ø§Ø®Ù„Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙØªØ±Ø©
FluentValidation.ValidationException: Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø¯ÙŠÙƒ Ø¥Ø¬Ø§Ø²Ø© Ø£Ø®Ø±Ù‰ Ù…ØªØ¯Ø§Ø®Ù„Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙØªØ±Ø©
   at HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommandHandler.Handle(CreateLeaveRequestCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Leaves\Requests\Commands\CreateLeaveRequest\CreateLeaveRequestCommand.cs:line 100
   at HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave(CreateLeaveRequestCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Leaves\LeavesController.cs:line 33
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 03:29:30.755 +03:00 [INF] HTTP POST /api/Leaves/apply responded 400 in 17345.9467 ms
2026-01-27 03:29:30.770 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/apply - 400 null application/json 17369.1404ms
2026-01-27 03:29:50.440 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/apply - application/json 170
2026-01-27 03:29:51.262 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:29:51.266 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:29:51.268 +03:00 [INF] Route matched with {action = "ApplyForLeave", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ApplyForLeave(HRMS.Application.Features.Leaves.Requests.Commands.CreateLeaveRequest.CreateLeaveRequestCommand) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:29:51.514 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPARTMENT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIRE_DATE], [e].[IS_DELETED], [e].[JOB_ID], [e].[LAST_NAME_AR], [e].[LICENSE_EXPIRY_DATE], [e].[LICENSE_NUMBER], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONAL_ID], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[SPECIALTY], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[USER_ID], [e].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0
2026-01-27 03:29:51.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LEAVE_TYPE_ID], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DEFAULT_DAYS], [l].[IS_CARRY_FORWARD], [l].[IS_DEDUCTIBLE], [l].[IS_DELETED], [l].[IS_PAID], [l].[LEAVE_NAME_AR], [l].[LEAVE_NAME_EN], [l].[MAX_DAYS_PER_YEAR], [l].[REQUIRES_ATTACHMENT], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_TYPES] AS [l]
WHERE [l].[LEAVE_TYPE_ID] = @__p_0
2026-01-27 03:29:51.556 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__employeeId_0='?' (DbType = Int32), @__request_EndDate_1='?' (DbType = DateTime2), @__request_StartDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
        WHERE [l].[EMPLOYEE_ID] = @__employeeId_0 AND ([l].[STATUS] <> N'REJECTED' OR [l].[STATUS] IS NULL) AND [l].[START_DATE] <= @__request_EndDate_1 AND [l].[END_DATE] >= @__request_StartDate_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 03:29:51.716 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__years_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[HOLIDAY_ID], [p].[CREATED_AT], [p].[CREATED_BY], [p].[END_DATE], [p].[HOLIDAY_NAME_AR], [p].[IS_DELETED], [p].[START_DATE], [p].[UPDATED_AT], [p].[UPDATED_BY], [p].[VERSION_NO], [p].[YEAR]
FROM [HR_LEAVES].[PUBLIC_HOLIDAYS] AS [p]
WHERE CAST([p].[YEAR] AS int) IN (
    SELECT [y].[value]
    FROM OPENJSON(@__years_0) WITH ([value] int '$') AS [y]
)
2026-01-27 03:29:51.898 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__8__locals1_employeeId_0='?' (DbType = Int32), @__8__locals1_request_LeaveTypeId_1='?' (DbType = Int32), @__year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[BALANCE_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[CURRENT_BALANCE], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[LEAVE_TYPE_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e].[YEAR]
FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_employeeId_0 AND [e].[LEAVE_TYPE_ID] = @__8__locals1_request_LeaveTypeId_1 AND [e].[YEAR] = @__year_2
2026-01-27 03:29:52.751 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int32), @p9='?' (Size = 200), @p10='?' (Size = 200), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = DateTime2), @p14='?' (Size = 50), @p15='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_LEAVES].[LEAVE_REQUESTS] ([ATTACHMENT_PATH], [CREATED_AT], [CREATED_BY], [DAYS_COUNT], [EMPLOYEE_ID], [END_DATE], [IS_DELETED], [IS_POSTED_TO_BALANCE], [LEAVE_TYPE_ID], [REASON], [REJECTION_REASON], [START_DATE], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[REQUEST_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-27 03:29:52.959 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 03:29:52.968 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API) in 1695.3187ms
2026-01-27 03:29:53.001 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ApplyForLeave (HRMS.API)'
2026-01-27 03:29:53.187 +03:00 [INF] HTTP POST /api/Leaves/apply responded 200 in 1925.5848 ms
2026-01-27 03:29:53.193 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/apply - 200 null application/json; charset=utf-8 2752.483ms
2026-01-27 03:30:54.967 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Leaves/my-requests/23 - null null
2026-01-27 03:30:54.975 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.GetMyRequests (HRMS.API)'
2026-01-27 03:30:54.988 +03:00 [INF] Route matched with {action = "GetMyRequests", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveRequestDto]]] GetMyRequests(Int32) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:30:55.854 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID] AS [RequestId], [l].[EMPLOYEE_ID] AS [EmployeeId], [l].[LEAVE_TYPE_ID] AS [LeaveTypeId], [l].[START_DATE] AS [StartDate], [l].[END_DATE] AS [EndDate], [l].[DAYS_COUNT] AS [DaysCount], [l].[REASON] AS [Reason], [l].[ATTACHMENT_PATH] AS [AttachmentPath], [l].[STATUS] AS [Status], [l].[REJECTION_REASON] AS [RejectionReason], [l].[CREATED_AT] AS [CreatedAt], [l0].[LEAVE_NAME_AR] AS [LeaveTypeName]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
WHERE [l].[EMPLOYEE_ID] = @__request_EmployeeId_0
ORDER BY [l].[CREATED_AT] DESC
2026-01-27 03:30:55.863 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveRequestDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 03:30:55.873 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.GetMyRequests (HRMS.API) in 880.898ms
2026-01-27 03:30:55.876 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.GetMyRequests (HRMS.API)'
2026-01-27 03:30:55.878 +03:00 [INF] HTTP GET /api/Leaves/my-requests/23 responded 200 in 904.1353 ms
2026-01-27 03:30:55.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Leaves/my-requests/23 - 200 null application/json; charset=utf-8 914.4118ms
2026-01-27 03:31:13.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Leaves/my-requests/22 - null null
2026-01-27 03:31:13.942 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.GetMyRequests (HRMS.API)'
2026-01-27 03:31:13.952 +03:00 [INF] Route matched with {action = "GetMyRequests", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.DTOs.Leaves.LeaveRequestDto]]] GetMyRequests(Int32) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:31:14.038 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID] AS [RequestId], [l].[EMPLOYEE_ID] AS [EmployeeId], [l].[LEAVE_TYPE_ID] AS [LeaveTypeId], [l].[START_DATE] AS [StartDate], [l].[END_DATE] AS [EndDate], [l].[DAYS_COUNT] AS [DaysCount], [l].[REASON] AS [Reason], [l].[ATTACHMENT_PATH] AS [AttachmentPath], [l].[STATUS] AS [Status], [l].[REJECTION_REASON] AS [RejectionReason], [l].[CREATED_AT] AS [CreatedAt], [l0].[LEAVE_NAME_AR] AS [LeaveTypeName]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
WHERE [l].[EMPLOYEE_ID] = @__request_EmployeeId_0
ORDER BY [l].[CREATED_AT] DESC
2026-01-27 03:31:14.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.DTOs.Leaves.LeaveRequestDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 03:31:14.066 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.GetMyRequests (HRMS.API) in 103.7185ms
2026-01-27 03:31:14.068 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.GetMyRequests (HRMS.API)'
2026-01-27 03:31:14.071 +03:00 [INF] HTTP GET /api/Leaves/my-requests/22 responded 200 in 128.8576 ms
2026-01-27 03:31:14.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Leaves/my-requests/22 - 200 null application/json; charset=utf-8 377.5566ms
2026-01-27 03:31:57.092 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Leaves/action - application/json 102
2026-01-27 03:31:57.130 +03:00 [INF] CORS policy execution successful.
2026-01-27 03:31:57.132 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ProcessAction (HRMS.API)'
2026-01-27 03:31:57.137 +03:00 [INF] Route matched with {action = "ProcessAction", controller = "Leaves"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ProcessAction(HRMS.Application.DTOs.Leaves.LeaveActionDto) on controller HRMS.API.Controllers.Leaves.LeavesController (HRMS.API).
2026-01-27 03:31:57.199 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Data_RequestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO], [l0].[LEAVE_TYPE_ID], [l0].[CREATED_AT], [l0].[CREATED_BY], [l0].[DEFAULT_DAYS], [l0].[IS_CARRY_FORWARD], [l0].[IS_DEDUCTIBLE], [l0].[IS_DELETED], [l0].[IS_PAID], [l0].[LEAVE_NAME_AR], [l0].[LEAVE_NAME_EN], [l0].[MAX_DAYS_PER_YEAR], [l0].[REQUIRES_ATTACHMENT], [l0].[UPDATED_AT], [l0].[UPDATED_BY], [l0].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
INNER JOIN [HR_LEAVES].[LEAVE_TYPES] AS [l0] ON [l].[LEAVE_TYPE_ID] = [l0].[LEAVE_TYPE_ID]
WHERE [l].[REQUEST_ID] = @__request_Data_RequestId_0
2026-01-27 03:31:57.234 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_leaveRequest_EmployeeId_0='?' (DbType = Int32), @__8__locals1_leaveRequest_LeaveTypeId_1='?' (DbType = Int32), @__year_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[BALANCE_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[CURRENT_BALANCE], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[LEAVE_TYPE_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [e].[YEAR]
FROM [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__8__locals1_leaveRequest_EmployeeId_0 AND [e].[LEAVE_TYPE_ID] = @__8__locals1_leaveRequest_LeaveTypeId_1 AND [e].[YEAR] = @__year_2
2026-01-27 03:31:57.379 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p5='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (Size = 1) (DbType = Byte), @p12='?' (DbType = Int32), @p13='?' (Size = 200), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 20), @p17='?' (DbType = DateTime2), @p18='?' (Size = 50), @p19='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [HR_LEAVES].[EMPLOYEE_LEAVE_BALANCES] SET [CURRENT_BALANCE] = @p0
OUTPUT 1
WHERE [BALANCE_ID] = @p1 AND [VERSION_NO] = @p2;
UPDATE [HR_LEAVES].[LEAVE_REQUESTS] SET [IS_POSTED_TO_BALANCE] = @p3, [STATUS] = @p4
OUTPUT 1
WHERE [REQUEST_ID] = @p5 AND [VERSION_NO] = @p6;
INSERT INTO [HR_LEAVES].[LEAVE_TRANSACTIONS] ([CREATED_AT], [CREATED_BY], [DAYS], [EMPLOYEE_ID], [IS_DELETED], [LEAVE_TYPE_ID], [NOTES], [REFERENCE_ID], [TRANSACTION_DATE], [TRANSACTION_TYPE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[TRANSACTION_ID]
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2026-01-27 03:31:57.422 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 03:31:57.428 +03:00 [INF] Executed action HRMS.API.Controllers.Leaves.LeavesController.ProcessAction (HRMS.API) in 285.5202ms
2026-01-27 03:31:57.445 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Leaves.LeavesController.ProcessAction (HRMS.API)'
2026-01-27 03:31:57.447 +03:00 [INF] HTTP POST /api/Leaves/action responded 200 in 316.9526 ms
2026-01-27 03:31:57.451 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Leaves/action - 200 null application/json; charset=utf-8 358.6356ms
2026-01-27 16:52:06.049 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 16:52:14.402 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 16:52:16.489 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 16:52:17.214 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 16:52:17.216 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 16:52:17.344 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 16:52:17.345 +03:00 [INF] Hosting environment: Development
2026-01-27 16:52:17.353 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 16:52:21.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 16:52:24.887 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3015.7899 ms
2026-01-27 16:52:24.905 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 3469.5967ms
2026-01-27 16:52:24.909 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 16:52:24.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 14.2624ms
2026-01-27 16:52:25.715 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 16:52:25.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 193.6328ms
2026-01-27 16:52:27.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 16:52:28.048 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 484.3086 ms
2026-01-27 16:52:28.054 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 532.2895ms
2026-01-27 16:57:23.872 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/shifts - application/json 157
2026-01-27 16:57:23.963 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:57:23.985 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API)'
2026-01-27 16:57:24.044 +03:00 [INF] Route matched with {action = "CreateShift", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] CreateShift(HRMS.Application.Features.Attendance.Configuration.CreateShiftTypeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 16:57:28.208 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 16:57:28.211 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 16:57:28.214 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 16:57:31.669 +03:00 [INF] Executed DbCommand (247ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 5), @p3='?' (DbType = Int16), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 100), @p8='?' (Size = 5), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[SHIFT_TYPES] ([CREATED_AT], [CREATED_BY], [END_TIME], [GRACE_PERIOD_MINS], [HOURS_COUNT], [IS_CROSS_DAY], [IS_DELETED], [SHIFT_NAME_AR], [START_TIME], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[SHIFT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-01-27 16:57:31.837 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 16:57:31.852 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API) in 7798.3373ms
2026-01-27 16:57:31.855 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API)'
2026-01-27 16:57:31.857 +03:00 [INF] HTTP POST /api/AttendanceSettings/shifts responded 200 in 7902.6197 ms
2026-01-27 16:57:31.878 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 8006.293ms
2026-01-27 16:58:34.096 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - application/json 94
2026-01-27 16:58:34.115 +03:00 [INF] CORS policy execution successful.
2026-01-27 16:58:34.117 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 16:58:34.130 +03:00 [INF] Route matched with {action = "InitializeRoster", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] InitializeRoster(HRMS.Application.Features.Attendance.Roster.Commands.InitializeRoster.InitializeRosterCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 16:58:34.870 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 16:58:34.906 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ShiftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
        WHERE [s].[SHIFT_ID] = @__request_ShiftId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 16:58:34.944 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_StartDate_1='?' (DbType = DateTime2), @__request_EndDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_DATE]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[ROSTER_DATE] >= @__request_StartDate_1 AND [e].[ROSTER_DATE] <= @__request_EndDate_2
2026-01-27 16:58:35.073 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] ([CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [IS_OFF_DAY], [ROSTER_DATE], [SHIFT_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[ROSTER_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-27 16:58:35.087 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 16:58:35.091 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API) in 948.7786ms
2026-01-27 16:58:35.100 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 16:58:35.102 +03:00 [INF] HTTP POST /api/AttendanceSettings/initialize-roster responded 200 in 988.1460 ms
2026-01-27 16:58:35.107 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - 200 null application/json; charset=utf-8 1045.6522ms
2026-01-27 17:03:06.980 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:03:06.985 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:03:06.986 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:03:06.995 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:03:07.261 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:03:07.406 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:03:07.480 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:03:07.519 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:03:07.632 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int16), @p6='?' (DbType = Int32), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int16), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[DAILY_ATTENDANCE] ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RECORD_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-01-27 17:03:07.641 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:03:07.643 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 644.3715ms
2026-01-27 17:03:07.645 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:03:07.646 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 661.6286 ms
2026-01-27 17:03:07.649 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 668.3374ms
2026-01-27 17:11:21.852 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/AttendanceSettings/shifts/1 - application/json 172
2026-01-27 17:11:21.856 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:11:21.858 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.UpdateShift (HRMS.API)'
2026-01-27 17:11:21.866 +03:00 [INF] Route matched with {action = "UpdateShift", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] UpdateShift(Int32, HRMS.Application.Features.Attendance.Configuration.UpdateShiftTypeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:11:21.949 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[SHIFT_ID] = @__p_0
2026-01-27 17:11:21.985 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int16), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_ATTENDANCE].[SHIFT_TYPES] SET [GRACE_PERIOD_MINS] = @p0
OUTPUT 1
WHERE [SHIFT_ID] = @p1 AND [VERSION_NO] = @p2;
2026-01-27 17:11:21.991 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 17:11:21.993 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.UpdateShift (HRMS.API) in 120.3849ms
2026-01-27 17:11:21.999 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.UpdateShift (HRMS.API)'
2026-01-27 17:11:22.002 +03:00 [INF] HTTP PUT /api/AttendanceSettings/shifts/1 responded 200 in 145.5429 ms
2026-01-27 17:11:22.007 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/AttendanceSettings/shifts/1 - 200 null application/json; charset=utf-8 190.6715ms
2026-01-27 17:11:41.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - null null
2026-01-27 17:11:41.641 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-01-27 17:11:41.649 +03:00 [INF] Route matched with {action = "GetAllShifts", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.Features.Attendance.Configuration.ShiftTypeDto]]] GetAllShifts() on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:11:41.705 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SHIFT_ID] AS [ShiftId], [s].[SHIFT_NAME_AR] AS [ShiftNameAr], [s].[START_TIME] AS [StartTime], [s].[END_TIME] AS [EndTime], [s].[HOURS_COUNT] AS [HoursCount], [s].[IS_CROSS_DAY] AS [IsCrossDay], [s].[GRACE_PERIOD_MINS] AS [GracePeriodMins]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [s].[SHIFT_ID]
2026-01-27 17:11:41.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.Features.Attendance.Configuration.ShiftTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 17:11:41.728 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API) in 73.9043ms
2026-01-27 17:11:41.730 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-01-27 17:11:41.732 +03:00 [INF] HTTP GET /api/AttendanceSettings/shifts responded 200 in 91.5554 ms
2026-01-27 17:11:41.735 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 98.6955ms
2026-01-27 17:19:15.749 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:19:15.759 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:19:15.774 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:19:15.781 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:19:15.965 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:19:15.979 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:19:15.996 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:19:16.017 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:19:16.083 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (DbType = Int16), @p8='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (DbType = DateTime2), @p15='?' (Size = 50), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
INSERT INTO [HR_ATTENDANCE].[DAILY_ATTENDANCE] ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RECORD_ID]
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2026-01-27 17:19:16.118 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:19:16.120 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 321.653ms
2026-01-27 17:19:16.123 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:19:16.125 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 365.5634 ms
2026-01-27 17:19:16.130 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 383.8038ms
2026-01-27 17:23:26.543 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:23:26.546 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:23:26.548 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:23:26.549 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:23:26.740 +03:00 [INF] Executed DbCommand (180ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:23:26.871 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:23:26.912 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:23:26.937 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:23:26.957 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (DbType = Int16), @p8='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (DbType = DateTime2), @p15='?' (Size = 50), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
INSERT INTO [HR_ATTENDANCE].[DAILY_ATTENDANCE] ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RECORD_ID]
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2026-01-27 17:23:26.968 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:23:26.971 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 417.5641ms
2026-01-27 17:23:26.990 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:23:26.991 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 445.1420 ms
2026-01-27 17:23:26.995 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 452.0625ms
2026-01-27 17:25:08.187 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - null null
2026-01-27 17:25:08.190 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-01-27 17:25:08.192 +03:00 [INF] Route matched with {action = "GetAllShifts", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.Features.Attendance.Configuration.ShiftTypeDto]]] GetAllShifts() on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:25:08.212 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SHIFT_ID] AS [ShiftId], [s].[SHIFT_NAME_AR] AS [ShiftNameAr], [s].[START_TIME] AS [StartTime], [s].[END_TIME] AS [EndTime], [s].[HOURS_COUNT] AS [HoursCount], [s].[IS_CROSS_DAY] AS [IsCrossDay], [s].[GRACE_PERIOD_MINS] AS [GracePeriodMins]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [s].[SHIFT_ID]
2026-01-27 17:25:08.249 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.Features.Attendance.Configuration.ShiftTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 17:25:08.349 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API) in 152.9048ms
2026-01-27 17:25:08.364 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-01-27 17:25:08.365 +03:00 [INF] HTTP GET /api/AttendanceSettings/shifts responded 200 in 175.1896 ms
2026-01-27 17:25:08.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 181.5887ms
2026-01-27 17:25:32.700 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/shifts - application/json 157
2026-01-27 17:25:32.820 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:25:32.821 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API)'
2026-01-27 17:25:32.823 +03:00 [INF] Route matched with {action = "CreateShift", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] CreateShift(HRMS.Application.Features.Attendance.Configuration.CreateShiftTypeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:25:32.836 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 5), @p3='?' (DbType = Int16), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 100), @p8='?' (Size = 5), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[SHIFT_TYPES] ([CREATED_AT], [CREATED_BY], [END_TIME], [GRACE_PERIOD_MINS], [HOURS_COUNT], [IS_CROSS_DAY], [IS_DELETED], [SHIFT_NAME_AR], [START_TIME], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[SHIFT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-01-27 17:25:32.842 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:25:32.843 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API) in 16.5143ms
2026-01-27 17:25:32.897 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API)'
2026-01-27 17:25:32.900 +03:00 [INF] HTTP POST /api/AttendanceSettings/shifts responded 200 in 79.4590 ms
2026-01-27 17:25:32.905 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 205.0008ms
2026-01-27 17:26:01.078 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - application/json 94
2026-01-27 17:26:01.104 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:26:01.106 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:26:01.109 +03:00 [INF] Route matched with {action = "InitializeRoster", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] InitializeRoster(HRMS.Application.Features.Attendance.Roster.Commands.InitializeRoster.InitializeRosterCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:26:01.140 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:26:01.150 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_ShiftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
        WHERE [s].[SHIFT_ID] = @__request_ShiftId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:26:01.158 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_StartDate_1='?' (DbType = DateTime2), @__request_EndDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_DATE]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[ROSTER_DATE] >= @__request_StartDate_1 AND [e].[ROSTER_DATE] <= @__request_EndDate_2
2026-01-27 17:26:01.173 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] ([CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [IS_OFF_DAY], [ROSTER_DATE], [SHIFT_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[ROSTER_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-27 17:26:01.180 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 17:26:01.182 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API) in 66.3185ms
2026-01-27 17:26:01.225 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:26:01.228 +03:00 [INF] HTTP POST /api/AttendanceSettings/initialize-roster responded 200 in 124.0333 ms
2026-01-27 17:26:01.231 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - 200 null application/json; charset=utf-8 153.6757ms
2026-01-27 17:27:21.049 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:27:21.085 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:27:21.086 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:27:21.088 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:27:21.102 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:27:21.119 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:27:21.132 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:27:21.145 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:27:21.185 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (DbType = Int16), @p8='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (DbType = DateTime2), @p15='?' (Size = 50), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (Size = 50), @p22='?' (DbType = Int16), @p23='?' (DbType = Int32), @p24='?' (Size = 1) (DbType = Byte), @p25='?' (DbType = Int16), @p26='?' (DbType = Int16), @p27='?' (DbType = Int32), @p28='?' (Size = 20), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, 0),
(@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 17:27:21.192 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:27:21.194 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 102.8146ms
2026-01-27 17:27:21.198 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:27:21.200 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 114.8514 ms
2026-01-27 17:27:21.203 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 154.4972ms
2026-01-27 17:28:40.425 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:28:40.457 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:28:40.461 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:28:40.464 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:28:40.482 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:28:40.497 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:28:40.515 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:28:40.528 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:28:40.573 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = Int64), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 1) (DbType = Byte), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int32), @p15='?' (Size = 20), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int16), @p25='?' (DbType = Int32), @p26='?' (Size = 1) (DbType = Byte), @p27='?' (DbType = Int16), @p28='?' (DbType = Int16), @p29='?' (DbType = Int32), @p30='?' (Size = 20), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p2 AND [VERSION_NO] = @p3;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, 0),
(@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 17:28:40.592 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:28:40.594 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 124.3729ms
2026-01-27 17:28:40.597 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:28:40.598 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 141.1768 ms
2026-01-27 17:28:40.601 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 176.025ms
2026-01-27 17:34:49.440 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:34:49.447 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:34:49.448 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:34:49.451 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:34:49.484 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:34:49.501 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:34:49.516 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:34:49.530 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:34:49.556 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = Int64), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 1) (DbType = Byte), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int32), @p15='?' (Size = 20), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int16), @p25='?' (DbType = Int32), @p26='?' (Size = 1) (DbType = Byte), @p27='?' (DbType = Int16), @p28='?' (DbType = Int16), @p29='?' (DbType = Int32), @p30='?' (Size = 20), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p2 AND [VERSION_NO] = @p3;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, 0),
(@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 17:34:49.566 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:34:49.568 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 113.2242ms
2026-01-27 17:34:49.570 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:34:49.572 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 125.4711 ms
2026-01-27 17:34:49.575 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 134.475ms
2026-01-27 17:36:07.981 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/AttendanceSettings/shifts/2 - application/json 172
2026-01-27 17:36:07.985 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:36:07.986 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.UpdateShift (HRMS.API)'
2026-01-27 17:36:07.987 +03:00 [INF] Route matched with {action = "UpdateShift", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] UpdateShift(Int32, HRMS.Application.Features.Attendance.Configuration.UpdateShiftTypeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:36:08.013 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[SHIFT_ID] = @__p_0
2026-01-27 17:36:08.061 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int16), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_ATTENDANCE].[SHIFT_TYPES] SET [GRACE_PERIOD_MINS] = @p0
OUTPUT 1
WHERE [SHIFT_ID] = @p1 AND [VERSION_NO] = @p2;
2026-01-27 17:36:08.068 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 17:36:08.073 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.UpdateShift (HRMS.API) in 79.2531ms
2026-01-27 17:36:08.078 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.UpdateShift (HRMS.API)'
2026-01-27 17:36:08.081 +03:00 [INF] HTTP PUT /api/AttendanceSettings/shifts/2 responded 200 in 96.8141 ms
2026-01-27 17:36:08.084 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/AttendanceSettings/shifts/2 - 200 null application/json; charset=utf-8 133.1716ms
2026-01-27 17:36:24.738 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - application/json 94
2026-01-27 17:36:24.743 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:36:24.746 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:36:24.748 +03:00 [INF] Route matched with {action = "InitializeRoster", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] InitializeRoster(HRMS.Application.Features.Attendance.Roster.Commands.InitializeRoster.InitializeRosterCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:36:24.772 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:36:24.789 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ShiftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
        WHERE [s].[SHIFT_ID] = @__request_ShiftId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:36:24.816 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_StartDate_1='?' (DbType = DateTime2), @__request_EndDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_DATE]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[ROSTER_DATE] >= @__request_StartDate_1 AND [e].[ROSTER_DATE] <= @__request_EndDate_2
2026-01-27 17:36:24.831 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 17:36:24.833 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API) in 79.251ms
2026-01-27 17:36:24.835 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:36:24.837 +03:00 [INF] HTTP POST /api/AttendanceSettings/initialize-roster responded 200 in 93.4651 ms
2026-01-27 17:36:24.839 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - 200 null application/json; charset=utf-8 101.1313ms
2026-01-27 17:36:29.962 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:36:29.968 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:36:29.971 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:36:29.976 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:36:30.120 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:36:30.170 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:36:30.186 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:36:30.198 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:36:30.238 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = Int64), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 1) (DbType = Byte), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int32), @p15='?' (Size = 20), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int16), @p25='?' (DbType = Int32), @p26='?' (Size = 1) (DbType = Byte), @p27='?' (DbType = Int16), @p28='?' (DbType = Int16), @p29='?' (DbType = Int32), @p30='?' (Size = 20), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p2 AND [VERSION_NO] = @p3;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, 0),
(@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 17:36:30.267 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:36:30.269 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 287.0744ms
2026-01-27 17:36:30.271 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:36:30.274 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 305.9015 ms
2026-01-27 17:36:30.276 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 314.1543ms
2026-01-27 17:43:23.761 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/shifts - application/json 155
2026-01-27 17:43:23.773 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:43:23.775 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API)'
2026-01-27 17:43:23.776 +03:00 [INF] Route matched with {action = "CreateShift", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] CreateShift(HRMS.Application.Features.Attendance.Configuration.CreateShiftTypeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:43:23.816 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 5), @p3='?' (DbType = Int16), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 100), @p8='?' (Size = 5), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[SHIFT_TYPES] ([CREATED_AT], [CREATED_BY], [END_TIME], [GRACE_PERIOD_MINS], [HOURS_COUNT], [IS_CROSS_DAY], [IS_DELETED], [SHIFT_NAME_AR], [START_TIME], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[SHIFT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-01-27 17:43:23.822 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:43:23.824 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API) in 44.5934ms
2026-01-27 17:43:23.835 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API)'
2026-01-27 17:43:23.837 +03:00 [INF] HTTP POST /api/AttendanceSettings/shifts responded 200 in 64.4151 ms
2026-01-27 17:43:23.841 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 80.1888ms
2026-01-27 17:43:51.749 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - application/json 94
2026-01-27 17:43:51.765 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:43:51.766 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:43:51.770 +03:00 [INF] Route matched with {action = "InitializeRoster", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] InitializeRoster(HRMS.Application.Features.Attendance.Roster.Commands.InitializeRoster.InitializeRosterCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:43:51.780 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:43:51.788 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_ShiftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
        WHERE [s].[SHIFT_ID] = @__request_ShiftId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:43:51.797 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_StartDate_1='?' (DbType = DateTime2), @__request_EndDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_DATE]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[ROSTER_DATE] >= @__request_StartDate_1 AND [e].[ROSTER_DATE] <= @__request_EndDate_2
2026-01-27 17:43:51.802 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 17:43:51.805 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API) in 31.2869ms
2026-01-27 17:43:51.861 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:43:51.878 +03:00 [INF] HTTP POST /api/AttendanceSettings/initialize-roster responded 200 in 113.3863 ms
2026-01-27 17:43:51.882 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - 200 null application/json; charset=utf-8 133.1091ms
2026-01-27 17:45:58.350 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - application/json 94
2026-01-27 17:45:58.358 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:45:58.360 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:45:58.362 +03:00 [INF] Route matched with {action = "InitializeRoster", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] InitializeRoster(HRMS.Application.Features.Attendance.Roster.Commands.InitializeRoster.InitializeRosterCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:45:58.381 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:45:58.396 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_ShiftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
        WHERE [s].[SHIFT_ID] = @__request_ShiftId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:45:58.410 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_StartDate_1='?' (DbType = DateTime2), @__request_EndDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_DATE]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[ROSTER_DATE] >= @__request_StartDate_1 AND [e].[ROSTER_DATE] <= @__request_EndDate_2
2026-01-27 17:45:58.415 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 17:45:58.417 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API) in 50.9295ms
2026-01-27 17:45:58.421 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:45:58.424 +03:00 [INF] HTTP POST /api/AttendanceSettings/initialize-roster responded 200 in 65.4605 ms
2026-01-27 17:45:58.427 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - 200 null application/json; charset=utf-8 77.0421ms
2026-01-27 17:46:21.950 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:46:21.956 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:46:21.958 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:46:21.960 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:46:22.106 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:46:22.169 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:46:22.183 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:46:22.197 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:46:22.230 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (DbType = Int16), @p8='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (DbType = DateTime2), @p15='?' (Size = 50), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (Size = 50), @p22='?' (DbType = Int16), @p23='?' (DbType = Int32), @p24='?' (Size = 1) (DbType = Byte), @p25='?' (DbType = Int16), @p26='?' (DbType = Int16), @p27='?' (DbType = Int32), @p28='?' (Size = 20), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, 0),
(@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 17:46:22.239 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:46:22.240 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 268.5425ms
2026-01-27 17:46:22.243 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:46:22.245 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 288.9339 ms
2026-01-27 17:46:22.248 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 298.6512ms
2026-01-27 17:51:03.558 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/shifts - application/json 150
2026-01-27 17:51:03.572 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:51:03.573 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API)'
2026-01-27 17:51:03.577 +03:00 [INF] Route matched with {action = "CreateShift", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] CreateShift(HRMS.Application.Features.Attendance.Configuration.CreateShiftTypeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:51:03.749 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 5), @p3='?' (DbType = Int16), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 100), @p8='?' (Size = 5), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[SHIFT_TYPES] ([CREATED_AT], [CREATED_BY], [END_TIME], [GRACE_PERIOD_MINS], [HOURS_COUNT], [IS_CROSS_DAY], [IS_DELETED], [SHIFT_NAME_AR], [START_TIME], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[SHIFT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-01-27 17:51:03.754 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:51:03.756 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API) in 173.6603ms
2026-01-27 17:51:03.758 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.CreateShift (HRMS.API)'
2026-01-27 17:51:03.760 +03:00 [INF] HTTP POST /api/AttendanceSettings/shifts responded 200 in 189.0123 ms
2026-01-27 17:51:03.763 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 205.0091ms
2026-01-27 17:51:40.910 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - application/json 94
2026-01-27 17:51:40.915 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:51:40.916 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:51:40.919 +03:00 [INF] Route matched with {action = "InitializeRoster", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] InitializeRoster(HRMS.Application.Features.Attendance.Roster.Commands.InitializeRoster.InitializeRosterCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:51:41.071 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:51:41.104 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_ShiftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
        WHERE [s].[SHIFT_ID] = @__request_ShiftId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 17:51:41.121 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_StartDate_1='?' (DbType = DateTime2), @__request_EndDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_DATE]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[ROSTER_DATE] >= @__request_StartDate_1 AND [e].[ROSTER_DATE] <= @__request_EndDate_2
2026-01-27 17:51:41.133 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] ([CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [IS_OFF_DAY], [ROSTER_DATE], [SHIFT_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[ROSTER_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-27 17:51:41.138 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 17:51:41.140 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API) in 217.1939ms
2026-01-27 17:51:41.147 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 17:51:41.153 +03:00 [INF] HTTP POST /api/AttendanceSettings/initialize-roster responded 200 in 238.7012 ms
2026-01-27 17:51:41.156 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - 200 null application/json; charset=utf-8 246.216ms
2026-01-27 17:52:50.584 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 17:52:50.588 +03:00 [INF] CORS policy execution successful.
2026-01-27 17:52:50.589 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:52:50.591 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 17:52:50.605 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 17:52:50.626 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 17:52:50.640 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 17:52:50.653 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 17:52:50.666 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int16), @p6='?' (DbType = Int32), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int16), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 20), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[DAILY_ATTENDANCE] ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[RECORD_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2026-01-27 17:52:50.673 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 17:52:50.675 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 79.5698ms
2026-01-27 17:52:50.685 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 17:52:50.688 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 99.7578 ms
2026-01-27 17:52:50.691 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 139.7486ms
2026-01-27 18:08:13.094 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 18:08:16.771 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 18:08:16.960 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 18:08:17.685 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 18:08:17.689 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 18:08:17.964 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 18:08:17.976 +03:00 [INF] Hosting environment: Development
2026-01-27 18:08:17.978 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 18:08:18.704 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 18:08:20.961 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 699.1935 ms
2026-01-27 18:08:21.195 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 2501.7202ms
2026-01-27 18:08:22.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 18:08:22.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 18:08:22.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 109.9543ms
2026-01-27 18:08:22.216 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 192.215ms
2026-01-27 18:08:51.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 18:08:52.275 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 395.7020 ms
2026-01-27 18:08:52.282 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1067.5319ms
2026-01-27 18:14:01.196 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - application/json 94
2026-01-27 18:14:01.220 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:14:01.232 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 18:14:01.276 +03:00 [INF] Route matched with {action = "InitializeRoster", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] InitializeRoster(HRMS.Application.Features.Attendance.Roster.Commands.InitializeRoster.InitializeRosterCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:14:04.010 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 18:14:04.013 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 18:14:04.017 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 18:14:05.521 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 18:14:05.594 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_ShiftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
        WHERE [s].[SHIFT_ID] = @__request_ShiftId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 18:14:05.646 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_EmployeeId_0='?' (DbType = Int32), @__request_StartDate_1='?' (DbType = DateTime2), @__request_EndDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_DATE]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__request_EmployeeId_0 AND [e].[ROSTER_DATE] >= @__request_StartDate_1 AND [e].[ROSTER_DATE] <= @__request_EndDate_2
2026-01-27 18:14:06.063 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 1) (DbType = Byte), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] ([CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [IS_DELETED], [IS_OFF_DAY], [ROSTER_DATE], [SHIFT_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[ROSTER_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-27 18:14:06.128 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 18:14:06.141 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API) in 4853.9679ms
2026-01-27 18:14:06.144 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.InitializeRoster (HRMS.API)'
2026-01-27 18:14:06.146 +03:00 [INF] HTTP POST /api/AttendanceSettings/initialize-roster responded 200 in 4930.7893 ms
2026-01-27 18:14:06.164 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/initialize-roster - 200 null application/json; charset=utf-8 4967.431ms
2026-01-27 18:15:11.556 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 18:15:11.634 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:15:11.636 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 18:15:11.646 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:15:12.051 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 18:15:12.294 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 18:15:12.378 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 18:15:12.431 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 18:15:12.700 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (DbType = Int16), @p8='?' (DbType = Int32), @p9='?' (Size = 1) (DbType = Byte), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (DbType = DateTime2), @p15='?' (Size = 50), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (Size = 50), @p22='?' (DbType = Int16), @p23='?' (DbType = Int32), @p24='?' (Size = 1) (DbType = Byte), @p25='?' (DbType = Int16), @p26='?' (DbType = Int16), @p27='?' (DbType = Int32), @p28='?' (Size = 20), @p29='?' (DbType = DateTime2), @p30='?' (Size = 50), @p31='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, 0),
(@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 18:15:12.738 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 18:15:12.820 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 1170.155ms
2026-01-27 18:15:12.849 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 18:15:12.851 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 1218.1519 ms
2026-01-27 18:15:12.855 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 1299.1415ms
2026-01-27 18:19:45.481 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 18:19:45.486 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:19:45.490 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 18:19:45.497 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:19:45.700 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 18:19:45.712 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 18:19:45.727 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 18:19:45.739 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 18:19:45.775 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = Int64), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 1) (DbType = Byte), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int32), @p15='?' (Size = 20), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int16), @p25='?' (DbType = Int32), @p26='?' (Size = 1) (DbType = Byte), @p27='?' (DbType = Int16), @p28='?' (DbType = Int16), @p29='?' (DbType = Int32), @p30='?' (Size = 20), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p2 AND [VERSION_NO] = @p3;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, 0),
(@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 18:19:45.784 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 18:19:45.787 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 285.6256ms
2026-01-27 18:19:45.789 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 18:19:45.790 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 304.8186 ms
2026-01-27 18:19:45.793 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 315.2896ms
2026-01-27 18:25:38.458 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/apply-swap - application/json 242
2026-01-27 18:25:38.588 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:25:38.596 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplySwap (HRMS.API)'
2026-01-27 18:25:38.608 +03:00 [INF] Route matched with {action = "ApplySwap", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ApplySwap(HRMS.Application.Features.Attendance.Requests.CreateSwapRequestCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:25:38.636 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 18:25:38.666 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplySwap (HRMS.API) in 53.7527ms
2026-01-27 18:25:38.673 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplySwap (HRMS.API)'
2026-01-27 18:25:38.675 +03:00 [INF] HTTP POST /api/AttendanceSettings/apply-swap responded 400 in 86.9791 ms
2026-01-27 18:25:38.677 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/apply-swap - 400 null application/problem+json; charset=utf-8 218.9887ms
2026-01-27 18:26:03.917 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/apply-swap - application/json 126
2026-01-27 18:26:04.041 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:26:04.044 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplySwap (HRMS.API)'
2026-01-27 18:26:04.050 +03:00 [INF] Route matched with {action = "ApplySwap", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ApplySwap(HRMS.Application.Features.Attendance.Requests.CreateSwapRequestCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:26:04.105 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_TargetEmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
        WHERE [e].[EMPLOYEE_ID] = @__request_TargetEmployeeId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-01-27 18:26:04.183 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (Size = 1) (DbType = Byte), @p3='?' (Size = 200), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 20), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[SHIFT_SWAP_REQUESTS] ([CREATED_AT], [CREATED_BY], [IS_DELETED], [MANAGER_COMMENT], [REQUESTER_ID], [ROSTER_DATE], [STATUS], [TARGET_EMPLOYEE_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[REQUEST_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-01-27 18:26:04.197 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 18:26:04.199 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplySwap (HRMS.API) in 134.5862ms
2026-01-27 18:26:04.214 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplySwap (HRMS.API)'
2026-01-27 18:26:04.215 +03:00 [INF] HTTP POST /api/AttendanceSettings/apply-swap responded 200 in 174.0255 ms
2026-01-27 18:26:04.218 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/apply-swap - 200 null application/json; charset=utf-8 300.806ms
2026-01-27 18:28:59.111 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - application/json 113
2026-01-27 18:28:59.117 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:28:59.118 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:28:59.130 +03:00 [INF] Route matched with {action = "ActionSwapRequest", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ActionSwapRequest(HRMS.Application.Features.Attendance.Requests.ActionSwapRequestCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:28:59.170 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 18:28:59.173 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API) in 9.7915ms
2026-01-27 18:28:59.176 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:28:59.177 +03:00 [INF] HTTP POST /api/AttendanceSettings/action-swap-request responded 400 in 60.3024 ms
2026-01-27 18:28:59.181 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - 400 null application/problem+json; charset=utf-8 70.2739ms
2026-01-27 18:29:35.043 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - application/json 113
2026-01-27 18:29:35.069 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:29:35.071 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:29:35.074 +03:00 [INF] Route matched with {action = "ActionSwapRequest", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ActionSwapRequest(HRMS.Application.Features.Attendance.Requests.ActionSwapRequestCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:29:35.085 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-27 18:29:35.087 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API) in 2.6484ms
2026-01-27 18:29:35.089 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:29:35.091 +03:00 [INF] HTTP POST /api/AttendanceSettings/action-swap-request responded 400 in 22.1903 ms
2026-01-27 18:29:35.095 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - 400 null application/problem+json; charset=utf-8 52.0954ms
2026-01-27 18:30:34.835 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - application/json 110
2026-01-27 18:30:34.840 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:30:34.841 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:30:34.843 +03:00 [INF] Route matched with {action = "ActionSwapRequest", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ActionSwapRequest(HRMS.Application.Features.Attendance.Requests.ActionSwapRequestCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:30:34.890 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_RequestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[REQUEST_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[IS_DELETED], [s].[MANAGER_COMMENT], [s].[REQUESTER_ID], [s].[ROSTER_DATE], [s].[STATUS], [s].[TARGET_EMPLOYEE_ID], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[SHIFT_SWAP_REQUESTS] AS [s]
WHERE [s].[REQUEST_ID] = @__request_RequestId_0
2026-01-27 18:30:34.900 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 18:30:34.903 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API) in 57.5604ms
2026-01-27 18:30:34.926 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:30:34.928 +03:00 [INF] HTTP POST /api/AttendanceSettings/action-swap-request responded 400 in 87.8336 ms
2026-01-27 18:30:34.931 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - 400 null application/json; charset=utf-8 96.1913ms
2026-01-27 18:31:35.727 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - application/json 155
2026-01-27 18:31:35.731 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:31:35.732 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:31:35.734 +03:00 [INF] Route matched with {action = "ActionSwapRequest", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ActionSwapRequest(HRMS.Application.Features.Attendance.Requests.ActionSwapRequestCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:31:35.752 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_RequestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[REQUEST_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[IS_DELETED], [s].[MANAGER_COMMENT], [s].[REQUESTER_ID], [s].[ROSTER_DATE], [s].[STATUS], [s].[TARGET_EMPLOYEE_ID], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[SHIFT_SWAP_REQUESTS] AS [s]
WHERE [s].[REQUEST_ID] = @__request_RequestId_0
2026-01-27 18:31:35.757 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-27 18:31:35.760 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API) in 22.1426ms
2026-01-27 18:31:35.774 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:31:35.776 +03:00 [INF] HTTP POST /api/AttendanceSettings/action-swap-request responded 400 in 45.0749 ms
2026-01-27 18:31:35.779 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - 400 null application/json; charset=utf-8 52.4735ms
2026-01-27 18:31:51.395 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - application/json 154
2026-01-27 18:31:51.405 +03:00 [INF] CORS policy execution successful.
2026-01-27 18:31:51.407 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:31:51.411 +03:00 [INF] Route matched with {action = "ActionSwapRequest", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ActionSwapRequest(HRMS.Application.Features.Attendance.Requests.ActionSwapRequestCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 18:31:51.449 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_RequestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[REQUEST_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[IS_DELETED], [s].[MANAGER_COMMENT], [s].[REQUESTER_ID], [s].[ROSTER_DATE], [s].[STATUS], [s].[TARGET_EMPLOYEE_ID], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[SHIFT_SWAP_REQUESTS] AS [s]
WHERE [s].[REQUEST_ID] = @__request_RequestId_0
2026-01-27 18:31:51.480 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__swapRequest_RequesterId_0='?' (DbType = Int32), @__swapRequest_RosterDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__swapRequest_RequesterId_0 AND [e].[ROSTER_DATE] = @__swapRequest_RosterDate_1
2026-01-27 18:31:51.503 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__swapRequest_TargetEmployeeId_0='?' (DbType = Int32), @__swapRequest_RosterDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
WHERE [e].[EMPLOYEE_ID] = @__swapRequest_TargetEmployeeId_0 AND [e].[ROSTER_DATE] = @__swapRequest_RosterDate_1
2026-01-27 18:31:51.546 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p4='?' (DbType = Int64), @p3='?' (DbType = Int32), @p5='?' (DbType = Int32), @p8='?' (DbType = Int32), @p6='?' (Size = 200), @p7='?' (Size = 20), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] SET [SHIFT_ID] = @p0
OUTPUT 1
WHERE [ROSTER_ID] = @p1 AND [VERSION_NO] = @p2;
UPDATE [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] SET [SHIFT_ID] = @p3
OUTPUT 1
WHERE [ROSTER_ID] = @p4 AND [VERSION_NO] = @p5;
UPDATE [HR_ATTENDANCE].[SHIFT_SWAP_REQUESTS] SET [MANAGER_COMMENT] = @p6, [STATUS] = @p7
OUTPUT 1
WHERE [REQUEST_ID] = @p8 AND [VERSION_NO] = @p9;
2026-01-27 18:31:51.553 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 18:31:51.555 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API) in 111.2012ms
2026-01-27 18:31:51.558 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionSwapRequest (HRMS.API)'
2026-01-27 18:31:51.559 +03:00 [INF] HTTP POST /api/AttendanceSettings/action-swap-request responded 200 in 154.4649 ms
2026-01-27 18:31:51.562 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-swap-request - 200 null application/json; charset=utf-8 166.926ms
2026-01-27 18:42:04.961 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 18:42:08.170 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 18:42:08.252 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 18:42:08.846 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 18:42:08.848 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 18:42:09.001 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 18:42:09.055 +03:00 [INF] Hosting environment: Development
2026-01-27 18:42:09.056 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 18:42:10.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 18:42:11.577 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 617.7663 ms
2026-01-27 18:42:11.615 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 1084.9514ms
2026-01-27 18:42:11.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 18:42:11.853 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 156.1269ms
2026-01-27 18:42:12.576 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 18:42:13.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 523.7937ms
2026-01-27 18:42:14.490 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 18:42:14.992 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 479.9597 ms
2026-01-27 18:42:14.995 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 504.8954ms
2026-01-27 19:20:33.471 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/apply-overtime - application/json 166
2026-01-27 19:20:33.484 +03:00 [INF] CORS policy execution successful.
2026-01-27 19:20:33.498 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplyOvertime (HRMS.API)'
2026-01-27 19:20:33.564 +03:00 [INF] Route matched with {action = "ApplyOvertime", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ApplyOvertime(HRMS.Application.Features.Attendance.Requests.ApplyOvertimeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 19:20:36.455 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 19:20:36.459 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 19:20:36.462 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 19:20:38.352 +03:00 [INF] Executed DbCommand (135ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 4) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Precision = 4) (Scale = 2) (DbType = Decimal), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 200), @p8='?' (DbType = DateTime2), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_ATTENDANCE].[OVERTIME_REQUESTS] ([APPROVED_BY], [APPROVED_HOURS], [CREATED_AT], [CREATED_BY], [EMPLOYEE_ID], [HOURS_REQUESTED], [IS_DELETED], [REASON], [REQUEST_DATE], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], [WORK_DATE])
OUTPUT INSERTED.[OT_REQUEST_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-27 19:20:38.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 19:20:38.476 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplyOvertime (HRMS.API) in 4900.7787ms
2026-01-27 19:20:38.481 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ApplyOvertime (HRMS.API)'
2026-01-27 19:20:38.483 +03:00 [INF] HTTP POST /api/AttendanceSettings/apply-overtime responded 200 in 5003.4954 ms
2026-01-27 19:20:38.512 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/apply-overtime - 200 null application/json; charset=utf-8 5041.3017ms
2026-01-27 19:21:46.624 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-overtime - application/json 151
2026-01-27 19:21:46.644 +03:00 [INF] CORS policy execution successful.
2026-01-27 19:21:46.646 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API)'
2026-01-27 19:21:46.655 +03:00 [INF] Route matched with {action = "ActionOvertime", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ActionOvertime(HRMS.Application.Features.Attendance.Requests.ActionOvertimeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 19:21:47.323 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_RequestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OT_REQUEST_ID], [o].[APPROVED_BY], [o].[APPROVED_HOURS], [o].[CREATED_AT], [o].[CREATED_BY], [o].[EMPLOYEE_ID], [o].[HOURS_REQUESTED], [o].[IS_DELETED], [o].[REASON], [o].[REQUEST_DATE], [o].[STATUS], [o].[UPDATED_AT], [o].[UPDATED_BY], [o].[VERSION_NO], [o].[WORK_DATE]
FROM [HR_ATTENDANCE].[OVERTIME_REQUESTS] AS [o]
WHERE [o].[OT_REQUEST_ID] = @__request_RequestId_0
2026-01-27 19:21:47.386 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Precision = 4) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 20), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_ATTENDANCE].[OVERTIME_REQUESTS] SET [APPROVED_BY] = @p0, [APPROVED_HOURS] = @p1, [STATUS] = @p2
OUTPUT 1
WHERE [OT_REQUEST_ID] = @p3 AND [VERSION_NO] = @p4;
2026-01-27 19:21:47.447 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_OVERTIME_REQUESTS_EMPLOYEES_APPROVED_BY". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:608cb629-1150-4286-bccc-7fa99798eb07
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_OVERTIME_REQUESTS_EMPLOYEES_APPROVED_BY". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:608cb629-1150-4286-bccc-7fa99798eb07
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-27 19:22:44.493 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API) in 57833.9873ms
2026-01-27 19:22:44.507 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API)'
2026-01-27 19:22:45.060 +03:00 [ERR] Global Exception Caught: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_OVERTIME_REQUESTS_EMPLOYEES_APPROVED_BY". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:608cb629-1150-4286-bccc-7fa99798eb07
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Attendance.Requests.ActionOvertimeHandler.Handle(ActionOvertimeCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Attendance\Requests\OvertimeFeatures.cs:line 136
   at HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime(ActionOvertimeCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Attendance\AttendanceSettingsController.cs:line 104
   at lambda_method248(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 19:22:45.116 +03:00 [INF] HTTP POST /api/AttendanceSettings/action-overtime responded 400 in 58472.5915 ms
2026-01-27 19:22:45.118 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-overtime - 400 null application/json 58494.417ms
2026-01-27 19:23:12.237 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-overtime - application/json 151
2026-01-27 19:23:12.440 +03:00 [INF] CORS policy execution successful.
2026-01-27 19:23:12.441 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API)'
2026-01-27 19:23:12.443 +03:00 [INF] Route matched with {action = "ActionOvertime", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ActionOvertime(HRMS.Application.Features.Attendance.Requests.ActionOvertimeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 19:23:12.493 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_RequestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OT_REQUEST_ID], [o].[APPROVED_BY], [o].[APPROVED_HOURS], [o].[CREATED_AT], [o].[CREATED_BY], [o].[EMPLOYEE_ID], [o].[HOURS_REQUESTED], [o].[IS_DELETED], [o].[REASON], [o].[REQUEST_DATE], [o].[STATUS], [o].[UPDATED_AT], [o].[UPDATED_BY], [o].[VERSION_NO], [o].[WORK_DATE]
FROM [HR_ATTENDANCE].[OVERTIME_REQUESTS] AS [o]
WHERE [o].[OT_REQUEST_ID] = @__request_RequestId_0
2026-01-27 19:23:12.555 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Precision = 4) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 20), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_ATTENDANCE].[OVERTIME_REQUESTS] SET [APPROVED_BY] = @p0, [APPROVED_HOURS] = @p1, [STATUS] = @p2
OUTPUT 1
WHERE [OT_REQUEST_ID] = @p3 AND [VERSION_NO] = @p4;
2026-01-27 19:23:12.568 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_OVERTIME_REQUESTS_EMPLOYEES_APPROVED_BY". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:608cb629-1150-4286-bccc-7fa99798eb07
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_OVERTIME_REQUESTS_EMPLOYEES_APPROVED_BY". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:608cb629-1150-4286-bccc-7fa99798eb07
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-27 19:23:18.674 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API) in 6226.9914ms
2026-01-27 19:23:18.682 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API)'
2026-01-27 19:23:19.143 +03:00 [ERR] Global Exception Caught: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_OVERTIME_REQUESTS_EMPLOYEES_APPROVED_BY". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:608cb629-1150-4286-bccc-7fa99798eb07
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Attendance.Requests.ActionOvertimeHandler.Handle(ActionOvertimeCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Attendance\Requests\OvertimeFeatures.cs:line 136
   at HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime(ActionOvertimeCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\Attendance\AttendanceSettingsController.cs:line 104
   at lambda_method248(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at HRMS.API.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Middleware\GlobalExceptionMiddleware.cs:line 25
2026-01-27 19:23:19.186 +03:00 [INF] HTTP POST /api/AttendanceSettings/action-overtime responded 400 in 6745.7166 ms
2026-01-27 19:23:19.242 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-overtime - 400 null application/json 7005.1507ms
2026-01-27 19:26:01.546 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-overtime - application/json 152
2026-01-27 19:26:01.549 +03:00 [INF] CORS policy execution successful.
2026-01-27 19:26:01.551 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API)'
2026-01-27 19:26:01.553 +03:00 [INF] Route matched with {action = "ActionOvertime", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] ActionOvertime(HRMS.Application.Features.Attendance.Requests.ActionOvertimeCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 19:26:01.582 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_RequestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OT_REQUEST_ID], [o].[APPROVED_BY], [o].[APPROVED_HOURS], [o].[CREATED_AT], [o].[CREATED_BY], [o].[EMPLOYEE_ID], [o].[HOURS_REQUESTED], [o].[IS_DELETED], [o].[REASON], [o].[REQUEST_DATE], [o].[STATUS], [o].[UPDATED_AT], [o].[UPDATED_BY], [o].[VERSION_NO], [o].[WORK_DATE]
FROM [HR_ATTENDANCE].[OVERTIME_REQUESTS] AS [o]
WHERE [o].[OT_REQUEST_ID] = @__request_RequestId_0
2026-01-27 19:26:01.724 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Precision = 4) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 20), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_ATTENDANCE].[OVERTIME_REQUESTS] SET [APPROVED_BY] = @p0, [APPROVED_HOURS] = @p1, [STATUS] = @p2
OUTPUT 1
WHERE [OT_REQUEST_ID] = @p3 AND [VERSION_NO] = @p4;
2026-01-27 19:26:01.733 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2026-01-27 19:26:01.736 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API) in 176.9643ms
2026-01-27 19:26:01.772 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ActionOvertime (HRMS.API)'
2026-01-27 19:26:01.774 +03:00 [INF] HTTP POST /api/AttendanceSettings/action-overtime responded 200 in 224.7646 ms
2026-01-27 19:26:01.777 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/action-overtime - 200 null application/json; charset=utf-8 231.2599ms
2026-01-27 19:30:05.974 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 19:30:06.101 +03:00 [INF] CORS policy execution successful.
2026-01-27 19:30:06.102 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 19:30:06.111 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 19:30:06.278 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 19:30:06.490 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 19:30:06.570 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 19:30:06.603 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OT_REQUEST_ID], [o].[APPROVED_BY], [o].[APPROVED_HOURS], [o].[CREATED_AT], [o].[CREATED_BY], [o].[EMPLOYEE_ID], [o].[HOURS_REQUESTED], [o].[IS_DELETED], [o].[REASON], [o].[REQUEST_DATE], [o].[STATUS], [o].[UPDATED_AT], [o].[UPDATED_BY], [o].[VERSION_NO], [o].[WORK_DATE]
FROM [HR_ATTENDANCE].[OVERTIME_REQUESTS] AS [o]
WHERE [o].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [o].[STATUS] = N'APPROVED' AND [o].[WORK_DATE] = @__targetDate_1
2026-01-27 19:30:06.641 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 19:30:06.872 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = Int64), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 1) (DbType = Byte), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int32), @p15='?' (Size = 20), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int16), @p25='?' (DbType = Int32), @p26='?' (Size = 1) (DbType = Byte), @p27='?' (DbType = Int16), @p28='?' (DbType = Int16), @p29='?' (DbType = Int32), @p30='?' (Size = 20), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p2 AND [VERSION_NO] = @p3;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, 0),
(@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 19:30:06.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 19:30:06.916 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 801.5574ms
2026-01-27 19:30:06.961 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 19:30:06.963 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 862.8268 ms
2026-01-27 19:30:06.966 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 992.2451ms
2026-01-27 19:38:53.024 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - application/json 32
2026-01-27 19:38:53.027 +03:00 [INF] CORS policy execution successful.
2026-01-27 19:38:53.029 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 19:38:53.030 +03:00 [INF] Route matched with {action = "ProcessAttendance", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] ProcessAttendance(HRMS.Application.Features.Attendance.Process.Commands.ProcessAttendance.ProcessAttendanceCommand) on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 19:38:53.090 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ROSTER_ID], [e].[CREATED_AT], [e].[CREATED_BY], [e].[EMPLOYEE_ID], [e].[IS_DELETED], [e].[IS_OFF_DAY], [e].[ROSTER_DATE], [e].[SHIFT_ID], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [s].[SHIFT_ID], [s].[CREATED_AT], [s].[CREATED_BY], [s].[END_TIME], [s].[GRACE_PERIOD_MINS], [s].[HOURS_COUNT], [s].[IS_CROSS_DAY], [s].[IS_DELETED], [s].[SHIFT_NAME_AR], [s].[START_TIME], [s].[UPDATED_AT], [s].[UPDATED_BY], [s].[VERSION_NO]
FROM [HR_ATTENDANCE].[EMPLOYEE_ROSTERS] AS [e]
LEFT JOIN [HR_ATTENDANCE].[SHIFT_TYPES] AS [s] ON [e].[SHIFT_ID] = [s].[SHIFT_ID]
WHERE [e].[ROSTER_DATE] = @__targetDate_0
2026-01-27 19:38:53.107 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__startRange_1='?' (DbType = DateTime2), @__endRange_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[LOG_ID], [r].[CREATED_AT], [r].[CREATED_BY], [r].[DEVICE_ID], [r].[EMPLOYEE_ID], [r].[IS_DELETED], [r].[IS_PROCESSED], [r].[PUNCH_TIME], [r].[PUNCH_TYPE], [r].[UPDATED_AT], [r].[UPDATED_BY], [r].[VERSION_NO]
FROM [HR_ATTENDANCE].[RAW_PUNCH_LOGS] AS [r]
WHERE [r].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [r].[PUNCH_TIME] >= @__startRange_1 AND [r].[PUNCH_TIME] < @__endRange_2
2026-01-27 19:38:53.194 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[REQUEST_ID], [l].[ATTACHMENT_PATH], [l].[CREATED_AT], [l].[CREATED_BY], [l].[DAYS_COUNT], [l].[EMPLOYEE_ID], [l].[END_DATE], [l].[IS_DELETED], [l].[IS_POSTED_TO_BALANCE], [l].[LEAVE_TYPE_ID], [l].[REASON], [l].[REJECTION_REASON], [l].[START_DATE], [l].[STATUS], [l].[UPDATED_AT], [l].[UPDATED_BY], [l].[VERSION_NO]
FROM [HR_LEAVES].[LEAVE_REQUESTS] AS [l]
WHERE [l].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [l].[STATUS] = N'APPROVED' AND [l].[START_DATE] <= @__targetDate_1 AND [l].[END_DATE] >= @__targetDate_1
2026-01-27 19:38:53.205 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__employeeIds_0='?' (Size = 4000), @__targetDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OT_REQUEST_ID], [o].[APPROVED_BY], [o].[APPROVED_HOURS], [o].[CREATED_AT], [o].[CREATED_BY], [o].[EMPLOYEE_ID], [o].[HOURS_REQUESTED], [o].[IS_DELETED], [o].[REASON], [o].[REQUEST_DATE], [o].[STATUS], [o].[UPDATED_AT], [o].[UPDATED_BY], [o].[VERSION_NO], [o].[WORK_DATE]
FROM [HR_ATTENDANCE].[OVERTIME_REQUESTS] AS [o]
WHERE [o].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_0) WITH ([value] int '$') AS [e]
) AND [o].[STATUS] = N'APPROVED' AND [o].[WORK_DATE] = @__targetDate_1
2026-01-27 19:38:53.217 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__targetDate_0='?' (DbType = DateTime2), @__employeeIds_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[RECORD_ID], [d].[ACTUAL_IN_TIME], [d].[ACTUAL_OUT_TIME], [d].[ATTENDANCE_DATE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[EARLY_LEAVE_MINUTES], [d].[EMPLOYEE_ID], [d].[IS_DELETED], [d].[LATE_MINUTES], [d].[OVERTIME_MINUTES], [d].[PLANNED_SHIFT_ID], [d].[STATUS], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE] AS [d]
WHERE [d].[ATTENDANCE_DATE] = @__targetDate_0 AND [d].[EMPLOYEE_ID] IN (
    SELECT [e].[value]
    FROM OPENJSON(@__employeeIds_1) WITH ([value] int '$') AS [e]
)
2026-01-27 19:38:53.245 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = Int64), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int16), @p10='?' (DbType = Int32), @p11='?' (Size = 1) (DbType = Byte), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int32), @p15='?' (Size = 20), @p16='?' (DbType = DateTime2), @p17='?' (Size = 50), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (Size = 50), @p24='?' (DbType = Int16), @p25='?' (DbType = Int32), @p26='?' (Size = 1) (DbType = Byte), @p27='?' (DbType = Int16), @p28='?' (DbType = Int16), @p29='?' (DbType = Int32), @p30='?' (Size = 20), @p31='?' (DbType = DateTime2), @p32='?' (Size = 50), @p33='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p0 AND [VERSION_NO] = @p1;
DELETE FROM [HR_ATTENDANCE].[DAILY_ATTENDANCE]
OUTPUT 1
WHERE [RECORD_ID] = @p2 AND [VERSION_NO] = @p3;
MERGE [HR_ATTENDANCE].[DAILY_ATTENDANCE] USING (
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, 0),
(@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 1)) AS i ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ACTUAL_IN_TIME], [ACTUAL_OUT_TIME], [ATTENDANCE_DATE], [CREATED_AT], [CREATED_BY], [EARLY_LEAVE_MINUTES], [EMPLOYEE_ID], [IS_DELETED], [LATE_MINUTES], [OVERTIME_MINUTES], [PLANNED_SHIFT_ID], [STATUS], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
VALUES (i.[ACTUAL_IN_TIME], i.[ACTUAL_OUT_TIME], i.[ATTENDANCE_DATE], i.[CREATED_AT], i.[CREATED_BY], i.[EARLY_LEAVE_MINUTES], i.[EMPLOYEE_ID], i.[IS_DELETED], i.[LATE_MINUTES], i.[OVERTIME_MINUTES], i.[PLANNED_SHIFT_ID], i.[STATUS], i.[UPDATED_AT], i.[UPDATED_BY], i.[VERSION_NO])
OUTPUT INSERTED.[RECORD_ID], i._Position;
2026-01-27 19:38:53.254 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2026-01-27 19:38:53.256 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API) in 223.1878ms
2026-01-27 19:38:53.258 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.ProcessAttendance (HRMS.API)'
2026-01-27 19:38:53.260 +03:00 [INF] HTTP POST /api/AttendanceSettings/process-attendance responded 200 in 232.7686 ms
2026-01-27 19:38:53.262 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/AttendanceSettings/process-attendance - 200 null application/json; charset=utf-8 238.8024ms
2026-01-27 20:07:33.744 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-27 20:07:37.354 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-27 20:07:37.432 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-27 20:07:38.000 +03:00 [INF] Now listening on: https://localhost:5001
2026-01-27 20:07:38.003 +03:00 [INF] Now listening on: http://localhost:5000
2026-01-27 20:07:38.158 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-27 20:07:38.162 +03:00 [INF] Hosting environment: Development
2026-01-27 20:07:38.163 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-27 20:07:39.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2026-01-27 20:07:39.953 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 348.9497 ms
2026-01-27 20:07:39.991 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 666.372ms
2026-01-27 20:07:40.030 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 20:07:40.901 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2026-01-27 20:07:41.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 1269.811ms
2026-01-27 20:07:41.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 549.2646ms
2026-01-27 20:07:42.757 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 20:07:43.275 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 514.2870 ms
2026-01-27 20:07:43.280 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 523.5906ms
2026-01-27 21:10:58.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 21:10:58.517 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 29.0678ms
2026-01-27 21:10:59.655 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 21:11:00.015 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 354.3725 ms
2026-01-27 21:11:00.036 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 380.7622ms
2026-01-27 21:11:21.920 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2026-01-27 21:11:22.020 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 99.418ms
2026-01-27 21:11:24.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2026-01-27 21:11:24.369 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 222.3759 ms
2026-01-27 21:11:24.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 235.3182ms
2026-01-27 21:33:50.967 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - null null
2026-01-27 21:33:51.000 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-01-27 21:33:51.032 +03:00 [INF] Route matched with {action = "GetAllShifts", controller = "AttendanceSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.Features.Attendance.Configuration.ShiftTypeDto]]] GetAllShifts() on controller HRMS.API.Controllers.Attendance.AttendanceSettingsController (HRMS.API).
2026-01-27 21:33:53.406 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 21:33:53.409 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 21:33:53.412 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-27 21:33:55.374 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SHIFT_ID] AS [ShiftId], [s].[SHIFT_NAME_AR] AS [ShiftNameAr], [s].[START_TIME] AS [StartTime], [s].[END_TIME] AS [EndTime], [s].[HOURS_COUNT] AS [HoursCount], [s].[IS_CROSS_DAY] AS [IsCrossDay], [s].[GRACE_PERIOD_MINS] AS [GracePeriodMins]
FROM [HR_ATTENDANCE].[SHIFT_TYPES] AS [s]
WHERE [s].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [s].[SHIFT_ID]
2026-01-27 21:33:55.444 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.Features.Attendance.Configuration.ShiftTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-27 21:33:55.481 +03:00 [INF] Executed action HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API) in 4439.3226ms
2026-01-27 21:33:55.487 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Attendance.AttendanceSettingsController.GetAllShifts (HRMS.API)'
2026-01-27 21:33:55.489 +03:00 [INF] HTTP GET /api/AttendanceSettings/shifts responded 200 in 4493.6955 ms
2026-01-27 21:33:55.534 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/AttendanceSettings/shifts - 200 null application/json; charset=utf-8 4569.9161ms
