2026-01-25 00:02:13.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Cities - null null
2026-01-25 00:02:13.384 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-25 00:02:13.654 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-25 00:02:13.656 +03:00 [INF] HTTP GET /api/Cities responded 401 in 280.1455 ms
2026-01-25 00:02:13.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Cities - 401 0 null 378.1118ms
2026-01-25 00:03:41.121 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 115
2026-01-25 00:03:41.143 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:03:41.150 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-01-25 00:03:41.164 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-25 00:03:41.166 +03:00 [INF] HTTP POST /api/Countries responded 401 in 26.2989 ms
2026-01-25 00:03:41.169 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 401 0 null 47.9908ms
2026-01-25 00:14:28.649 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 00:14:35.903 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 00:14:38.131 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 00:14:42.060 +03:00 [INF] Executed DbCommand (236ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.274 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.297 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.328 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.335 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.350 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.361 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.370 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.378 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:14:42.410 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 00:14:42.512 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 00:14:42.519 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 00:14:42.976 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 00:14:42.978 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 00:14:43.146 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 00:14:43.183 +03:00 [INF] Hosting environment: Development
2026-01-25 00:14:43.184 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 00:15:02.587 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:15:05.552 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2760.3703 ms
2026-01-25 00:15:05.575 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 2998.7455ms
2026-01-25 00:15:06.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:15:06.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:15:06.370 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 13.0628ms
2026-01-25 00:15:06.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.9238ms
2026-01-25 00:15:07.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:15:07.296 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 191.4858 ms
2026-01-25 00:15:07.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 306.393ms
2026-01-25 00:15:20.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks - null null
2026-01-25 00:15:20.266 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-25 00:15:20.343 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-25 00:15:20.367 +03:00 [INF] HTTP GET /api/Banks responded 401 in 120.1367 ms
2026-01-25 00:15:20.370 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks - 401 0 null 129.8035ms
2026-01-25 00:19:30.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:19:30.696 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.1321 ms
2026-01-25 00:19:30.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 84.5427ms
2026-01-25 00:19:31.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:19:31.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:19:31.483 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 5.522ms
2026-01-25 00:19:31.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.2516ms
2026-01-25 00:19:32.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:19:32.567 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 220.1459 ms
2026-01-25 00:19:32.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 589.1649ms
2026-01-25 00:21:53.939 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:21:53.959 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:21:53.966 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-01-25 00:21:53.972 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-25 00:21:53.974 +03:00 [INF] HTTP POST /api/Countries responded 401 in 20.8323 ms
2026-01-25 00:21:53.977 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 401 0 null 38.3542ms
2026-01-25 00:22:59.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:23:49.139 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 00:23:51.641 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 00:23:53.399 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 00:23:54.862 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.065 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.118 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.122 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.127 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.144 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.150 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.155 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.161 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.168 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.178 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:23:55.216 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 00:23:55.313 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 00:23:55.327 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 00:23:55.896 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 00:23:55.897 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 00:23:56.084 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 00:23:56.090 +03:00 [INF] Hosting environment: Development
2026-01-25 00:23:56.140 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 00:24:03.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:24:04.597 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 370.7667 ms
2026-01-25 00:24:05.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 1704.6058ms
2026-01-25 00:24:05.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:24:05.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:24:05.741 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 46.847ms
2026-01-25 00:24:05.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 175.1179ms
2026-01-25 00:24:06.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:24:06.919 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 217.2308 ms
2026-01-25 00:24:06.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 255.6036ms
2026-01-25 00:24:19.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:24:19.200 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 11.9280 ms
2026-01-25 00:24:19.256 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:24:19.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:24:19.270 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 109.2332ms
2026-01-25 00:24:19.331 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 75.5609ms
2026-01-25 00:24:19.397 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 138.8073ms
2026-01-25 00:24:19.655 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:24:20.285 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 110.7594 ms
2026-01-25 00:24:20.288 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 633.3298ms
2026-01-25 00:24:39.123 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:24:39.139 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:24:39.179 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-01-25 00:24:39.186 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-25 00:24:39.187 +03:00 [INF] HTTP POST /api/Countries responded 401 in 55.8311 ms
2026-01-25 00:24:39.193 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 401 0 null 69.8562ms
2026-01-25 00:24:49.571 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:24:49.576 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 0.6611 ms
2026-01-25 00:24:49.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:24:49.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:24:49.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 69.9021ms
2026-01-25 00:24:49.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 20.3339ms
2026-01-25 00:24:49.662 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.2905ms
2026-01-25 00:24:51.075 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:24:51.692 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 176.6263 ms
2026-01-25 00:24:51.735 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 659.8598ms
2026-01-25 00:25:02.880 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:25:02.986 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:25:02.989 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin|HR_Manager)
2026-01-25 00:25:02.991 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-25 00:25:02.992 +03:00 [INF] HTTP POST /api/Countries responded 401 in 6.3927 ms
2026-01-25 00:25:02.997 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 401 0 null 117.282ms
2026-01-25 00:28:03.169 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 00:28:06.218 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 00:28:08.379 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 00:28:09.885 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.167 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.292 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.296 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.314 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.814 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.820 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.837 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.851 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:28:10.887 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 00:28:11.007 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 00:28:11.022 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 00:28:11.507 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 00:28:11.509 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 00:28:11.658 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 00:28:11.720 +03:00 [INF] Hosting environment: Development
2026-01-25 00:28:11.721 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 00:28:40.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:28:41.166 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 357.8239 ms
2026-01-25 00:28:41.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 573.0093ms
2026-01-25 00:28:41.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:28:41.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:28:41.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 13.9511ms
2026-01-25 00:28:41.504 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.587ms
2026-01-25 00:28:41.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:28:42.363 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 153.0829 ms
2026-01-25 00:28:42.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 639.8047ms
2026-01-25 00:28:59.338 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:28:59.372 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:28:59.500 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:28:59.539 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 00:28:59.548 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-25 00:32:01.051 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 181504.4105ms
2026-01-25 00:32:01.064 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:32:01.067 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CountriesController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 00:32:01.113 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 181761.8664 ms
2026-01-25 00:32:01.115 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 181777.0693ms
2026-01-25 00:32:02.503 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:32:03.252 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 3.3990 ms
2026-01-25 00:32:03.365 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:32:04.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 1565.8066ms
2026-01-25 00:32:03.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:32:04.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 978.6509ms
2026-01-25 00:32:04.351 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 993.3284ms
2026-01-25 00:32:04.815 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:32:05.444 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 149.8361 ms
2026-01-25 00:32:05.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 633.0569ms
2026-01-25 00:32:54.346 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:32:54.383 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:32:54.384 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:32:54.393 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 00:33:11.368 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 16972.4476ms
2026-01-25 00:33:11.417 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:33:11.419 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CountriesController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 00:33:11.438 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 17055.9696 ms
2026-01-25 00:33:11.440 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 17094.4474ms
2026-01-25 00:33:46.731 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 00:33:50.000 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 00:33:52.102 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 00:33:53.800 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:53.980 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:53.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.004 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.008 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.014 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.021 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.031 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.036 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.046 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.058 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:33:54.096 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 00:33:54.189 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 00:33:54.198 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 00:33:54.680 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 00:33:54.681 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 00:33:54.842 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 00:33:54.849 +03:00 [INF] Hosting environment: Development
2026-01-25 00:33:54.861 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 00:34:05.429 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:34:06.134 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 309.1640 ms
2026-01-25 00:34:06.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:34:06.151 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:34:06.196 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 791.6042ms
2026-01-25 00:34:06.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 64.8613ms
2026-01-25 00:34:06.287 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.6986ms
2026-01-25 00:34:06.989 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:34:07.284 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 275.4385 ms
2026-01-25 00:34:07.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 460.6024ms
2026-01-25 00:34:18.739 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:34:18.756 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:34:18.780 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:34:18.818 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 00:34:18.834 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-25 00:36:19.706 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 120878.6771ms
2026-01-25 00:36:19.709 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:36:19.719 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CountriesController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 00:36:19.775 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 121028.2629 ms
2026-01-25 00:36:19.783 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 121043.9978ms
2026-01-25 00:46:58.886 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 00:47:05.469 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 00:47:07.196 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 00:47:10.481 +03:00 [INF] Executed DbCommand (218ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.675 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.714 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.720 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.740 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.757 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.765 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.779 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.802 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.810 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 00:47:10.847 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 00:47:10.956 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 00:47:10.963 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 00:47:11.486 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 00:47:11.488 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 00:47:11.615 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 00:47:11.617 +03:00 [INF] Hosting environment: Development
2026-01-25 00:47:11.618 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 00:47:27.431 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:47:30.226 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2579.6573 ms
2026-01-25 00:47:30.243 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:47:30.243 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:47:30.280 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 2864.7338ms
2026-01-25 00:47:30.281 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 37.7081ms
2026-01-25 00:47:30.350 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 107.2319ms
2026-01-25 00:47:30.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:47:31.118 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 205.7387 ms
2026-01-25 00:47:31.236 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 340.5983ms
2026-01-25 00:49:35.484 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:49:35.530 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:49:35.551 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:49:35.587 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 00:49:35.596 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-25 00:53:29.370 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 233769.3782ms
2026-01-25 00:53:29.375 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:53:29.390 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 00:53:29.434 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 233911.3203 ms
2026-01-25 00:53:29.444 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 233960.3134ms
2026-01-25 00:53:30.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 00:53:30.364 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 5.3757 ms
2026-01-25 00:53:30.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 00:53:30.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 00:53:30.871 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 535.9599ms
2026-01-25 00:53:30.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 450.3504ms
2026-01-25 00:53:30.965 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 537.1375ms
2026-01-25 00:53:31.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 00:53:32.101 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 188.4191 ms
2026-01-25 00:53:32.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 696.9134ms
2026-01-25 00:54:15.787 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:54:15.802 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:54:15.805 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:54:15.822 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 00:54:50.870 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 35045.1422ms
2026-01-25 00:54:50.922 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:54:50.924 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 00:54:50.948 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 35145.9399 ms
2026-01-25 00:54:50.951 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 35164.3523ms
2026-01-25 00:55:58.203 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 118
2026-01-25 00:55:58.220 +03:00 [INF] CORS policy execution successful.
2026-01-25 00:55:58.221 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:55:58.224 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 00:58:30.803 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 152574.2155ms
2026-01-25 00:58:30.860 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 00:58:30.862 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0(CancellationToken t)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 00:58:30.886 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 152665.8318 ms
2026-01-25 00:58:30.888 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 152685.5278ms
2026-01-25 01:01:39.713 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 01:01:43.131 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 01:01:46.149 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 01:01:48.162 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.352 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.357 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.380 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.385 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.392 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.414 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.421 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 01:01:48.503 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 01:01:48.611 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 01:01:48.619 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 01:01:49.086 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 01:01:49.088 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 01:01:49.250 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 01:01:49.269 +03:00 [INF] Hosting environment: Development
2026-01-25 01:01:49.270 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 01:01:53.582 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 01:01:55.836 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1992.0024 ms
2026-01-25 01:01:55.860 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 2291.1356ms
2026-01-25 01:01:56.274 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 01:01:56.274 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 01:01:56.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 19.5859ms
2026-01-25 01:01:56.384 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 109.9847ms
2026-01-25 01:01:56.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 01:01:57.557 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 156.7911 ms
2026-01-25 01:01:57.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 779.8779ms
2026-01-25 01:02:37.942 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 113
2026-01-25 01:02:37.992 +03:00 [INF] CORS policy execution successful.
2026-01-25 01:02:38.009 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 01:02:38.042 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 01:03:04.608 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 26556.315ms
2026-01-25 01:03:04.612 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 01:03:04.615 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CountriesController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 01:03:04.659 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 26675.9790 ms
2026-01-25 01:03:04.663 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 26721.1387ms
2026-01-25 01:04:36.338 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 237
2026-01-25 01:04:36.350 +03:00 [INF] CORS policy execution successful.
2026-01-25 01:04:36.352 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 01:04:36.369 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 01:04:36.583 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 01:04:36.608 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 01:04:36.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 01:04:36.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 01:04:36.996 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [EmployeeId], [FullNameAr], [FullNameEn], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-01-25 01:04:37.059 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-01-25 01:04:37.141 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-01-25 01:04:37.149 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-01-25 01:04:37.166 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 01:04:37.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 01:04:37.231 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p24='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTimeOffset), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [EmployeeId] = @p7, [FullNameAr] = @p8, [FullNameEn] = @p9, [IsActive] = @p10, [LastLoginAt] = @p11, [LockoutEnabled] = @p12, [LockoutEnd] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [RefreshToken] = @p19, [RefreshTokenExpiryTime] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2026-01-25 01:04:37.313 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-25 01:04:37.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 01:04:37.436 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 01:04:37.449 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [EmployeeId] = @p5, [FullNameAr] = @p6, [FullNameEn] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2026-01-25 01:04:37.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 01:04:37.486 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 1113.5852ms
2026-01-25 01:04:37.489 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 01:04:37.492 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 1142.2403 ms
2026-01-25 01:04:37.500 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 200 null application/json; charset=utf-8 1161.9336ms
2026-01-25 15:57:43.826 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 15:57:50.401 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 15:57:51.606 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 15:57:54.200 +03:00 [INF] Executed DbCommand (243ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.372 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.379 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.384 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.390 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.396 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.414 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.427 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.434 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.448 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 15:57:54.482 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 15:57:54.608 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 15:57:54.618 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 15:57:55.213 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 15:57:55.215 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 15:57:55.359 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 15:57:55.460 +03:00 [INF] Hosting environment: Development
2026-01-25 15:57:55.462 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 15:58:47.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 15:58:50.391 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 2255.2233 ms
2026-01-25 15:58:50.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2508.889ms
2026-01-25 15:58:51.864 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/favicon.ico - null null
2026-01-25 15:58:51.872 +03:00 [INF] HTTP GET /favicon.ico responded 404 in 4.5853 ms
2026-01-25 15:58:51.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/favicon.ico - 404 0 null 12.8451ms
2026-01-25 15:58:51.887 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7053/favicon.ico, Response status code: 404
2026-01-25 15:59:25.971 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 15:59:26.221 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 170.8520 ms
2026-01-25 15:59:26.242 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 15:59:26.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 372.1231ms
2026-01-25 15:59:26.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 113.0995ms
2026-01-25 15:59:26.465 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 15:59:26.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 195.6732ms
2026-01-25 15:59:27.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 15:59:27.218 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 196.3514 ms
2026-01-25 15:59:27.227 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 211.4972ms
2026-01-25 16:00:19.198 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 115
2026-01-25 16:00:19.232 +03:00 [INF] CORS policy execution successful.
2026-01-25 16:00:19.237 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 16:00:19.268 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 16:00:51.738 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 32458.0183ms
2026-01-25 16:00:51.743 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 16:00:51.746 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CountriesController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 16:00:51.804 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 32577.5040 ms
2026-01-25 16:00:51.808 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 32610.4375ms
2026-01-25 16:01:27.164 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Departments - application/json 112
2026-01-25 16:01:27.171 +03:00 [INF] CORS policy execution successful.
2026-01-25 16:01:27.173 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 16:01:27.192 +03:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommand) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 16:17:51.123 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.Create (HRMS.API) in 983923.8321ms
2026-01-25 16:17:51.147 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 16:17:51.150 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.DepartmentsController.Create(CreateDepartmentCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\DepartmentsController.cs:line 27
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 16:17:51.180 +03:00 [ERR] HTTP POST /api/Departments responded 500 in 984009.2476 ms
2026-01-25 16:17:51.183 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Departments - 500 null text/plain; charset=utf-8 984018.7404ms
2026-01-25 16:18:04.499 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Departments - application/json 112
2026-01-25 16:18:04.503 +03:00 [INF] CORS policy execution successful.
2026-01-25 16:18:04.506 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 16:18:04.515 +03:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommand) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 16:25:56.997 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.Create (HRMS.API) in 472472.9684ms
2026-01-25 16:25:57.005 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 16:25:57.016 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.DepartmentsController.Create(CreateDepartmentCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\DepartmentsController.cs:line 27
   at lambda_method293(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 16:25:57.046 +03:00 [ERR] HTTP POST /api/Departments responded 500 in 472542.8525 ms
2026-01-25 16:25:57.050 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Departments - 500 null text/plain; charset=utf-8 472550.1036ms
2026-01-25 16:26:06.972 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Departments - application/json 112
2026-01-25 16:26:06.978 +03:00 [INF] CORS policy execution successful.
2026-01-25 16:26:06.980 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 16:26:06.982 +03:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommand) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 16:45:11.371 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 16:45:18.117 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 16:45:20.264 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 16:45:23.857 +03:00 [INF] Executed DbCommand (157ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.004 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.013 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.018 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.031 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.039 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.056 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.063 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.071 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.079 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:45:24.127 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 16:45:24.240 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 16:45:24.248 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 16:45:24.610 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 16:45:24.611 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 16:45:24.758 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 16:45:24.759 +03:00 [INF] Hosting environment: Development
2026-01-25 16:45:24.760 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 16:45:33.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 16:45:36.106 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2672.7879 ms
2026-01-25 16:45:36.126 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 2911.3607ms
2026-01-25 16:45:37.006 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 16:45:37.006 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 16:45:37.022 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 15.523ms
2026-01-25 16:45:37.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.2042ms
2026-01-25 16:45:37.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 16:45:38.072 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 157.0006 ms
2026-01-25 16:45:38.231 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 326.3437ms
2026-01-25 16:46:36.873 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 114
2026-01-25 16:46:36.924 +03:00 [INF] CORS policy execution successful.
2026-01-25 16:46:36.941 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 16:46:36.983 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 16:50:50.057 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 253053.7208ms
2026-01-25 16:50:50.082 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 16:50:50.163 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 16:50:50.245 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 253337.8974 ms
2026-01-25 16:50:50.250 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 253377.0458ms
2026-01-25 16:50:51.810 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 16:50:51.848 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 6.2554 ms
2026-01-25 16:50:51.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 44.9789ms
2026-01-25 16:50:51.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 16:50:51.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 16:50:51.918 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 22.7121ms
2026-01-25 16:50:51.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.0795ms
2026-01-25 16:50:54.716 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 16:50:54.850 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 127.0958 ms
2026-01-25 16:50:54.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 138.4569ms
2026-01-25 16:55:02.671 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 16:55:08.772 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 16:55:10.422 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 16:55:13.112 +03:00 [INF] Executed DbCommand (194ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.365 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.372 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.379 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.387 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.393 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.399 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.405 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.411 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.416 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.421 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.435 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 16:55:13.465 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 16:55:13.545 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 16:55:13.555 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 16:55:13.970 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 16:55:13.973 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 16:55:14.150 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 16:55:14.152 +03:00 [INF] Hosting environment: Development
2026-01-25 16:55:14.153 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 16:55:29.380 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 16:55:32.434 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2887.0632 ms
2026-01-25 16:55:32.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 3080.2344ms
2026-01-25 16:55:33.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 16:55:33.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 16:55:33.326 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 27.5853ms
2026-01-25 16:55:33.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.6675ms
2026-01-25 16:55:34.105 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 16:55:34.327 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 212.0891 ms
2026-01-25 16:55:34.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 339.5904ms
2026-01-25 16:56:05.877 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 126
2026-01-25 16:56:05.914 +03:00 [INF] CORS policy execution successful.
2026-01-25 16:56:06.010 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 16:56:06.057 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 16:56:49.187 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[COUNTRIES] ([CITIZENSHIP_NAME_AR], [COUNTRY_NAME_AR], [COUNTRY_NAME_EN], [CREATED_AT], [CREATED_BY], [IS_DELETED], [ISO_CODE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[COUNTRY_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-25 16:56:49.259 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.COUNTRIES', column 'ISO_CODE'. Truncated value: 'fs'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1b9959f6-66ec-45f9-8eb5-d11ee6ba7dc5
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.COUNTRIES', column 'ISO_CODE'. Truncated value: 'fs'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1b9959f6-66ec-45f9-8eb5-d11ee6ba7dc5
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 16:58:47.444 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 161370.605ms
2026-01-25 16:58:47.448 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 16:58:47.453 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.COUNTRIES', column 'ISO_CODE'. Truncated value: 'fs'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1b9959f6-66ec-45f9-8eb5-d11ee6ba7dc5
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommandHandler.Handle(CreateCountryCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Countries\Commands\CreateCountry\CreateCountryCommandHandler.cs:line 44
   at HRMS.API.Controllers.CountriesController.Create(CreateCountryCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CountriesController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 16:58:47.516 +03:00 [ERR] HTTP POST /api/Countries responded 500 in 161616.9738 ms
2026-01-25 16:58:47.528 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 500 null text/plain; charset=utf-8 161651.8266ms
2026-01-25 16:59:02.985 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Countries - application/json 125
2026-01-25 16:59:02.991 +03:00 [INF] CORS policy execution successful.
2026-01-25 16:59:02.993 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 16:59:02.995 +03:00 [INF] Route matched with {action = "Create", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Countries.Commands.CreateCountry.CreateCountryCommand) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 16:59:10.298 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[COUNTRIES] ([CITIZENSHIP_NAME_AR], [COUNTRY_NAME_AR], [COUNTRY_NAME_EN], [CREATED_AT], [CREATED_BY], [IS_DELETED], [ISO_CODE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[COUNTRY_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2026-01-25 16:59:10.345 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 16:59:10.391 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Create (HRMS.API) in 7393.1519ms
2026-01-25 16:59:10.393 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Create (HRMS.API)'
2026-01-25 16:59:10.396 +03:00 [INF] HTTP POST /api/Countries responded 201 in 7405.5338 ms
2026-01-25 16:59:10.399 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Countries - 201 null application/json; charset=utf-8 7414.2806ms
2026-01-25 17:00:52.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Countries/search - null null
2026-01-25 17:00:52.308 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Search (HRMS.API)'
2026-01-25 17:00:52.338 +03:00 [INF] Route matched with {action = "Search", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HRMS.Application.Features.Core.Countries.Queries.SearchCountries.SearchCountriesQuery) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:00:52.483 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-01-25 17:00:52.630 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CITIZENSHIP_NAME_AR], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 17:00:52.644 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:00:52.657 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Search (HRMS.API) in 293.4476ms
2026-01-25 17:00:52.659 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Search (HRMS.API)'
2026-01-25 17:00:52.661 +03:00 [INF] HTTP GET /api/Countries/search responded 200 in 353.2029 ms
2026-01-25 17:00:52.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Countries/search - 200 null application/json; charset=utf-8 371.437ms
2026-01-25 17:02:08.180 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Countries/4 - application/json 133
2026-01-25 17:02:08.185 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:02:08.187 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Update (HRMS.API)'
2026-01-25 17:02:08.193 +03:00 [INF] Route matched with {action = "Update", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.DTOs.Core.UpdateCountryDto) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:06:16.502 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Update (HRMS.API) in 248303.7882ms
2026-01-25 17:06:16.544 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Update (HRMS.API)'
2026-01-25 17:06:16.547 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.UpdateCountry.UpdateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Update(Int32 id, UpdateCountryDto dto) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CountriesController.cs:line 104
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 17:06:16.549 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Cities - application/json 75
2026-01-25 17:06:16.579 +03:00 [ERR] HTTP PUT /api/Countries/4 responded 500 in 248393.7059 ms
2026-01-25 17:06:16.579 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:06:16.584 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Countries/4 - 500 null text/plain; charset=utf-8 248403.3315ms
2026-01-25 17:06:16.585 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CitiesController.Create (HRMS.API)'
2026-01-25 17:06:16.600 +03:00 [INF] Route matched with {action = "Create", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Cities.Commands.CreateCity.CreateCityCommand) on controller HRMS.API.Controllers.CitiesController (HRMS.API).
2026-01-25 17:06:16.736 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[CITIES] ([CITY_NAME_AR], [CITY_NAME_EN], [COUNTRY_ID], [CREATED_AT], [CREATED_BY], [IS_DELETED], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[CITY_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2026-01-25 17:06:16.746 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 17:06:16.750 +03:00 [INF] Executed action HRMS.API.Controllers.CitiesController.Create (HRMS.API) in 145.6352ms
2026-01-25 17:06:16.752 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CitiesController.Create (HRMS.API)'
2026-01-25 17:06:16.754 +03:00 [INF] HTTP POST /api/Cities responded 201 in 174.6155 ms
2026-01-25 17:06:16.757 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Cities - 201 null application/json; charset=utf-8 208.0062ms
2026-01-25 17:06:37.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Cities - null null
2026-01-25 17:06:37.113 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CitiesController.GetAll (HRMS.API)'
2026-01-25 17:06:37.125 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.CitiesController (HRMS.API).
2026-01-25 17:06:37.149 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-01-25 17:06:37.205 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-01-25 17:06:37.211 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:06:37.219 +03:00 [INF] Executed action HRMS.API.Controllers.CitiesController.GetAll (HRMS.API) in 89.1868ms
2026-01-25 17:06:37.221 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CitiesController.GetAll (HRMS.API)'
2026-01-25 17:06:37.223 +03:00 [INF] HTTP GET /api/Cities responded 200 in 110.5508 ms
2026-01-25 17:06:37.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Cities - 200 null application/json; charset=utf-8 124.1202ms
2026-01-25 17:07:21.005 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Cities/3 - application/json 91
2026-01-25 17:07:21.018 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:07:21.022 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CitiesController.Update (HRMS.API)'
2026-01-25 17:07:21.031 +03:00 [INF] Route matched with {action = "Update", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.DTOs.Core.UpdateCityDto) on controller HRMS.API.Controllers.CitiesController (HRMS.API).
2026-01-25 17:07:21.079 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_CityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
FROM [HR_CORE].[CITIES] AS [c]
WHERE [c].[CITY_ID] = @__request_CityId_0
2026-01-25 17:07:21.121 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[CITIES] SET [CITY_NAME_AR] = @p0, [CITY_NAME_EN] = @p1, [COUNTRY_ID] = @p2, [UPDATED_AT] = @p3
OUTPUT 1
WHERE [CITY_ID] = @p4 AND [VERSION_NO] = @p5;
2026-01-25 17:07:21.132 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_CITIES_COUNTRIES_COUNTRY_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.COUNTRIES", column 'COUNTRY_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:335c47bf-5946-40d0-bfdd-99a3d2c728ef
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_CITIES_COUNTRIES_COUNTRY_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.COUNTRIES", column 'COUNTRY_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:335c47bf-5946-40d0-bfdd-99a3d2c728ef
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 17:08:03.349 +03:00 [INF] Executed action HRMS.API.Controllers.CitiesController.Update (HRMS.API) in 42312.525ms
2026-01-25 17:08:03.399 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CitiesController.Update (HRMS.API)'
2026-01-25 17:08:03.402 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_CITIES_COUNTRIES_COUNTRY_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.COUNTRIES", column 'COUNTRY_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:335c47bf-5946-40d0-bfdd-99a3d2c728ef
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Core.Cities.Commands.UpdateCity.UpdateCityCommandHandler.Handle(UpdateCityCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Cities\Commands\UpdateCity\UpdateCityCommandHandler.cs:line 29
   at HRMS.API.Controllers.CitiesController.Update(Int32 id, UpdateCityDto dto) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CitiesController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 17:08:03.455 +03:00 [ERR] HTTP PUT /api/Cities/3 responded 500 in 42436.7020 ms
2026-01-25 17:08:03.458 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Cities/3 - 500 null text/plain; charset=utf-8 42453.0205ms
2026-01-25 17:08:14.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Countries - null null
2026-01-25 17:08:14.225 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 17:08:14.232 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:08:14.281 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-01-25 17:08:14.305 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CITIZENSHIP_NAME_AR], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 17:08:14.314 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:08:14.316 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.GetAll (HRMS.API) in 77.8319ms
2026-01-25 17:08:14.319 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 17:08:14.321 +03:00 [INF] HTTP GET /api/Countries responded 200 in 97.0040 ms
2026-01-25 17:08:14.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Countries - 200 null application/json; charset=utf-8 104.8707ms
2026-01-25 17:08:35.779 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Cities/3 - application/json 91
2026-01-25 17:08:35.785 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:08:35.787 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CitiesController.Update (HRMS.API)'
2026-01-25 17:08:35.789 +03:00 [INF] Route matched with {action = "Update", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.DTOs.Core.UpdateCityDto) on controller HRMS.API.Controllers.CitiesController (HRMS.API).
2026-01-25 17:08:35.837 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_CityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
FROM [HR_CORE].[CITIES] AS [c]
WHERE [c].[CITY_ID] = @__request_CityId_0
2026-01-25 17:08:35.851 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[CITIES] SET [CITY_NAME_AR] = @p0, [CITY_NAME_EN] = @p1, [UPDATED_AT] = @p2
OUTPUT 1
WHERE [CITY_ID] = @p3 AND [VERSION_NO] = @p4;
2026-01-25 17:08:35.856 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 17:08:35.858 +03:00 [INF] Executed action HRMS.API.Controllers.CitiesController.Update (HRMS.API) in 27.9389ms
2026-01-25 17:08:35.869 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CitiesController.Update (HRMS.API)'
2026-01-25 17:08:35.871 +03:00 [INF] HTTP PUT /api/Cities/3 responded 200 in 85.6047 ms
2026-01-25 17:08:35.874 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Cities/3 - 200 null application/json; charset=utf-8 94.7709ms
2026-01-25 17:08:48.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Cities - null null
2026-01-25 17:08:48.146 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CitiesController.GetAll (HRMS.API)'
2026-01-25 17:08:48.148 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.CitiesController (HRMS.API).
2026-01-25 17:08:48.155 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-01-25 17:08:48.210 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-01-25 17:08:48.276 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:08:48.279 +03:00 [INF] Executed action HRMS.API.Controllers.CitiesController.GetAll (HRMS.API) in 127.1187ms
2026-01-25 17:08:48.285 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CitiesController.GetAll (HRMS.API)'
2026-01-25 17:08:48.287 +03:00 [INF] HTTP GET /api/Cities responded 200 in 141.1196 ms
2026-01-25 17:08:48.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Cities - 200 null application/json; charset=utf-8 147.7147ms
2026-01-25 17:25:20.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 17:25:20.157 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.1117 ms
2026-01-25 17:25:20.218 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 17:25:20.218 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 17:25:20.219 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 92.5101ms
2026-01-25 17:25:20.224 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 7.0403ms
2026-01-25 17:25:20.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7639ms
2026-01-25 17:25:22.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 17:25:22.567 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 157.7545 ms
2026-01-25 17:25:22.572 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.6131ms
2026-01-25 17:25:33.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Countries - null null
2026-01-25 17:25:33.829 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 17:25:33.846 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:25:33.956 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-01-25 17:25:33.967 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CITIZENSHIP_NAME_AR], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 17:25:33.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:25:33.983 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.GetAll (HRMS.API) in 122.9524ms
2026-01-25 17:25:33.986 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 17:25:33.988 +03:00 [INF] HTTP GET /api/Countries responded 200 in 159.4507 ms
2026-01-25 17:25:33.991 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Countries - 200 null application/json; charset=utf-8 168.3402ms
2026-01-25 17:26:23.360 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Countries/4 - application/json 133
2026-01-25 17:26:23.378 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:26:23.380 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Update (HRMS.API)'
2026-01-25 17:26:23.391 +03:00 [INF] Route matched with {action = "Update", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.DTOs.Core.UpdateCountryDto) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:27:30.435 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Update (HRMS.API) in 67037.3209ms
2026-01-25 17:27:30.506 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Update (HRMS.API)'
2026-01-25 17:27:30.509 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[HRMS.Application.Features.Core.Countries.Commands.UpdateCountry.UpdateCountryCommand,System.Int32]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.CountriesController.Update(Int32 id, UpdateCountryDto dto) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\CountriesController.cs:line 104
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 17:27:30.534 +03:00 [ERR] HTTP PUT /api/Countries/4 responded 500 in 67156.4358 ms
2026-01-25 17:27:30.541 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Countries/4 - 500 null text/plain; charset=utf-8 67180.8675ms
2026-01-25 17:28:26.664 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 17:28:30.145 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 17:28:32.624 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 17:28:34.683 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.940 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.948 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.955 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.961 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.977 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.991 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:34.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:35.004 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:35.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:35.044 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:28:35.083 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 17:28:35.226 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 17:28:35.309 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 17:28:35.859 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 17:28:35.860 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 17:28:36.062 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 17:28:36.072 +03:00 [INF] Hosting environment: Development
2026-01-25 17:28:36.077 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 17:28:41.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 17:28:42.217 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 290.9227 ms
2026-01-25 17:28:42.275 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 600.6594ms
2026-01-25 17:28:42.812 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 17:28:42.812 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 17:28:42.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 14.8138ms
2026-01-25 17:28:42.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.9624ms
2026-01-25 17:28:43.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 17:28:43.441 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 192.3136 ms
2026-01-25 17:28:43.602 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 374.5899ms
2026-01-25 17:29:08.310 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Countries/4 - application/json 133
2026-01-25 17:29:08.336 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:29:08.358 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Update (HRMS.API)'
2026-01-25 17:29:08.391 +03:00 [INF] Route matched with {action = "Update", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.DTOs.Core.UpdateCountryDto) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:29:08.590 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_CountryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[ISO_CODE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
FROM [HR_CORE].[COUNTRIES] AS [c]
WHERE [c].[COUNTRY_ID] = @__request_CountryId_0
2026-01-25 17:29:08.820 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 2), @p4='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[COUNTRIES] SET [CITIZENSHIP_NAME_AR] = @p0, [COUNTRY_NAME_AR] = @p1, [COUNTRY_NAME_EN] = @p2, [ISO_CODE] = @p3, [UPDATED_AT] = @p4
OUTPUT 1
WHERE [COUNTRY_ID] = @p5 AND [VERSION_NO] = @p6;
2026-01-25 17:29:08.859 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 17:29:08.879 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Update (HRMS.API) in 476.4591ms
2026-01-25 17:29:08.882 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Update (HRMS.API)'
2026-01-25 17:29:08.884 +03:00 [INF] HTTP PUT /api/Countries/4 responded 200 in 556.3441 ms
2026-01-25 17:29:08.895 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Countries/4 - 200 null application/json; charset=utf-8 585.8432ms
2026-01-25 17:29:46.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Countries - null null
2026-01-25 17:29:46.280 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 17:29:46.298 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:29:46.444 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-01-25 17:29:46.582 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CITIZENSHIP_NAME_AR], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 17:29:46.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:29:46.610 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.GetAll (HRMS.API) in 306.1533ms
2026-01-25 17:29:46.612 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 17:29:46.614 +03:00 [INF] HTTP GET /api/Countries responded 200 in 336.1673 ms
2026-01-25 17:29:46.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Countries - 200 null application/json; charset=utf-8 459.243ms
2026-01-25 17:30:10.180 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Countries/search?SearchTerm=%D9%85%D8%B5%D8%B1 - null null
2026-01-25 17:30:10.197 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Search (HRMS.API)'
2026-01-25 17:30:10.211 +03:00 [INF] Route matched with {action = "Search", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HRMS.Application.Features.Core.Countries.Queries.SearchCountries.SearchCountriesQuery) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:30:10.311 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
WHERE LOWER([c].[COUNTRY_NAME_AR]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([c].[COUNTRY_NAME_EN]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR ([c].[CITIZENSHIP_NAME_AR] IS NOT NULL AND LOWER([c].[CITIZENSHIP_NAME_AR]) LIKE @__searchTerm_0_contains ESCAPE N'\')
2026-01-25 17:30:10.350 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CITIZENSHIP_NAME_AR], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
WHERE LOWER([c].[COUNTRY_NAME_AR]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([c].[COUNTRY_NAME_EN]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR ([c].[CITIZENSHIP_NAME_AR] IS NOT NULL AND LOWER([c].[CITIZENSHIP_NAME_AR]) LIKE @__searchTerm_0_contains ESCAPE N'\')
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2026-01-25 17:30:10.356 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:30:10.359 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Search (HRMS.API) in 138.8652ms
2026-01-25 17:30:10.364 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Search (HRMS.API)'
2026-01-25 17:30:10.366 +03:00 [INF] HTTP GET /api/Countries/search responded 200 in 170.3848 ms
2026-01-25 17:30:10.370 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Countries/search?SearchTerm=%D9%85%D8%B5%D8%B1 - 200 null application/json; charset=utf-8 189.3944ms
2026-01-25 17:30:25.782 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7053/api/Countries/4 - null null
2026-01-25 17:30:25.788 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:30:25.789 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Delete (HRMS.API)'
2026-01-25 17:30:25.798 +03:00 [INF] Route matched with {action = "Delete", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:30:25.989 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_CountryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[COUNTRY_ID], [c1].[CITIZENSHIP_NAME_AR], [c1].[COUNTRY_NAME_AR], [c1].[COUNTRY_NAME_EN], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[ISO_CODE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO], [c0].[CITY_ID], [c0].[CITY_NAME_AR], [c0].[CITY_NAME_EN], [c0].[COUNTRY_ID], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[IS_DELETED], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VERSION_NO]
FROM (
    SELECT TOP(1) [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[ISO_CODE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[COUNTRIES] AS [c]
    WHERE [c].[COUNTRY_ID] = @__request_CountryId_0
) AS [c1]
LEFT JOIN [HR_CORE].[CITIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[COUNTRY_ID]
2026-01-25 17:30:26.051 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [HR_CORE].[COUNTRIES]
OUTPUT 1
WHERE [COUNTRY_ID] = @p0 AND [VERSION_NO] = @p1;
2026-01-25 17:30:26.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 17:30:26.071 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Delete (HRMS.API) in 267.3108ms
2026-01-25 17:30:26.074 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Delete (HRMS.API)'
2026-01-25 17:30:26.077 +03:00 [INF] HTTP DELETE /api/Countries/4 responded 200 in 289.1902 ms
2026-01-25 17:30:26.080 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7053/api/Countries/4 - 200 null application/json; charset=utf-8 297.6483ms
2026-01-25 17:30:32.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Countries - null null
2026-01-25 17:30:32.905 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 17:30:32.906 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:30:33.008 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-01-25 17:30:33.041 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CITIZENSHIP_NAME_AR], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 17:30:33.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:30:33.050 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.GetAll (HRMS.API) in 140.3297ms
2026-01-25 17:30:33.053 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 17:30:33.055 +03:00 [INF] HTTP GET /api/Countries responded 200 in 150.8841 ms
2026-01-25 17:30:33.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Countries - 200 null application/json; charset=utf-8 159.0258ms
2026-01-25 17:30:47.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Cities - null null
2026-01-25 17:30:47.507 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CitiesController.GetAll (HRMS.API)'
2026-01-25 17:30:47.525 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.CitiesController (HRMS.API).
2026-01-25 17:30:47.552 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-01-25 17:30:47.581 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-01-25 17:30:47.591 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:30:47.598 +03:00 [INF] Executed action HRMS.API.Controllers.CitiesController.GetAll (HRMS.API) in 64.617ms
2026-01-25 17:30:47.600 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CitiesController.GetAll (HRMS.API)'
2026-01-25 17:30:47.603 +03:00 [INF] HTTP GET /api/Cities responded 200 in 96.2795 ms
2026-01-25 17:30:47.607 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Cities - 200 null application/json; charset=utf-8 105.3159ms
2026-01-25 17:31:13.170 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7053/api/Countries/2 - null null
2026-01-25 17:31:13.175 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:31:13.179 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.Delete (HRMS.API)'
2026-01-25 17:31:13.181 +03:00 [INF] Route matched with {action = "Delete", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 17:31:13.194 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_CountryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[COUNTRY_ID], [c1].[CITIZENSHIP_NAME_AR], [c1].[COUNTRY_NAME_AR], [c1].[COUNTRY_NAME_EN], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[ISO_CODE], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO], [c0].[CITY_ID], [c0].[CITY_NAME_AR], [c0].[CITY_NAME_EN], [c0].[COUNTRY_ID], [c0].[CREATED_AT], [c0].[CREATED_BY], [c0].[IS_DELETED], [c0].[UPDATED_AT], [c0].[UPDATED_BY], [c0].[VERSION_NO]
FROM (
    SELECT TOP(1) [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[ISO_CODE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[COUNTRIES] AS [c]
    WHERE [c].[COUNTRY_ID] = @__request_CountryId_0
) AS [c1]
LEFT JOIN [HR_CORE].[CITIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[COUNTRY_ID]
2026-01-25 17:31:13.521 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 17:31:13.524 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.Delete (HRMS.API) in 337.7478ms
2026-01-25 17:31:13.526 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.Delete (HRMS.API)'
2026-01-25 17:31:13.529 +03:00 [INF] HTTP DELETE /api/Countries/2 responded 400 in 354.2933 ms
2026-01-25 17:31:13.531 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7053/api/Countries/2 - 400 null application/json; charset=utf-8 365.9521ms
2026-01-25 17:32:17.953 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Cities/3 - application/json 101
2026-01-25 17:32:17.964 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:32:17.966 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CitiesController.Update (HRMS.API)'
2026-01-25 17:32:17.978 +03:00 [INF] Route matched with {action = "Update", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.DTOs.Core.UpdateCityDto) on controller HRMS.API.Controllers.CitiesController (HRMS.API).
2026-01-25 17:32:18.028 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_CityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
FROM [HR_CORE].[CITIES] AS [c]
WHERE [c].[CITY_ID] = @__request_CityId_0
2026-01-25 17:32:18.048 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[CITIES] SET [CITY_NAME_AR] = @p0, [CITY_NAME_EN] = @p1, [UPDATED_AT] = @p2
OUTPUT 1
WHERE [CITY_ID] = @p3 AND [VERSION_NO] = @p4;
2026-01-25 17:32:18.053 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 17:32:18.057 +03:00 [INF] Executed action HRMS.API.Controllers.CitiesController.Update (HRMS.API) in 59.3061ms
2026-01-25 17:32:18.060 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CitiesController.Update (HRMS.API)'
2026-01-25 17:32:18.062 +03:00 [INF] HTTP PUT /api/Cities/3 responded 200 in 98.1669 ms
2026-01-25 17:32:18.066 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Cities/3 - 200 null application/json; charset=utf-8 112.1265ms
2026-01-25 17:32:27.086 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Cities - null null
2026-01-25 17:32:27.090 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CitiesController.GetAll (HRMS.API)'
2026-01-25 17:32:27.091 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Cities.Queries.GetAllCities.GetAllCitiesQuery) on controller HRMS.API.Controllers.CitiesController (HRMS.API).
2026-01-25 17:32:27.100 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[CITIES] AS [c]
2026-01-25 17:32:27.141 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CITY_ID], [c1].[CITY_NAME_AR], [c1].[CITY_NAME_EN], [c0].[COUNTRY_NAME_AR], [c1].[COUNTRY_ID], [c1].[CREATED_AT], [c1].[CREATED_BY], [c1].[IS_DELETED], [c1].[UPDATED_AT], [c1].[UPDATED_BY], [c1].[VERSION_NO]
FROM (
    SELECT [c].[CITY_ID], [c].[CITY_NAME_AR], [c].[CITY_NAME_EN], [c].[COUNTRY_ID], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO]
    FROM [HR_CORE].[CITIES] AS [c]
    ORDER BY [c].[CITY_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c1]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c0] ON [c1].[COUNTRY_ID] = [c0].[COUNTRY_ID]
ORDER BY [c1].[CITY_NAME_AR]
2026-01-25 17:32:27.147 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CityListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 17:32:27.150 +03:00 [INF] Executed action HRMS.API.Controllers.CitiesController.GetAll (HRMS.API) in 55.1231ms
2026-01-25 17:32:27.152 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CitiesController.GetAll (HRMS.API)'
2026-01-25 17:32:27.154 +03:00 [INF] HTTP GET /api/Cities responded 200 in 64.2182 ms
2026-01-25 17:32:27.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Cities - 200 null application/json; charset=utf-8 72.1216ms
2026-01-25 17:38:19.141 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 17:38:22.759 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 17:38:25.040 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 17:38:27.225 +03:00 [INF] Executed DbCommand (143ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.444 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.473 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.506 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.513 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.520 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.526 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.532 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 17:38:27.585 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 17:38:27.708 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 17:38:27.770 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 17:38:28.379 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 17:38:28.381 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 17:38:28.555 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 17:38:28.562 +03:00 [INF] Hosting environment: Development
2026-01-25 17:38:28.563 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 17:42:21.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 17:42:21.985 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 293.9157 ms
2026-01-25 17:42:22.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 17:42:22.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 17:42:22.057 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 621.9037ms
2026-01-25 17:42:22.070 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 55.7796ms
2026-01-25 17:42:22.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.2503ms
2026-01-25 17:42:24.167 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 17:42:24.511 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 337.2971 ms
2026-01-25 17:42:24.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 375.1635ms
2026-01-25 17:44:05.709 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Banks - application/json 192
2026-01-25 17:44:06.987 +03:00 [INF] CORS policy execution successful.
2026-01-25 17:44:07.011 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 17:44:07.060 +03:00 [INF] Route matched with {action = "Create", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Banks.Commands.CreateBank.CreateBankCommand) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 17:44:07.755 +03:00 [ERR] Failed executing DbCommand (81ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 20), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (Size = 11), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[BANKS] ([ADDRESS], [BANK_CODE], [BANK_NAME_AR], [BANK_NAME_EN], [CREATED_AT], [CREATED_BY], [EMAIL], [IS_DELETED], [PHONE], [SWIFT_CODE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[BANK_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-25 17:44:07.843 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADDRESS'.
Invalid column name 'EMAIL'.
Invalid column name 'PHONE'.
Invalid column name 'SWIFT_CODE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4dde80fd-3e2e-4835-9d1c-73e944ff8996
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ADDRESS'.
Invalid column name 'EMAIL'.
Invalid column name 'PHONE'.
Invalid column name 'SWIFT_CODE'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4dde80fd-3e2e-4835-9d1c-73e944ff8996
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 19:11:29.754 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 19:11:36.832 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 19:11:38.490 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 19:11:38.497 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 19:11:38.500 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 19:11:42.382 +03:00 [INF] Executed DbCommand (183ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.517 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.523 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.528 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.533 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.538 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.542 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.546 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.560 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:11:42.612 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 19:11:42.705 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 19:11:42.715 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 19:11:43.146 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 19:11:43.150 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 19:11:43.301 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 19:11:43.304 +03:00 [INF] Hosting environment: Development
2026-01-25 19:11:43.305 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 19:11:58.216 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 19:12:01.134 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2705.8773 ms
2026-01-25 19:12:01.150 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 2944.0217ms
2026-01-25 19:12:01.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 19:12:01.194 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 19:12:01.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 20.4258ms
2026-01-25 19:12:01.283 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 89.9288ms
2026-01-25 19:12:02.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 19:12:03.114 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 212.1396 ms
2026-01-25 19:12:03.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 349.3629ms
2026-01-25 19:13:39.715 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/DocumentTypes - application/json 255
2026-01-25 19:13:39.796 +03:00 [INF] CORS policy execution successful.
2026-01-25 19:13:39.819 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API)'
2026-01-25 19:13:39.867 +03:00 [INF] Route matched with {action = "Create", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.DocumentTypes.Commands.CreateDocumentType.CreateDocumentTypeCommand) on controller HRMS.API.Controllers.DocumentTypesController (HRMS.API).
2026-01-25 19:13:40.279 +03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (Size = 100), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (DbType = Boolean), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[DOCUMENT_TYPES] ([ALLOWED_EXTENSIONS], [CREATED_AT], [CREATED_BY], [DEFAULT_EXPIRY_DAYS], [DESCRIPTION], [DOCUMENT_TYPE_NAME_AR], [DOCUMENT_TYPE_NAME_EN], [HAS_EXPIRY], [IS_DELETED], [IS_REQUIRED], [MAX_FILE_SIZE_MB], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[DOCUMENT_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-25 19:13:40.330 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ALLOWED_EXTENSIONS'.
Invalid column name 'DEFAULT_EXPIRY_DAYS'.
Invalid column name 'DESCRIPTION'.
Invalid column name 'DOCUMENT_TYPE_NAME_AR'.
Invalid column name 'DOCUMENT_TYPE_NAME_EN'.
Invalid column name 'HAS_EXPIRY'.
Invalid column name 'IS_REQUIRED'.
Invalid column name 'MAX_FILE_SIZE_MB'.
Invalid column name 'DOCUMENT_TYPE_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e90e9eea-c710-47a5-afab-0bceb0baa0e0
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ALLOWED_EXTENSIONS'.
Invalid column name 'DEFAULT_EXPIRY_DAYS'.
Invalid column name 'DESCRIPTION'.
Invalid column name 'DOCUMENT_TYPE_NAME_AR'.
Invalid column name 'DOCUMENT_TYPE_NAME_EN'.
Invalid column name 'HAS_EXPIRY'.
Invalid column name 'IS_REQUIRED'.
Invalid column name 'MAX_FILE_SIZE_MB'.
Invalid column name 'DOCUMENT_TYPE_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e90e9eea-c710-47a5-afab-0bceb0baa0e0
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 19:14:09.325 +03:00 [INF] Executed action HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API) in 29446.7211ms
2026-01-25 19:14:09.330 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API)'
2026-01-25 19:14:09.336 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ALLOWED_EXTENSIONS'.
Invalid column name 'DEFAULT_EXPIRY_DAYS'.
Invalid column name 'DESCRIPTION'.
Invalid column name 'DOCUMENT_TYPE_NAME_AR'.
Invalid column name 'DOCUMENT_TYPE_NAME_EN'.
Invalid column name 'HAS_EXPIRY'.
Invalid column name 'IS_REQUIRED'.
Invalid column name 'MAX_FILE_SIZE_MB'.
Invalid column name 'DOCUMENT_TYPE_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e90e9eea-c710-47a5-afab-0bceb0baa0e0
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Core.DocumentTypes.Commands.CreateDocumentType.CreateDocumentTypeCommandHandler.Handle(CreateDocumentTypeCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\DocumentTypes\Commands\CreateDocumentType\CreateDocumentTypeCommandHandler.cs:line 35
   at HRMS.API.Controllers.DocumentTypesController.Create(CreateDocumentTypeCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\DocumentTypesController.cs:line 65
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 19:14:09.467 +03:00 [ERR] HTTP POST /api/DocumentTypes responded 500 in 29676.5194 ms
2026-01-25 19:14:09.476 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/DocumentTypes - 500 null text/plain; charset=utf-8 29761.6394ms
2026-01-25 19:14:49.507 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 19:14:49.858 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-25 19:14:54.896 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 19:14:55.154 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-25 19:15:31.034 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 19:15:31.362 +03:00 [FTL] âŒ Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Program.cs:line 65
2026-01-25 19:15:47.056 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 19:15:50.193 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 19:15:53.007 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 19:15:53.011 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 19:15:53.015 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 19:15:54.682 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.884 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.892 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.899 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.905 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.927 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.933 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.939 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.945 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.953 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 19:15:54.994 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 19:15:55.107 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 19:15:55.117 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 19:15:55.587 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 19:15:55.588 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 19:15:55.706 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 19:15:55.710 +03:00 [INF] Hosting environment: Development
2026-01-25 19:15:55.711 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 19:16:27.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 19:16:28.414 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 297.6631 ms
2026-01-25 19:16:28.423 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 500.3533ms
2026-01-25 19:16:29.030 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 19:16:29.030 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 19:16:29.092 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 62.52ms
2026-01-25 19:16:29.139 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 109.8447ms
2026-01-25 19:16:29.461 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 19:16:29.836 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 341.8043 ms
2026-01-25 19:16:29.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 379.6765ms
2026-01-25 19:16:46.434 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Banks - application/json 192
2026-01-25 19:16:46.459 +03:00 [INF] CORS policy execution successful.
2026-01-25 19:16:46.495 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 19:16:46.540 +03:00 [INF] Route matched with {action = "Create", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Banks.Commands.CreateBank.CreateBankCommand) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 19:16:46.937 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 20), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (Size = 11), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[BANKS] ([ADDRESS], [BANK_CODE], [BANK_NAME_AR], [BANK_NAME_EN], [CREATED_AT], [CREATED_BY], [EMAIL], [IS_DELETED], [PHONE], [SWIFT_CODE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[BANK_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-25 19:16:46.987 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 19:16:47.031 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.Create (HRMS.API) in 481.2579ms
2026-01-25 19:16:47.034 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 19:16:47.036 +03:00 [INF] HTTP POST /api/Banks responded 201 in 594.3598 ms
2026-01-25 19:16:47.045 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Banks - 201 null application/json; charset=utf-8 610.8907ms
2026-01-25 19:17:06.546 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/DocumentTypes - application/json 255
2026-01-25 19:17:06.554 +03:00 [INF] CORS policy execution successful.
2026-01-25 19:17:06.556 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API)'
2026-01-25 19:17:06.598 +03:00 [INF] Route matched with {action = "Create", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.DocumentTypes.Commands.CreateDocumentType.CreateDocumentTypeCommand) on controller HRMS.API.Controllers.DocumentTypesController (HRMS.API).
2026-01-25 19:17:06.763 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (Size = 100), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (DbType = Boolean), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[DOCUMENT_TYPES] ([ALLOWED_EXTENSIONS], [CREATED_AT], [CREATED_BY], [DEFAULT_EXPIRY_DAYS], [DESCRIPTION], [DOCUMENT_TYPE_NAME_AR], [DOCUMENT_TYPE_NAME_EN], [HAS_EXPIRY], [IS_DELETED], [IS_REQUIRED], [MAX_FILE_SIZE_MB], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[DOCUMENT_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-25 19:17:06.769 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 19:17:06.772 +03:00 [INF] Executed action HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API) in 165.1154ms
2026-01-25 19:17:06.774 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API)'
2026-01-25 19:17:06.776 +03:00 [INF] HTTP POST /api/DocumentTypes responded 201 in 222.1367 ms
2026-01-25 19:17:06.779 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/DocumentTypes - 201 null application/json; charset=utf-8 232.6796ms
2026-01-25 19:18:46.276 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Jobs - application/json 134
2026-01-25 19:18:46.294 +03:00 [INF] CORS policy execution successful.
2026-01-25 19:18:46.296 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.Create (HRMS.API)'
2026-01-25 19:18:46.304 +03:00 [INF] Route matched with {action = "Create", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Jobs.Commands.CreateJob.CreateJobCommand) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 19:18:46.576 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[JOBS] ([CREATED_AT], [CREATED_BY], [DEFAULT_GRADE_ID], [DepartmentDeptId], [IS_DELETED], [IS_MEDICAL], [JOB_TITLE_AR], [JOB_TITLE_EN], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[JOB_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-01-25 19:18:46.619 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_JOBS_JOB_GRADES_DEFAULT_GRADE_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.JOB_GRADES", column 'JOB_GRADE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c5bbb737-c0a2-479e-a47c-c8870cb222c2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_JOBS_JOB_GRADES_DEFAULT_GRADE_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.JOB_GRADES", column 'JOB_GRADE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c5bbb737-c0a2-479e-a47c-c8870cb222c2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 19:19:35.585 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.Create (HRMS.API) in 49275.8801ms
2026-01-25 19:19:35.587 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.Create (HRMS.API)'
2026-01-25 19:19:35.591 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_JOBS_JOB_GRADES_DEFAULT_GRADE_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.JOB_GRADES", column 'JOB_GRADE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c5bbb737-c0a2-479e-a47c-c8870cb222c2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Core.Jobs.Commands.CreateJob.CreateJobCommandHandler.Handle(CreateJobCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Commands\CreateJob\CreateJobCommandHandler.cs:line 25
   at HRMS.API.Controllers.JobsController.Create(CreateJobCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 19:19:35.665 +03:00 [ERR] HTTP POST /api/Jobs responded 500 in 49371.0042 ms
2026-01-25 19:19:35.668 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 49391.6844ms
2026-01-25 19:24:14.822 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/JobGrades - application/json 203
2026-01-25 19:24:14.866 +03:00 [INF] CORS policy execution successful.
2026-01-25 19:24:14.868 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.Create (HRMS.API)'
2026-01-25 19:24:14.874 +03:00 [INF] Route matched with {action = "Create", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.JobGrades.Commands.CreateJobGrade.CreateJobGradeCommand) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 19:24:15.023 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 500), @p4='?' (Size = 20), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[JOB_GRADES] ([BENEFITS_CONFIG], [CREATED_AT], [CREATED_BY], [DESCRIPTION], [GRADE_CODE], [GRADE_LEVEL], [GRADE_NAME_AR], [GRADE_NAME_EN], [IS_DELETED], [MAX_SALARY], [MIN_SALARY], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[JOB_GRADE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-25 19:24:15.032 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 19:24:15.034 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.Create (HRMS.API) in 155.9109ms
2026-01-25 19:24:15.036 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.Create (HRMS.API)'
2026-01-25 19:24:15.038 +03:00 [INF] HTTP POST /api/JobGrades responded 201 in 172.0226 ms
2026-01-25 19:24:15.042 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/JobGrades - 201 null application/json; charset=utf-8 219.3091ms
2026-01-25 19:24:40.529 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades - null null
2026-01-25 19:24:40.533 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 19:24:40.547 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 19:24:40.709 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 19:24:40.746 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 19:24:40.756 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 19:24:40.768 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API) in 217.8099ms
2026-01-25 19:24:40.774 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 19:24:40.776 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 243.2793 ms
2026-01-25 19:24:40.778 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades - 200 null application/json; charset=utf-8 250.0149ms
2026-01-25 19:25:05.105 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Jobs - application/json 134
2026-01-25 19:25:05.109 +03:00 [INF] CORS policy execution successful.
2026-01-25 19:25:05.111 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.Create (HRMS.API)'
2026-01-25 19:25:05.112 +03:00 [INF] Route matched with {action = "Create", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Jobs.Commands.CreateJob.CreateJobCommand) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 19:25:05.132 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 1) (DbType = Byte), @p5='?' (Size = 1) (DbType = Byte), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[JOBS] ([CREATED_AT], [CREATED_BY], [DEFAULT_GRADE_ID], [DepartmentDeptId], [IS_DELETED], [IS_MEDICAL], [JOB_TITLE_AR], [JOB_TITLE_EN], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[JOB_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2026-01-25 19:25:05.145 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 19:25:05.147 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.Create (HRMS.API) in 31.5104ms
2026-01-25 19:25:05.155 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.Create (HRMS.API)'
2026-01-25 19:25:05.157 +03:00 [INF] HTTP POST /api/Jobs responded 200 in 47.8829 ms
2026-01-25 19:25:05.160 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Jobs - 200 null application/json; charset=utf-8 55.2518ms
2026-01-25 19:25:15.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 19:25:15.806 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 19:25:15.818 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 19:25:15.852 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 19:25:25.194 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 9371.5409ms
2026-01-25 19:25:25.234 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 19:25:25.237 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Job.IsMedical (System.Byte) to Nullable`1.IsMedical (System.Nullable`1[System.Int32])

Mapping types:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Type Map configuration:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Destination Member:
IsMedical

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQueryHandler.Handle(GetAllJobsQuery request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Queries\GetAllJobs\GetAllJobsQueryHandler.cs:line 36
   at HRMS.API.Controllers.JobsController.GetAll(GetAllJobsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 19:25:25.269 +03:00 [ERR] HTTP GET /api/Jobs responded 500 in 9463.2422 ms
2026-01-25 19:25:25.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 9469.1097ms
2026-01-25 21:48:01.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 21:48:01.194 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 21:48:01.195 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 21:48:01.253 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 21:52:28.818 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 267620.4085ms
2026-01-25 21:52:28.829 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 21:52:28.833 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Job.IsMedical (System.Byte) to Nullable`1.IsMedical (System.Nullable`1[System.Int32])

Mapping types:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Type Map configuration:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Destination Member:
IsMedical

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQueryHandler.Handle(GetAllJobsQuery request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Queries\GetAllJobs\GetAllJobsQueryHandler.cs:line 36
   at HRMS.API.Controllers.JobsController.GetAll(GetAllJobsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 21:52:28.862 +03:00 [ERR] HTTP GET /api/Jobs responded 500 in 267668.1588 ms
2026-01-25 21:52:28.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 267687.8833ms
2026-01-25 21:53:25.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 21:53:25.800 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 21:53:25.802 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 21:53:25.842 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 21:53:53.674 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 27860.3436ms
2026-01-25 21:53:53.714 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 21:53:53.717 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Job.IsMedical (System.Byte) to Nullable`1.IsMedical (System.Nullable`1[System.Int32])

Mapping types:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Type Map configuration:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Destination Member:
IsMedical

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQueryHandler.Handle(GetAllJobsQuery request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Queries\GetAllJobs\GetAllJobsQueryHandler.cs:line 36
   at HRMS.API.Controllers.JobsController.GetAll(GetAllJobsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 21:53:53.749 +03:00 [ERR] HTTP GET /api/Jobs responded 500 in 27949.2603 ms
2026-01-25 21:53:53.751 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 27971.9379ms
2026-01-25 21:53:56.985 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 21:53:57.044 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 21:53:57.046 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 21:53:57.054 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 21:54:23.423 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 26374.3633ms
2026-01-25 21:54:23.439 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 21:54:23.441 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Job.IsMedical (System.Byte) to Nullable`1.IsMedical (System.Nullable`1[System.Int32])

Mapping types:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Type Map configuration:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Destination Member:
IsMedical

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQueryHandler.Handle(GetAllJobsQuery request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Queries\GetAllJobs\GetAllJobsQueryHandler.cs:line 36
   at HRMS.API.Controllers.JobsController.GetAll(GetAllJobsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 21:54:23.470 +03:00 [ERR] HTTP GET /api/Jobs responded 500 in 26425.6586 ms
2026-01-25 21:54:23.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 26489.1497ms
2026-01-25 21:54:26.375 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 21:54:26.385 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 21:54:26.389 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 21:55:44.052 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 21:57:07.385 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 21:57:18.381 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:06:00.716 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 694322.8646ms
2026-01-25 22:06:00.719 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:06:00.721 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Job.IsMedical (System.Byte) to Nullable`1.IsMedical (System.Nullable`1[System.Int32])

Mapping types:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Type Map configuration:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Destination Member:
IsMedical

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQueryHandler.Handle(GetAllJobsQuery request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Queries\GetAllJobs\GetAllJobsQueryHandler.cs:line 36
   at HRMS.API.Controllers.JobsController.GetAll(GetAllJobsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 22:06:00.751 +03:00 [ERR] HTTP GET /api/Jobs responded 500 in 694366.0209 ms
2026-01-25 22:06:00.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 694379.3785ms
2026-01-25 22:06:04.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 22:06:04.239 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:06:04.250 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 22:06:12.882 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:06:42.168 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 37914.1087ms
2026-01-25 22:06:42.171 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:06:42.173 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Job.IsMedical (System.Byte) to Nullable`1.IsMedical (System.Nullable`1[System.Int32])

Mapping types:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Type Map configuration:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Destination Member:
IsMedical

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQueryHandler.Handle(GetAllJobsQuery request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Queries\GetAllJobs\GetAllJobsQueryHandler.cs:line 36
   at HRMS.API.Controllers.JobsController.GetAll(GetAllJobsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 22:06:42.204 +03:00 [ERR] HTTP GET /api/Jobs responded 500 in 37964.6552 ms
2026-01-25 22:06:42.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 38033.0355ms
2026-01-25 22:07:06.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 22:07:06.685 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:07:06.686 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 22:07:12.510 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:09:58.749 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 172060.3533ms
2026-01-25 22:09:58.770 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:09:58.773 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Job.IsMedical (System.Byte) to Nullable`1.IsMedical (System.Nullable`1[System.Int32])

Mapping types:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Type Map configuration:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Destination Member:
IsMedical

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQueryHandler.Handle(GetAllJobsQuery request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Queries\GetAllJobs\GetAllJobsQueryHandler.cs:line 36
   at HRMS.API.Controllers.JobsController.GetAll(GetAllJobsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 22:09:58.806 +03:00 [ERR] HTTP GET /api/Jobs responded 500 in 172121.1383 ms
2026-01-25 22:09:58.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 172129.1388ms
2026-01-25 22:10:24.739 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 22:10:24.778 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 4.9651 ms
2026-01-25 22:10:24.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 41.9641ms
2026-01-25 22:10:24.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 22:10:24.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 22:10:24.852 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 20.0173ms
2026-01-25 22:10:24.890 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.0018ms
2026-01-25 22:10:27.002 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 22:10:27.446 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 348.7941 ms
2026-01-25 22:10:27.460 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 458.0526ms
2026-01-25 22:10:40.436 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 22:10:40.441 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:10:40.457 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 22:10:47.212 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:11:08.379 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 27904.5531ms
2026-01-25 22:11:08.418 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:11:08.429 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Job.IsMedical (System.Byte) to Nullable`1.IsMedical (System.Nullable`1[System.Int32])

Mapping types:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Type Map configuration:
Job -> JobDto
HRMS.Core.Entities.Core.Job -> HRMS.Application.DTOs.Core.JobDto

Destination Member:
IsMedical

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQueryHandler.Handle(GetAllJobsQuery request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.JobsController.GetAll(GetAllJobsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 22:11:08.471 +03:00 [ERR] HTTP GET /api/Jobs responded 500 in 28029.6788 ms
2026-01-25 22:11:08.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 500 null text/plain; charset=utf-8 28049.6747ms
2026-01-25 22:14:46.371 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 22:15:48.256 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 22:15:55.419 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 22:15:57.334 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:15:57.338 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:15:57.341 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:16:01.171 +03:00 [INF] Executed DbCommand (252ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.371 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.382 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.395 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.403 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.409 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.414 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.426 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.433 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.439 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.448 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:16:01.519 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 22:16:01.647 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 22:16:01.658 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 22:16:02.388 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 22:16:02.408 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 22:16:02.559 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 22:16:02.562 +03:00 [INF] Hosting environment: Development
2026-01-25 22:16:02.563 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 22:16:11.479 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 22:16:13.361 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1710.6718 ms
2026-01-25 22:16:13.381 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 1907.9734ms
2026-01-25 22:16:13.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 22:16:13.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 22:16:14.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 37.0154ms
2026-01-25 22:16:14.076 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.2866ms
2026-01-25 22:16:14.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 22:16:15.299 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 380.8934 ms
2026-01-25 22:16:15.803 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 890.3983ms
2026-01-25 22:16:24.704 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 22:16:24.729 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:16:24.803 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 22:16:33.987 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:16:35.366 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j1].[JOB_ID] AS [JobId], [j1].[JOB_TITLE_AR] AS [JobTitleAr], [j1].[JOB_TITLE_EN] AS [JobTitleEn], [j1].[DEFAULT_GRADE_ID] AS [DefaultGradeId], [j1].[IS_MEDICAL] AS [IsMedical], [j0].[GRADE_NAME_AR] AS [GradeNameAr]
FROM (
    SELECT [j].[JOB_ID], [j].[DEFAULT_GRADE_ID], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN]
    FROM [HR_CORE].[JOBS] AS [j]
    WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [j].[JOB_TITLE_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [j1]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j1].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
ORDER BY [j1].[JOB_TITLE_AR]
2026-01-25 22:17:15.326 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 22:17:18.662 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 22:17:20.547 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:17:20.551 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:17:20.560 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:17:22.383 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.535 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.541 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.563 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.571 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.581 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.592 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.599 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.606 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.614 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.626 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:17:22.668 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 22:17:22.782 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 22:17:22.800 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 22:17:23.341 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 22:17:23.342 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 22:17:23.514 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 22:17:23.570 +03:00 [INF] Hosting environment: Development
2026-01-25 22:17:23.624 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 22:17:31.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 22:17:31.548 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 255.2161 ms
2026-01-25 22:17:31.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 469.9924ms
2026-01-25 22:17:31.990 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 22:17:31.990 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 22:17:32.006 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 16.8085ms
2026-01-25 22:17:32.070 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.3128ms
2026-01-25 22:17:32.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 22:17:32.739 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 403.0069 ms
2026-01-25 22:17:32.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 438.3859ms
2026-01-25 22:17:41.327 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 22:17:41.392 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:17:41.428 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 22:17:47.983 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:17:49.218 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j1].[JOB_ID] AS [JobId], [j1].[JOB_TITLE_AR] AS [JobTitleAr], [j1].[JOB_TITLE_EN] AS [JobTitleEn], [j1].[DEFAULT_GRADE_ID] AS [DefaultGradeId], [j1].[IS_MEDICAL] AS [IsMedical], [j0].[GRADE_NAME_AR] AS [GradeNameAr]
FROM (
    SELECT [j].[JOB_ID], [j].[DEFAULT_GRADE_ID], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN]
    FROM [HR_CORE].[JOBS] AS [j]
    WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [j].[JOB_TITLE_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [j1]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j1].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
ORDER BY [j1].[JOB_TITLE_AR]
2026-01-25 22:18:56.017 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 22:19:56.501 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 135039.4445ms
2026-01-25 22:19:56.518 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 22:19:56.520 +03:00 [INF] HTTP GET /api/Jobs responded 200 in 135142.5137 ms
2026-01-25 22:19:56.532 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 200 null application/json; charset=utf-8 135204.1857ms
2026-01-25 22:20:25.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades - null null
2026-01-25 22:20:25.935 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 22:20:25.952 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 22:20:26.012 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:21:10.580 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 22:21:16.568 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 22:21:29.569 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API) in 63606.1219ms
2026-01-25 22:21:29.571 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 22:21:29.574 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 63639.9065 ms
2026-01-25 22:21:29.577 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades - 200 null application/json; charset=utf-8 63650.6455ms
2026-01-25 22:22:13.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades - null null
2026-01-25 22:22:13.412 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 22:22:13.414 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 22:22:13.429 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:22:13.439 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 22:22:13.446 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 22:22:13.448 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API) in 32.3142ms
2026-01-25 22:22:13.451 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 22:22:13.452 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 40.6499 ms
2026-01-25 22:22:13.455 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades - 200 null application/json; charset=utf-8 89.9342ms
2026-01-25 22:22:18.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades - null null
2026-01-25 22:22:18.772 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 22:22:18.774 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 22:22:18.788 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 22:26:24.135 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 22:29:41.708 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 22:29:41.725 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API) in 442947.7051ms
2026-01-25 22:29:41.727 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 22:29:41.728 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 442955.9669 ms
2026-01-25 22:29:41.731 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades - 200 null application/json; charset=utf-8 442964.3013ms
2026-01-25 22:29:43.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 22:29:43.365 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.9614 ms
2026-01-25 22:29:43.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 22:29:43.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 22:29:43.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 307.6479ms
2026-01-25 22:29:43.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 35.6097ms
2026-01-25 22:29:43.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.8122ms
2026-01-25 22:29:45.515 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 22:29:45.866 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 342.4680 ms
2026-01-25 22:29:45.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 381.5371ms
2026-01-25 22:30:22.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades?PageNumber=1&PageSize=4&SortDescending=true - null null
2026-01-25 22:30:23.109 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 22:30:23.130 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 22:30:36.748 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API) in 13613.5207ms
2026-01-25 22:30:36.752 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 22:30:36.798 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Runtime.CompilerServices.HotReloadException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQueryHandler..ctor(IApplicationDbContext context)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.JobGradesController.GetAll(GetAllJobGradesQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobGradesController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 22:30:36.895 +03:00 [ERR] HTTP GET /api/JobGrades responded 500 in 13785.7712 ms
2026-01-25 22:30:36.910 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades?PageNumber=1&PageSize=4&SortDescending=true - 500 null text/plain; charset=utf-8 13914.9938ms
2026-01-25 22:36:39.510 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 22:36:43.601 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 22:36:45.810 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:36:45.816 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:36:45.819 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:36:47.876 +03:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.144 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.150 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.161 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.168 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.198 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.216 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.224 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.238 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.247 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.257 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:36:48.295 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 22:36:48.500 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 22:36:48.511 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 22:36:48.996 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 22:36:48.998 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 22:36:49.183 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 22:36:49.186 +03:00 [INF] Hosting environment: Development
2026-01-25 22:36:49.187 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 22:40:07.977 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 22:40:08.500 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 325.3584 ms
2026-01-25 22:40:08.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 544.9823ms
2026-01-25 22:40:09.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 22:40:09.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 22:40:09.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 32.9458ms
2026-01-25 22:40:09.327 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 163.3314ms
2026-01-25 22:40:09.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 22:40:10.703 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 252.4830 ms
2026-01-25 22:40:10.707 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1019.0455ms
2026-01-25 22:40:21.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/personnel/Employees - null null
2026-01-25 22:40:22.033 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.GetAll (HRMS.API)'
2026-01-25 22:40:22.058 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HRMS.Application.Features.Personnel.Employees.DTOs.EmployeeDto]]] GetAll() on controller HRMS.API.Controllers.Personnel.EmployeesController (HRMS.API).
2026-01-25 22:40:22.558 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EMPLOYEE_ID], [e].[BIRTH_DATE], [e].[CREATED_AT], [e].[CREATED_BY], [e].[DEPT_ID], [e].[EMAIL], [e].[EMPLOYEE_NUMBER], [e].[FIRST_NAME_AR], [e].[FULL_NAME_EN], [e].[GENDER], [e].[HIJRI_LAST_NAME_AR], [e].[IS_DELETED], [e].[JOB_ID], [e].[JOINING_DATE], [e].[MANAGER_ID], [e].[MARITAL_STATUS], [e].[MOBILE], [e].[NATIONALITY_ID], [e].[SECOND_NAME_AR], [e].[STATUS], [e].[THIRD_NAME_AR], [e].[UPDATED_AT], [e].[UPDATED_BY], [e].[VERSION_NO], [c].[COUNTRY_ID], [c].[CITIZENSHIP_NAME_AR], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[ISO_CODE], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO], [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_PERSONNEL].[EMPLOYEES] AS [e]
INNER JOIN [HR_CORE].[COUNTRIES] AS [c] ON [e].[NATIONALITY_ID] = [c].[COUNTRY_ID]
INNER JOIN [HR_CORE].[JOBS] AS [j] ON [e].[JOB_ID] = [j].[JOB_ID]
INNER JOIN [HR_CORE].[DEPARTMENTS] AS [d] ON [e].[DEPT_ID] = [d].[DEPT_ID]
WHERE [e].[STATUS] = N'ACTIVE'
ORDER BY [e].[EMPLOYEE_NUMBER]
2026-01-25 22:40:22.603 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HRMS.Application.Features.Personnel.Employees.DTOs.EmployeeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 22:40:22.626 +03:00 [INF] Executed action HRMS.API.Controllers.Personnel.EmployeesController.GetAll (HRMS.API) in 558.5062ms
2026-01-25 22:40:22.629 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.Personnel.EmployeesController.GetAll (HRMS.API)'
2026-01-25 22:40:22.631 +03:00 [INF] HTTP GET /api/personnel/Employees responded 200 in 620.5441 ms
2026-01-25 22:40:22.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/personnel/Employees - 200 null application/json; charset=utf-8 644.9552ms
2026-01-25 22:40:54.979 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Departments - application/json 143
2026-01-25 22:40:55.000 +03:00 [INF] CORS policy execution successful.
2026-01-25 22:40:55.006 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 22:40:55.022 +03:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommand) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 22:40:55.411 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[DEPARTMENTS] ([BranchId], [COST_CENTER_CODE], [CREATED_AT], [CREATED_BY], [DEPT_NAME_AR], [DEPT_NAME_EN], [IS_ACTIVE], [IS_DELETED], [MANAGER_ID], [PARENT_DEPT_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[DEPT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-25 22:40:55.481 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY SAME TABLE constraint "FK_DEPARTMENTS_DEPARTMENTS_PARENT_DEPT_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.DEPARTMENTS", column 'DEPT_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57e6e8a0-fa7e-4a00-b389-8df430d6d19b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY SAME TABLE constraint "FK_DEPARTMENTS_DEPARTMENTS_PARENT_DEPT_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.DEPARTMENTS", column 'DEPT_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57e6e8a0-fa7e-4a00-b389-8df430d6d19b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 22:41:17.762 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.Create (HRMS.API) in 22734.5312ms
2026-01-25 22:41:17.825 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 22:41:17.832 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY SAME TABLE constraint "FK_DEPARTMENTS_DEPARTMENTS_PARENT_DEPT_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.DEPARTMENTS", column 'DEPT_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57e6e8a0-fa7e-4a00-b389-8df430d6d19b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommandHandler.Handle(CreateDepartmentCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Departments\Commands\CreateDepartment\CreateDepartmentCommandHandler.cs:line 25
   at HRMS.API.Controllers.DepartmentsController.Create(CreateDepartmentCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\DepartmentsController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 22:41:17.919 +03:00 [ERR] HTTP POST /api/Departments responded 500 in 22928.7235 ms
2026-01-25 22:41:17.923 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Departments - 500 null text/plain; charset=utf-8 22975.7007ms
2026-01-25 22:41:30.645 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Departments - application/json 146
2026-01-25 22:41:30.690 +03:00 [INF] CORS policy execution successful.
2026-01-25 22:41:30.692 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 22:41:30.694 +03:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommand) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 22:41:30.719 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[DEPARTMENTS] ([BranchId], [COST_CENTER_CODE], [CREATED_AT], [CREATED_BY], [DEPT_NAME_AR], [DEPT_NAME_EN], [IS_ACTIVE], [IS_DELETED], [MANAGER_ID], [PARENT_DEPT_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[DEPT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-25 22:41:30.807 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 22:41:30.814 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.Create (HRMS.API) in 115.6238ms
2026-01-25 22:41:30.817 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 22:41:30.819 +03:00 [INF] HTTP POST /api/Departments responded 200 in 129.3974 ms
2026-01-25 22:41:30.822 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Departments - 200 null application/json; charset=utf-8 177.1505ms
2026-01-25 22:51:18.138 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 22:51:22.895 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 22:51:27.095 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:51:27.099 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:51:27.101 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 22:51:29.705 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:29.955 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:29.961 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:29.969 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:29.974 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:29.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:29.987 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:29.995 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:30.002 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:30.011 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:30.023 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:30.040 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:30.051 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 22:51:30.088 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 22:51:30.209 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 22:51:30.222 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 22:51:30.796 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 22:51:30.798 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 22:51:31.009 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 22:51:31.056 +03:00 [INF] Hosting environment: Development
2026-01-25 22:51:31.062 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 22:57:53.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 22:57:54.083 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 289.1742 ms
2026-01-25 22:57:54.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 609.6796ms
2026-01-25 22:57:55.071 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 22:57:55.071 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 22:57:55.119 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 48.1346ms
2026-01-25 22:57:55.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.451ms
2026-01-25 22:57:55.955 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 22:57:56.363 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 393.6122 ms
2026-01-25 22:57:56.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 432.6601ms
2026-01-25 22:58:05.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks - null null
2026-01-25 22:58:05.966 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.GetAll (HRMS.API)'
2026-01-25 22:58:06.008 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 22:58:06.350 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-01-25 22:58:06.436 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 22:58:06.490 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 22:58:06.508 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.GetAll (HRMS.API) in 490.5226ms
2026-01-25 22:58:06.510 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.GetAll (HRMS.API)'
2026-01-25 22:58:06.513 +03:00 [INF] HTTP GET /api/Banks responded 200 in 571.4716 ms
2026-01-25 22:58:06.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks - 200 null application/json; charset=utf-8 593.8921ms
2026-01-25 23:00:03.662 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Banks/1 - application/json 233
2026-01-25 23:00:03.716 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:00:03.727 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.Update (HRMS.API)'
2026-01-25 23:00:03.735 +03:00 [INF] Route matched with {action = "Update", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.DTOs.Core.UpdateBankDto) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:00:03.815 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_BankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BANK_ID], [b].[ADDRESS], [b].[BANK_CODE], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[SWIFT_CODE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
WHERE [b].[BANK_ID] = @__request_BankId_0
2026-01-25 23:00:04.043 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 20), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (Size = 20), @p6='?' (Size = 11), @p7='?' (DbType = DateTime2), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[BANKS] SET [ADDRESS] = @p0, [BANK_CODE] = @p1, [BANK_NAME_AR] = @p2, [BANK_NAME_EN] = @p3, [EMAIL] = @p4, [PHONE] = @p5, [SWIFT_CODE] = @p6, [UPDATED_AT] = @p7
OUTPUT 1
WHERE [BANK_ID] = @p8 AND [VERSION_NO] = @p9;
2026-01-25 23:00:04.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:00:04.085 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.Update (HRMS.API) in 348.0592ms
2026-01-25 23:00:04.150 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.Update (HRMS.API)'
2026-01-25 23:00:04.168 +03:00 [INF] HTTP PUT /api/Banks/1 responded 200 in 456.7814 ms
2026-01-25 23:00:04.178 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Banks/1 - 200 null application/json; charset=utf-8 515.1627ms
2026-01-25 23:00:15.716 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks - null null
2026-01-25 23:00:15.725 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.GetAll (HRMS.API)'
2026-01-25 23:00:15.727 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:00:15.747 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-01-25 23:00:15.763 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 23:00:15.768 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:00:15.770 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.GetAll (HRMS.API) in 40.168ms
2026-01-25 23:00:15.773 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.GetAll (HRMS.API)'
2026-01-25 23:00:15.775 +03:00 [INF] HTTP GET /api/Banks responded 200 in 50.2464 ms
2026-01-25 23:00:15.778 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks - 200 null application/json; charset=utf-8 61.4992ms
2026-01-25 23:02:18.361 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Banks - application/json 242
2026-01-25 23:02:18.401 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:02:18.402 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 23:02:18.410 +03:00 [INF] Route matched with {action = "Create", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Banks.Commands.CreateBank.CreateBankCommand) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:02:18.488 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 20), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[BANKS] ([ADDRESS], [BANK_CODE], [BANK_NAME_AR], [BANK_NAME_EN], [CREATED_AT], [CREATED_BY], [EMAIL], [IS_DELETED], [PHONE], [SWIFT_CODE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[BANK_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-25 23:02:18.549 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.BANKS', column 'SWIFT_CODE'. Truncated value: 'KORAGKECKXX'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cd8e810a-4f93-48b8-9553-58df9fa146d9
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.BANKS', column 'SWIFT_CODE'. Truncated value: 'KORAGKECKXX'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cd8e810a-4f93-48b8-9553-58df9fa146d9
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 23:02:29.261 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.Create (HRMS.API) in 10847.0234ms
2026-01-25 23:02:29.267 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 23:02:29.274 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.BANKS', column 'SWIFT_CODE'. Truncated value: 'KORAGKECKXX'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cd8e810a-4f93-48b8-9553-58df9fa146d9
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Core.Banks.Commands.CreateBank.CreateBankCommandHandler.Handle(CreateBankCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Banks\Commands\CreateBank\CreateBankCommandHandler.cs:line 47
   at HRMS.API.Controllers.BanksController.Create(CreateBankCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\BanksController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:02:29.392 +03:00 [ERR] HTTP POST /api/Banks responded 500 in 10991.8281 ms
2026-01-25 23:02:29.400 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Banks - 500 null text/plain; charset=utf-8 11038.4279ms
2026-01-25 23:03:18.035 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Banks - application/json 242
2026-01-25 23:03:18.046 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:03:18.051 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 23:03:18.052 +03:00 [INF] Route matched with {action = "Create", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Banks.Commands.CreateBank.CreateBankCommand) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:03:18.076 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 20), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[BANKS] ([ADDRESS], [BANK_CODE], [BANK_NAME_AR], [BANK_NAME_EN], [CREATED_AT], [CREATED_BY], [EMAIL], [IS_DELETED], [PHONE], [SWIFT_CODE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[BANK_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-25 23:03:18.087 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.BANKS', column 'SWIFT_CODE'. Truncated value: 'KORAGKECKXX'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cd8e810a-4f93-48b8-9553-58df9fa146d9
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.BANKS', column 'SWIFT_CODE'. Truncated value: 'KORAGKECKXX'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cd8e810a-4f93-48b8-9553-58df9fa146d9
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 23:03:30.003 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.Create (HRMS.API) in 11947.7596ms
2026-01-25 23:03:30.019 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 23:03:30.021 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'HRMS_Hospital.HR_CORE.BANKS', column 'SWIFT_CODE'. Truncated value: 'KORAGKECKXX'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cd8e810a-4f93-48b8-9553-58df9fa146d9
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Core.Banks.Commands.CreateBank.CreateBankCommandHandler.Handle(CreateBankCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Banks\Commands\CreateBank\CreateBankCommandHandler.cs:line 47
   at HRMS.API.Controllers.BanksController.Create(CreateBankCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\BanksController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:03:30.107 +03:00 [ERR] HTTP POST /api/Banks responded 500 in 12060.3732 ms
2026-01-25 23:03:30.116 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Banks - 500 null text/plain; charset=utf-8 12081.5142ms
2026-01-25 23:03:40.924 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Banks - application/json 232
2026-01-25 23:03:40.928 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:03:40.930 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 23:03:40.932 +03:00 [INF] Route matched with {action = "Create", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Banks.Commands.CreateBank.CreateBankCommand) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:03:40.973 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 20), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (Size = 20), @p9='?' (Size = 11), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[BANKS] ([ADDRESS], [BANK_CODE], [BANK_NAME_AR], [BANK_NAME_EN], [CREATED_AT], [CREATED_BY], [EMAIL], [IS_DELETED], [PHONE], [SWIFT_CODE], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[BANK_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-25 23:03:41.024 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:03:41.064 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.Create (HRMS.API) in 127.3486ms
2026-01-25 23:03:41.069 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.Create (HRMS.API)'
2026-01-25 23:03:41.072 +03:00 [INF] HTTP POST /api/Banks responded 201 in 143.3053 ms
2026-01-25 23:03:41.074 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Banks - 201 null application/json; charset=utf-8 150.5214ms
2026-01-25 23:03:51.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks/2 - null null
2026-01-25 23:03:51.765 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.GetById (HRMS.API)'
2026-01-25 23:03:51.772 +03:00 [INF] Route matched with {action = "GetById", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:03:51.821 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_BankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[PHONE], [b].[EMAIL], [b].[CREATED_AT], [b].[CREATED_BY], [b].[IS_DELETED], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
WHERE [b].[BANK_ID] = @__request_BankId_0
2026-01-25 23:03:51.828 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.BankDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:03:51.848 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.GetById (HRMS.API) in 72.7178ms
2026-01-25 23:03:51.850 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.GetById (HRMS.API)'
2026-01-25 23:03:51.852 +03:00 [INF] HTTP GET /api/Banks/2 responded 404 in 87.2098 ms
2026-01-25 23:03:51.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks/2 - 404 null application/json; charset=utf-8 93.9764ms
2026-01-25 23:04:00.122 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks - null null
2026-01-25 23:04:00.127 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.GetAll (HRMS.API)'
2026-01-25 23:04:00.129 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:04:00.137 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-01-25 23:04:00.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 23:04:00.174 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:04:00.182 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.GetAll (HRMS.API) in 49.7374ms
2026-01-25 23:04:00.186 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.GetAll (HRMS.API)'
2026-01-25 23:04:00.188 +03:00 [INF] HTTP GET /api/Banks responded 200 in 61.0536 ms
2026-01-25 23:04:00.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks - 200 null application/json; charset=utf-8 79.4264ms
2026-01-25 23:04:09.009 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks/4 - null null
2026-01-25 23:04:09.018 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.GetById (HRMS.API)'
2026-01-25 23:04:09.021 +03:00 [INF] Route matched with {action = "GetById", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:04:09.045 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_BankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[PHONE], [b].[EMAIL], [b].[CREATED_AT], [b].[CREATED_BY], [b].[IS_DELETED], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
WHERE [b].[BANK_ID] = @__request_BankId_0
2026-01-25 23:04:09.053 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.BankDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:04:09.061 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.GetById (HRMS.API) in 32.3407ms
2026-01-25 23:04:09.065 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.GetById (HRMS.API)'
2026-01-25 23:04:09.068 +03:00 [INF] HTTP GET /api/Banks/4 responded 200 in 50.4028 ms
2026-01-25 23:04:09.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks/4 - 200 null application/json; charset=utf-8 61.5774ms
2026-01-25 23:04:27.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Countries - null null
2026-01-25 23:04:27.751 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 23:04:27.759 +03:00 [INF] Route matched with {action = "GetAll", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Countries.Queries.GetAllCountries.GetAllCountriesQuery) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 23:04:27.794 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[COUNTRIES] AS [c]
2026-01-25 23:04:27.885 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[COUNTRY_ID], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[ISO_CODE], [c].[CITIZENSHIP_NAME_AR], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
ORDER BY [c].[COUNTRY_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 23:04:27.891 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.CountryListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:04:27.902 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.GetAll (HRMS.API) in 139.6081ms
2026-01-25 23:04:27.904 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.GetAll (HRMS.API)'
2026-01-25 23:04:27.907 +03:00 [INF] HTTP GET /api/Countries responded 200 in 155.8119 ms
2026-01-25 23:04:27.910 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Countries - 200 null application/json; charset=utf-8 163.6013ms
2026-01-25 23:04:38.503 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Countries/2 - null null
2026-01-25 23:04:38.507 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.CountriesController.GetById (HRMS.API)'
2026-01-25 23:04:38.514 +03:00 [INF] Route matched with {action = "GetById", controller = "Countries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HRMS.API.Controllers.CountriesController (HRMS.API).
2026-01-25 23:04:38.651 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_CountryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[COUNTRY_ID], [c].[COUNTRY_NAME_AR], [c].[COUNTRY_NAME_EN], [c].[CITIZENSHIP_NAME_AR], [c].[ISO_CODE], [c].[CREATED_AT], [c].[CREATED_BY], [c].[IS_DELETED], [c].[UPDATED_AT], [c].[UPDATED_BY], [c].[VERSION_NO], (
    SELECT COUNT(*)
    FROM [HR_CORE].[CITIES] AS [c0]
    WHERE [c].[COUNTRY_ID] = [c0].[COUNTRY_ID])
FROM [HR_CORE].[COUNTRIES] AS [c]
WHERE [c].[COUNTRY_ID] = @__request_CountryId_0
2026-01-25 23:04:38.676 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.CountryDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:04:38.684 +03:00 [INF] Executed action HRMS.API.Controllers.CountriesController.GetById (HRMS.API) in 165.4017ms
2026-01-25 23:04:38.688 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.CountriesController.GetById (HRMS.API)'
2026-01-25 23:04:38.690 +03:00 [INF] HTTP GET /api/Countries/2 responded 200 in 183.3701 ms
2026-01-25 23:04:38.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Countries/2 - 200 null application/json; charset=utf-8 190.2972ms
2026-01-25 23:05:14.968 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Departments - null null
2026-01-25 23:05:14.972 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:05:14.982 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 23:05:15.243 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:06:16.201 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API) in 61215.2275ms
2026-01-25 23:06:16.223 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:06:16.228 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Department.IsActive (System.Byte) to Nullable`1.IsActive (System.Nullable`1[System.Int32])

Mapping types:
Department -> DepartmentDto
HRMS.Core.Entities.Core.Department -> HRMS.Application.DTOs.Core.DepartmentDto

Type Map configuration:
Department -> DepartmentDto
HRMS.Core.Entities.Core.Department -> HRMS.Application.DTOs.Core.DepartmentDto

Destination Member:
IsActive

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQueryHandler.Handle(GetAllDepartmentsQuery request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.DepartmentsController.GetAll(GetAllDepartmentsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\DepartmentsController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:06:16.271 +03:00 [ERR] HTTP GET /api/Departments responded 500 in 61299.7174 ms
2026-01-25 23:06:16.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Departments - 500 null text/plain; charset=utf-8 61306.5197ms
2026-01-25 23:06:17.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 23:06:18.017 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 4.9229 ms
2026-01-25 23:06:18.021 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 426.0161ms
2026-01-25 23:06:18.101 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 23:06:18.101 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 23:06:18.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 30.7056ms
2026-01-25 23:06:18.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 627.6013ms
2026-01-25 23:06:19.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 23:06:20.280 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 579.4524 ms
2026-01-25 23:06:20.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 662.1977ms
2026-01-25 23:06:30.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks - null null
2026-01-25 23:06:30.342 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.GetAll (HRMS.API)'
2026-01-25 23:06:30.396 +03:00 [INF] Route matched with {action = "GetAll", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Banks.Queries.GetAllBanks.GetAllBanksQuery) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:06:30.409 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[BANKS] AS [b]
2026-01-25 23:06:30.418 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[CREATED_AT], [b].[CREATED_BY], [b].[EMAIL], [b].[IS_DELETED], [b].[PHONE], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
ORDER BY [b].[BANK_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 23:06:30.425 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.BankListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:06:30.432 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.GetAll (HRMS.API) in 32.6694ms
2026-01-25 23:06:30.435 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.GetAll (HRMS.API)'
2026-01-25 23:06:30.437 +03:00 [INF] HTTP GET /api/Banks responded 200 in 95.2423 ms
2026-01-25 23:06:30.442 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks - 200 null application/json; charset=utf-8 108.2284ms
2026-01-25 23:06:44.817 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Departments - null null
2026-01-25 23:06:44.825 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:06:44.855 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 23:06:44.873 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:06:48.365 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API) in 3500.8082ms
2026-01-25 23:06:48.412 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:06:48.415 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Department.IsActive (System.Byte) to Nullable`1.IsActive (System.Nullable`1[System.Int32])

Mapping types:
Department -> DepartmentDto
HRMS.Core.Entities.Core.Department -> HRMS.Application.DTOs.Core.DepartmentDto

Type Map configuration:
Department -> DepartmentDto
HRMS.Core.Entities.Core.Department -> HRMS.Application.DTOs.Core.DepartmentDto

Destination Member:
IsActive

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQueryHandler.Handle(GetAllDepartmentsQuery request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.DepartmentsController.GetAll(GetAllDepartmentsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\DepartmentsController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:06:48.451 +03:00 [ERR] HTTP GET /api/Departments responded 500 in 3626.6806 ms
2026-01-25 23:06:48.455 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Departments - 500 null text/plain; charset=utf-8 3637.2543ms
2026-01-25 23:06:54.597 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Departments - null null
2026-01-25 23:06:54.602 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:06:54.603 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 23:06:54.610 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:06:57.059 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API) in 2451.6147ms
2026-01-25 23:06:57.081 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:06:57.084 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Unable to create a map expression from Department.IsActive (System.Byte) to Nullable`1.IsActive (System.Nullable`1[System.Int32])

Mapping types:
Department -> DepartmentDto
HRMS.Core.Entities.Core.Department -> HRMS.Application.DTOs.Core.DepartmentDto

Type Map configuration:
Department -> DepartmentDto
HRMS.Core.Entities.Core.Department -> HRMS.Application.DTOs.Core.DepartmentDto

Destination Member:
IsActive

   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQueryHandler.Handle(GetAllDepartmentsQuery request, CancellationToken cancellationToken)
   at HRMS.API.Controllers.DepartmentsController.GetAll(GetAllDepartmentsQuery query) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\DepartmentsController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:06:57.122 +03:00 [ERR] HTTP GET /api/Departments responded 500 in 2520.5166 ms
2026-01-25 23:06:57.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Departments - 500 null text/plain; charset=utf-8 2538.1911ms
2026-01-25 23:07:25.595 +03:00 [INF] ðŸš€ Starting HRMS Hospital API...
2026-01-25 23:07:31.265 +03:00 [INF] User profile is available. Using 'C:\Users\MT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-25 23:07:34.267 +03:00 [WRN] No store type was specified for the decimal property 'HoursCount' on entity type 'ShiftType'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 23:07:34.272 +03:00 [WRN] No store type was specified for the decimal property 'MaxSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 23:07:34.274 +03:00 [WRN] No store type was specified for the decimal property 'MinSalary' on entity type 'JobGrade'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-25 23:07:36.714 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.896 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.902 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.914 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.932 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.942 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.952 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.974 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:36.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-01-25 23:07:37.024 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:07:37.176 +03:00 [INF] âœ… Default roles and admin user seeded successfully
2026-01-25 23:07:37.191 +03:00 [INF] âœ… HRMS Hospital API started successfully
2026-01-25 23:07:37.707 +03:00 [INF] Now listening on: https://localhost:7053
2026-01-25 23:07:37.709 +03:00 [INF] Now listening on: http://localhost:5212
2026-01-25 23:07:37.907 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-25 23:07:37.909 +03:00 [INF] Hosting environment: Development
2026-01-25 23:07:37.911 +03:00 [INF] Content root path: G:\HRMS_Hospital\Backend\HRMS\HRMS.API
2026-01-25 23:07:41.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/index.html - null null
2026-01-25 23:07:41.897 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 360.2029 ms
2026-01-25 23:07:41.900 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - null null
2026-01-25 23:07:41.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/index.html - 200 null text/html;charset=utf-8 705.1846ms
2026-01-25 23:07:41.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_framework/aspnetcore-browser-refresh.js - 200 16501 application/javascript; charset=utf-8 35.0303ms
2026-01-25 23:07:42.828 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/_vs/browserLink - null null
2026-01-25 23:07:42.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/_vs/browserLink - 200 null text/javascript; charset=UTF-8 156.2187ms
2026-01-25 23:07:44.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - null null
2026-01-25 23:07:45.344 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 368.4653 ms
2026-01-25 23:07:45.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1079.3411ms
2026-01-25 23:07:54.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Departments - null null
2026-01-25 23:07:54.679 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:07:54.746 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 23:07:55.216 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:07:55.427 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d1].[DEPT_ID] AS [DeptId], [d1].[DEPT_NAME_AR] AS [DeptNameAr], [d1].[DEPT_NAME_EN] AS [DeptNameEn], [d1].[PARENT_DEPT_ID] AS [ParentDeptId], [d1].[COST_CENTER_CODE] AS [CostCenterCode], [d1].[MANAGER_ID] AS [ManagerId], [d1].[IS_ACTIVE] AS [IsActive], [d0].[DEPT_NAME_AR] AS [ParentDeptNameAr]
FROM (
    SELECT [d].[DEPT_ID], [d].[COST_CENTER_CODE], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID]
    FROM [HR_CORE].[DEPARTMENTS] AS [d]
    WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [d].[DEPT_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d1]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d0] ON [d1].[PARENT_DEPT_ID] = [d0].[DEPT_ID]
ORDER BY [d1].[DEPT_NAME_AR]
2026-01-25 23:07:55.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DepartmentDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:07:55.487 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API) in 728.5119ms
2026-01-25 23:07:55.490 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:07:55.491 +03:00 [INF] HTTP GET /api/Departments responded 200 in 845.5555 ms
2026-01-25 23:07:55.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Departments - 200 null application/json; charset=utf-8 864.9135ms
2026-01-25 23:09:10.135 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Departments - application/json 131
2026-01-25 23:09:10.155 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:09:10.232 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 23:09:10.267 +03:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.Departments.Commands.CreateDepartment.CreateDepartmentCommand) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 23:09:10.720 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 1) (DbType = Byte), @p7='?' (Size = 1) (DbType = Byte), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (Size = 50), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[DEPARTMENTS] ([BranchId], [COST_CENTER_CODE], [CREATED_AT], [CREATED_BY], [DEPT_NAME_AR], [DEPT_NAME_EN], [IS_ACTIVE], [IS_DELETED], [MANAGER_ID], [PARENT_DEPT_ID], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[DEPT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2026-01-25 23:09:10.794 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:09:10.833 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.Create (HRMS.API) in 558.804ms
2026-01-25 23:09:10.835 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.Create (HRMS.API)'
2026-01-25 23:09:10.837 +03:00 [INF] HTTP POST /api/Departments responded 201 in 690.6015 ms
2026-01-25 23:09:10.839 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Departments - 201 null application/json; charset=utf-8 704.548ms
2026-01-25 23:09:17.870 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Departments - null null
2026-01-25 23:09:17.875 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:09:17.877 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 23:09:17.945 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:09:18.057 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d1].[DEPT_ID] AS [DeptId], [d1].[DEPT_NAME_AR] AS [DeptNameAr], [d1].[DEPT_NAME_EN] AS [DeptNameEn], [d1].[PARENT_DEPT_ID] AS [ParentDeptId], [d1].[COST_CENTER_CODE] AS [CostCenterCode], [d1].[MANAGER_ID] AS [ManagerId], [d1].[IS_ACTIVE] AS [IsActive], [d0].[DEPT_NAME_AR] AS [ParentDeptNameAr]
FROM (
    SELECT [d].[DEPT_ID], [d].[COST_CENTER_CODE], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID]
    FROM [HR_CORE].[DEPARTMENTS] AS [d]
    WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [d].[DEPT_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d1]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d0] ON [d1].[PARENT_DEPT_ID] = [d0].[DEPT_ID]
ORDER BY [d1].[DEPT_NAME_AR]
2026-01-25 23:09:18.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DepartmentDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:09:18.067 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API) in 186.2615ms
2026-01-25 23:09:18.071 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:09:18.073 +03:00 [INF] HTTP GET /api/Departments responded 200 in 199.0785 ms
2026-01-25 23:09:18.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Departments - 200 null application/json; charset=utf-8 206.1479ms
2026-01-25 23:10:27.727 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Departments/3 - application/json 161
2026-01-25 23:10:27.858 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:10:27.866 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.Update (HRMS.API)'
2026-01-25 23:10:27.884 +03:00 [INF] Route matched with {action = "Update", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.Features.Core.Departments.Commands.UpdateDepartment.UpdateDepartmentCommand) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 23:10:27.945 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_DeptId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DEPT_ID], [d].[BranchId], [d].[COST_CENTER_CODE], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[IS_DELETED], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[DEPT_ID] = @__request_DeptId_0 AND [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:10:27.979 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[DEPARTMENTS] SET [COST_CENTER_CODE] = @p0, [DEPT_NAME_AR] = @p1, [DEPT_NAME_EN] = @p2, [UPDATED_AT] = @p3
OUTPUT 1
WHERE [DEPT_ID] = @p4 AND [VERSION_NO] = @p5;
2026-01-25 23:10:27.990 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:10:27.993 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.Update (HRMS.API) in 105.5142ms
2026-01-25 23:10:27.997 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.Update (HRMS.API)'
2026-01-25 23:10:28.000 +03:00 [INF] HTTP PUT /api/Departments/3 responded 200 in 142.2304 ms
2026-01-25 23:10:28.003 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Departments/3 - 200 null application/json; charset=utf-8 276.9643ms
2026-01-25 23:10:36.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Departments - null null
2026-01-25 23:10:36.302 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:10:36.306 +03:00 [INF] Route matched with {action = "GetAll", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Departments.Queries.GetAllDepartments.GetAllDepartmentsQuery) on controller HRMS.API.Controllers.DepartmentsController (HRMS.API).
2026-01-25 23:10:36.336 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DEPARTMENTS] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:10:36.368 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d1].[DEPT_ID] AS [DeptId], [d1].[DEPT_NAME_AR] AS [DeptNameAr], [d1].[DEPT_NAME_EN] AS [DeptNameEn], [d1].[PARENT_DEPT_ID] AS [ParentDeptId], [d1].[COST_CENTER_CODE] AS [CostCenterCode], [d1].[MANAGER_ID] AS [ManagerId], [d1].[IS_ACTIVE] AS [IsActive], [d0].[DEPT_NAME_AR] AS [ParentDeptNameAr]
FROM (
    SELECT [d].[DEPT_ID], [d].[COST_CENTER_CODE], [d].[DEPT_NAME_AR], [d].[DEPT_NAME_EN], [d].[IS_ACTIVE], [d].[MANAGER_ID], [d].[PARENT_DEPT_ID]
    FROM [HR_CORE].[DEPARTMENTS] AS [d]
    WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [d].[DEPT_NAME_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [d1]
LEFT JOIN [HR_CORE].[DEPARTMENTS] AS [d0] ON [d1].[PARENT_DEPT_ID] = [d0].[DEPT_ID]
ORDER BY [d1].[DEPT_NAME_AR]
2026-01-25 23:10:36.375 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DepartmentDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:10:36.378 +03:00 [INF] Executed action HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API) in 68.2399ms
2026-01-25 23:10:36.381 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DepartmentsController.GetAll (HRMS.API)'
2026-01-25 23:10:36.384 +03:00 [INF] HTTP GET /api/Departments responded 200 in 81.4517 ms
2026-01-25 23:10:36.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Departments - 200 null application/json; charset=utf-8 88.4068ms
2026-01-25 23:11:25.631 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 23:11:25.635 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 23:11:25.648 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 23:11:28.478 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:11:30.801 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j1].[JOB_ID] AS [JobId], [j1].[JOB_TITLE_AR] AS [JobTitleAr], [j1].[JOB_TITLE_EN] AS [JobTitleEn], [j1].[DEFAULT_GRADE_ID] AS [DefaultGradeId], [j1].[IS_MEDICAL] AS [IsMedical], [j0].[GRADE_NAME_AR] AS [GradeNameAr]
FROM (
    SELECT [j].[JOB_ID], [j].[DEFAULT_GRADE_ID], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN]
    FROM [HR_CORE].[JOBS] AS [j]
    WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [j].[JOB_TITLE_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [j1]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j1].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
ORDER BY [j1].[JOB_TITLE_AR]
2026-01-25 23:11:30.809 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:11:32.190 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 6524.8492ms
2026-01-25 23:11:32.194 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 23:11:32.198 +03:00 [INF] HTTP GET /api/Jobs responded 200 in 6562.5245 ms
2026-01-25 23:11:32.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 200 null application/json; charset=utf-8 6574.293ms
2026-01-25 23:12:48.240 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Jobs/2 - application/json 119
2026-01-25 23:12:48.263 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:12:48.266 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.Update (HRMS.API)'
2026-01-25 23:12:48.276 +03:00 [INF] Route matched with {action = "Update", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.Features.Core.Jobs.Commands.UpdateJob.UpdateJobCommand) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 23:12:48.423 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_JobId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[JOB_ID] = @__request_JobId_0 AND [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:12:48.497 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[JOBS] SET [DEFAULT_GRADE_ID] = @p0, [JOB_TITLE_AR] = @p1, [JOB_TITLE_EN] = @p2, [UPDATED_AT] = @p3
OUTPUT 1
WHERE [JOB_ID] = @p4 AND [VERSION_NO] = @p5;
2026-01-25 23:12:48.546 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_JOBS_JOB_GRADES_DEFAULT_GRADE_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.JOB_GRADES", column 'JOB_GRADE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_JOBS_JOB_GRADES_DEFAULT_GRADE_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.JOB_GRADES", column 'JOB_GRADE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 23:12:56.643 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.Update (HRMS.API) in 8262.9394ms
2026-01-25 23:12:56.651 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.Update (HRMS.API)'
2026-01-25 23:12:56.662 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_JOBS_JOB_GRADES_DEFAULT_GRADE_ID". The conflict occurred in database "HRMS_Hospital", table "HR_CORE.JOB_GRADES", column 'JOB_GRADE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HRMS.Application.Features.Core.Jobs.Commands.UpdateJob.UpdateJobCommandHandler.Handle(UpdateJobCommand request, CancellationToken cancellationToken) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Features\Core\Jobs\Commands\UpdateJob\UpdateJobCommandHandler.cs:line 30
   at HRMS.API.Controllers.JobsController.Update(Int32 id, UpdateJobCommand command) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\JobsController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:12:56.776 +03:00 [ERR] HTTP PUT /api/Jobs/2 responded 500 in 8512.6879 ms
2026-01-25 23:12:56.780 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Jobs/2 - 500 null text/plain; charset=utf-8 8539.2297ms
2026-01-25 23:13:04.268 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/Jobs/2 - application/json 119
2026-01-25 23:13:04.273 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:13:04.275 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.Update (HRMS.API)'
2026-01-25 23:13:04.276 +03:00 [INF] Route matched with {action = "Update", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.Features.Core.Jobs.Commands.UpdateJob.UpdateJobCommand) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 23:13:04.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_JobId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[JOB_ID], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DEFAULT_GRADE_ID], [j].[DepartmentDeptId], [j].[IS_DELETED], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[JOB_ID] = @__request_JobId_0 AND [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:13:04.306 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[JOBS] SET [JOB_TITLE_AR] = @p0, [JOB_TITLE_EN] = @p1, [UPDATED_AT] = @p2
OUTPUT 1
WHERE [JOB_ID] = @p3 AND [VERSION_NO] = @p4;
2026-01-25 23:13:07.009 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:13:07.032 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.Update (HRMS.API) in 2752.8456ms
2026-01-25 23:13:07.036 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.Update (HRMS.API)'
2026-01-25 23:13:07.042 +03:00 [INF] HTTP PUT /api/Jobs/2 responded 200 in 2768.8999 ms
2026-01-25 23:13:07.055 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/Jobs/2 - 200 null application/json; charset=utf-8 2787.1769ms
2026-01-25 23:13:15.002 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs - null null
2026-01-25 23:13:15.012 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 23:13:15.014 +03:00 [INF] Route matched with {action = "GetAll", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.Jobs.Queries.GetAllJobs.GetAllJobsQuery) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 23:13:17.170 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOBS] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:13:18.049 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j1].[JOB_ID] AS [JobId], [j1].[JOB_TITLE_AR] AS [JobTitleAr], [j1].[JOB_TITLE_EN] AS [JobTitleEn], [j1].[DEFAULT_GRADE_ID] AS [DefaultGradeId], [j1].[IS_MEDICAL] AS [IsMedical], [j0].[GRADE_NAME_AR] AS [GradeNameAr]
FROM (
    SELECT [j].[JOB_ID], [j].[DEFAULT_GRADE_ID], [j].[IS_MEDICAL], [j].[JOB_TITLE_AR], [j].[JOB_TITLE_EN]
    FROM [HR_CORE].[JOBS] AS [j]
    WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
    ORDER BY [j].[JOB_TITLE_AR]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [j1]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j1].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
ORDER BY [j1].[JOB_TITLE_AR]
2026-01-25 23:13:18.061 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:13:18.366 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetAll (HRMS.API) in 3348.0515ms
2026-01-25 23:13:18.375 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetAll (HRMS.API)'
2026-01-25 23:13:18.380 +03:00 [INF] HTTP GET /api/Jobs responded 200 in 3367.6162 ms
2026-01-25 23:13:18.383 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs - 200 null application/json; charset=utf-8 3380.5252ms
2026-01-25 23:13:41.875 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Jobs/2 - null null
2026-01-25 23:13:41.881 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobsController.GetById (HRMS.API)'
2026-01-25 23:13:41.899 +03:00 [INF] Route matched with {action = "GetById", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HRMS.API.Controllers.JobsController (HRMS.API).
2026-01-25 23:13:41.942 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_JobId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[JOB_ID] AS [JobId], [j].[JOB_TITLE_AR] AS [JobTitleAr], [j].[JOB_TITLE_EN] AS [JobTitleEn], [j].[DEFAULT_GRADE_ID] AS [DefaultGradeId], [j].[IS_MEDICAL] AS [IsMedical], [j0].[GRADE_NAME_AR] AS [GradeNameAr]
FROM [HR_CORE].[JOBS] AS [j]
LEFT JOIN [HR_CORE].[JOB_GRADES] AS [j0] ON [j].[DEFAULT_GRADE_ID] = [j0].[JOB_GRADE_ID]
WHERE [j].[JOB_ID] = @__request_JobId_0 AND [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:13:41.947 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.JobDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:13:43.994 +03:00 [INF] Executed action HRMS.API.Controllers.JobsController.GetById (HRMS.API) in 2082.1763ms
2026-01-25 23:13:44.008 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobsController.GetById (HRMS.API)'
2026-01-25 23:13:44.010 +03:00 [INF] HTTP GET /api/Jobs/2 responded 200 in 2129.6367 ms
2026-01-25 23:13:44.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Jobs/2 - 200 null application/json; charset=utf-8 2138.8666ms
2026-01-25 23:14:05.903 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades - null null
2026-01-25 23:14:05.920 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 23:14:05.946 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 23:14:05.977 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:14:05.992 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 23:14:06.003 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:14:06.021 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API) in 66.603ms
2026-01-25 23:14:06.024 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 23:14:06.026 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 105.8165 ms
2026-01-25 23:14:06.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades - 200 null application/json; charset=utf-8 125.1896ms
2026-01-25 23:15:51.617 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/JobGrades - application/json 227
2026-01-25 23:15:51.632 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:15:51.633 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.Create (HRMS.API)'
2026-01-25 23:15:51.641 +03:00 [INF] Route matched with {action = "Create", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.JobGrades.Commands.CreateJobGrade.CreateJobGradeCommand) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 23:15:51.745 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 500), @p4='?' (Size = 20), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[JOB_GRADES] ([BENEFITS_CONFIG], [CREATED_AT], [CREATED_BY], [DESCRIPTION], [GRADE_CODE], [GRADE_LEVEL], [GRADE_NAME_AR], [GRADE_NAME_EN], [IS_DELETED], [MAX_SALARY], [MIN_SALARY], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[JOB_GRADE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-25 23:15:51.758 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:15:51.762 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.Create (HRMS.API) in 115.3379ms
2026-01-25 23:15:51.764 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.Create (HRMS.API)'
2026-01-25 23:15:51.766 +03:00 [INF] HTTP POST /api/JobGrades responded 201 in 133.8736 ms
2026-01-25 23:15:51.769 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/JobGrades - 201 null application/json; charset=utf-8 152.3703ms
2026-01-25 23:15:57.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades - null null
2026-01-25 23:15:57.363 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 23:15:57.364 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 23:15:57.374 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:15:57.396 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 23:15:57.406 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:15:57.409 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API) in 41.5868ms
2026-01-25 23:15:57.413 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 23:15:57.415 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 52.7753 ms
2026-01-25 23:15:57.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades - 200 null application/json; charset=utf-8 58.925ms
2026-01-25 23:16:58.838 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/JobGrades/2 - application/json 220
2026-01-25 23:16:58.874 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:16:58.876 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.Update (HRMS.API)'
2026-01-25 23:16:58.884 +03:00 [INF] Route matched with {action = "Update", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.Features.Core.JobGrades.Commands.UpdateJobGrade.UpdateJobGradeCommand) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 23:16:58.923 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_JobGradeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[JOB_GRADE_ID], [j].[BENEFITS_CONFIG], [j].[CREATED_AT], [j].[CREATED_BY], [j].[DESCRIPTION], [j].[GRADE_CODE], [j].[GRADE_LEVEL], [j].[GRADE_NAME_AR], [j].[GRADE_NAME_EN], [j].[IS_DELETED], [j].[MAX_SALARY], [j].[MIN_SALARY], [j].[UPDATED_AT], [j].[UPDATED_BY], [j].[VERSION_NO]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[JOB_GRADE_ID] = @__request_JobGradeId_0
2026-01-25 23:16:58.943 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 500), @p2='?' (Size = 20), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[JOB_GRADES] SET [BENEFITS_CONFIG] = @p0, [DESCRIPTION] = @p1, [GRADE_CODE] = @p2, [GRADE_NAME_AR] = @p3, [GRADE_NAME_EN] = @p4, [UPDATED_AT] = @p5
OUTPUT 1
WHERE [JOB_GRADE_ID] = @p6 AND [VERSION_NO] = @p7;
2026-01-25 23:16:58.950 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:16:58.954 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.Update (HRMS.API) in 66.0673ms
2026-01-25 23:16:58.957 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.Update (HRMS.API)'
2026-01-25 23:16:58.960 +03:00 [INF] HTTP PUT /api/JobGrades/2 responded 200 in 85.5586 ms
2026-01-25 23:16:58.963 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/JobGrades/2 - 200 null application/json; charset=utf-8 157.221ms
2026-01-25 23:17:04.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades - null null
2026-01-25 23:17:04.687 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 23:17:04.690 +03:00 [INF] Route matched with {action = "GetAll", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.JobGrades.Queries.GetAllJobGrades.GetAllJobGradesQuery) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 23:17:04.738 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:17:04.753 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [j].[GRADE_LEVEL]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 23:17:04.761 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.JobGradeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:17:04.767 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API) in 47.2378ms
2026-01-25 23:17:04.772 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetAll (HRMS.API)'
2026-01-25 23:17:04.774 +03:00 [INF] HTTP GET /api/JobGrades responded 200 in 87.1949 ms
2026-01-25 23:17:04.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades - 200 null application/json; charset=utf-8 101.261ms
2026-01-25 23:17:23.917 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/JobGrades/2 - null null
2026-01-25 23:17:23.921 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.JobGradesController.GetById (HRMS.API)'
2026-01-25 23:17:23.927 +03:00 [INF] Route matched with {action = "GetById", controller = "JobGrades"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HRMS.API.Controllers.JobGradesController (HRMS.API).
2026-01-25 23:17:23.969 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_JobGradeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [j].[JOB_GRADE_ID] AS [JobGradeId], [j].[GRADE_CODE] AS [GradeCode], [j].[GRADE_NAME_AR] AS [GradeNameAr], [j].[GRADE_NAME_EN] AS [GradeNameEn], [j].[GRADE_LEVEL] AS [GradeLevel], [j].[MIN_SALARY] AS [MinSalary], [j].[MAX_SALARY] AS [MaxSalary], [j].[BENEFITS_CONFIG] AS [BenefitsConfig], [j].[DESCRIPTION] AS [Description]
FROM [HR_CORE].[JOB_GRADES] AS [j]
WHERE [j].[JOB_GRADE_ID] = @__request_JobGradeId_0 AND [j].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:17:23.980 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.JobGradeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:17:23.988 +03:00 [INF] Executed action HRMS.API.Controllers.JobGradesController.GetById (HRMS.API) in 43.5473ms
2026-01-25 23:17:23.990 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.JobGradesController.GetById (HRMS.API)'
2026-01-25 23:17:23.993 +03:00 [INF] HTTP GET /api/JobGrades/2 responded 200 in 72.7446 ms
2026-01-25 23:17:23.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/JobGrades/2 - 200 null application/json; charset=utf-8 79.886ms
2026-01-25 23:17:39.017 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/DocumentTypes - null null
2026-01-25 23:17:39.022 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DocumentTypesController.GetAll (HRMS.API)'
2026-01-25 23:17:39.058 +03:00 [INF] Route matched with {action = "GetAll", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HRMS.Application.Features.Core.DocumentTypes.Queries.GetAllDocumentTypes.GetAllDocumentTypesQuery) on controller HRMS.API.Controllers.DocumentTypesController (HRMS.API).
2026-01-25 23:17:39.085 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:17:39.106 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DOCUMENT_TYPE_ID] AS [DocumentTypeId], [d].[DOCUMENT_TYPE_NAME_AR] AS [DocumentTypeNameAr], [d].[DOCUMENT_TYPE_NAME_EN] AS [DocumentTypeNameEn], [d].[IS_REQUIRED] AS [IsRequired], [d].[HAS_EXPIRY] AS [HasExpiry]
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[IS_DELETED] = CAST(0 AS tinyint)
ORDER BY [d].[DOCUMENT_TYPE_NAME_AR]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-01-25 23:17:39.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.PagedResult`1[[HRMS.Application.DTOs.Core.DocumentTypeListDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:17:39.122 +03:00 [INF] Executed action HRMS.API.Controllers.DocumentTypesController.GetAll (HRMS.API) in 60.0096ms
2026-01-25 23:17:39.124 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DocumentTypesController.GetAll (HRMS.API)'
2026-01-25 23:17:39.126 +03:00 [INF] HTTP GET /api/DocumentTypes responded 200 in 104.2249 ms
2026-01-25 23:17:39.129 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/DocumentTypes - 200 null application/json; charset=utf-8 111.5497ms
2026-01-25 23:18:30.875 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/DocumentTypes - application/json 228
2026-01-25 23:18:30.937 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:18:30.940 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API)'
2026-01-25 23:18:30.963 +03:00 [INF] Route matched with {action = "Create", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(HRMS.Application.Features.Core.DocumentTypes.Commands.CreateDocumentType.CreateDocumentTypeCommand) on controller HRMS.API.Controllers.DocumentTypesController (HRMS.API).
2026-01-25 23:18:31.043 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (Size = 100), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 1) (DbType = Byte), @p9='?' (DbType = Boolean), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HR_CORE].[DOCUMENT_TYPES] ([ALLOWED_EXTENSIONS], [CREATED_AT], [CREATED_BY], [DEFAULT_EXPIRY_DAYS], [DESCRIPTION], [DOCUMENT_TYPE_NAME_AR], [DOCUMENT_TYPE_NAME_EN], [HAS_EXPIRY], [IS_DELETED], [IS_REQUIRED], [MAX_FILE_SIZE_MB], [UPDATED_AT], [UPDATED_BY], [VERSION_NO])
OUTPUT INSERTED.[DOCUMENT_TYPE_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-25 23:18:31.054 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:18:31.058 +03:00 [INF] Executed action HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API) in 89.6353ms
2026-01-25 23:18:31.069 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DocumentTypesController.Create (HRMS.API)'
2026-01-25 23:18:31.071 +03:00 [INF] HTTP POST /api/DocumentTypes responded 201 in 133.8411 ms
2026-01-25 23:18:31.074 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/DocumentTypes - 201 null application/json; charset=utf-8 198.8608ms
2026-01-25 23:18:49.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/DocumentTypes/2 - null null
2026-01-25 23:18:49.533 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DocumentTypesController.GetById (HRMS.API)'
2026-01-25 23:18:49.560 +03:00 [INF] Route matched with {action = "GetById", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HRMS.API.Controllers.DocumentTypesController (HRMS.API).
2026-01-25 23:18:49.592 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_DocumentTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DOCUMENT_TYPE_ID] AS [DocumentTypeId], [d].[DOCUMENT_TYPE_NAME_AR] AS [DocumentTypeNameAr], [d].[DOCUMENT_TYPE_NAME_EN] AS [DocumentTypeNameEn], [d].[DESCRIPTION] AS [Description], [d].[ALLOWED_EXTENSIONS] AS [AllowedExtensions], [d].[IS_REQUIRED] AS [IsRequired], [d].[HAS_EXPIRY] AS [HasExpiry], [d].[DEFAULT_EXPIRY_DAYS] AS [DefaultExpiryDays], [d].[MAX_FILE_SIZE_MB] AS [MaxFileSizeMB]
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[DOCUMENT_TYPE_ID] = @__request_DocumentTypeId_0 AND [d].[IS_DELETED] = CAST(0 AS tinyint)
2026-01-25 23:18:49.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.DocumentTypeDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:18:49.639 +03:00 [INF] Executed action HRMS.API.Controllers.DocumentTypesController.GetById (HRMS.API) in 75.1361ms
2026-01-25 23:18:49.644 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DocumentTypesController.GetById (HRMS.API)'
2026-01-25 23:18:49.647 +03:00 [INF] HTTP GET /api/DocumentTypes/2 responded 200 in 113.6802 ms
2026-01-25 23:18:49.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/DocumentTypes/2 - 200 null application/json; charset=utf-8 124.5359ms
2026-01-25 23:19:47.083 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7053/api/DocumentTypes/2 - application/json 267
2026-01-25 23:19:47.092 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:19:47.093 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.DocumentTypesController.Update (HRMS.API)'
2026-01-25 23:19:47.110 +03:00 [INF] Route matched with {action = "Update", controller = "DocumentTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, HRMS.Application.Features.Core.DocumentTypes.Commands.UpdateDocumentType.UpdateDocumentTypeCommand) on controller HRMS.API.Controllers.DocumentTypesController (HRMS.API).
2026-01-25 23:19:47.160 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_DocumentTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DOCUMENT_TYPE_ID], [d].[ALLOWED_EXTENSIONS], [d].[CREATED_AT], [d].[CREATED_BY], [d].[DEFAULT_EXPIRY_DAYS], [d].[DESCRIPTION], [d].[DOCUMENT_TYPE_NAME_AR], [d].[DOCUMENT_TYPE_NAME_EN], [d].[HAS_EXPIRY], [d].[IS_DELETED], [d].[IS_REQUIRED], [d].[MAX_FILE_SIZE_MB], [d].[UPDATED_AT], [d].[UPDATED_BY], [d].[VERSION_NO]
FROM [HR_CORE].[DOCUMENT_TYPES] AS [d]
WHERE [d].[DOCUMENT_TYPE_ID] = @__request_DocumentTypeId_0
2026-01-25 23:19:47.176 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HR_CORE].[DOCUMENT_TYPES] SET [DOCUMENT_TYPE_NAME_AR] = @p0, [UPDATED_AT] = @p1
OUTPUT 1
WHERE [DOCUMENT_TYPE_ID] = @p2 AND [VERSION_NO] = @p3;
2026-01-25 23:19:47.181 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:19:47.183 +03:00 [INF] Executed action HRMS.API.Controllers.DocumentTypesController.Update (HRMS.API) in 59.1664ms
2026-01-25 23:19:47.196 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.DocumentTypesController.Update (HRMS.API)'
2026-01-25 23:19:47.198 +03:00 [INF] HTTP PUT /api/DocumentTypes/2 responded 200 in 106.1302 ms
2026-01-25 23:19:47.200 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7053/api/DocumentTypes/2 - 200 null application/json; charset=utf-8 122.3674ms
2026-01-25 23:20:36.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks/2 - null null
2026-01-25 23:20:36.391 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.GetById (HRMS.API)'
2026-01-25 23:20:36.405 +03:00 [INF] Route matched with {action = "GetById", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:20:36.516 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__request_BankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[PHONE], [b].[EMAIL], [b].[CREATED_AT], [b].[CREATED_BY], [b].[IS_DELETED], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
WHERE [b].[BANK_ID] = @__request_BankId_0
2026-01-25 23:20:36.523 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.BankDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:20:36.548 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.GetById (HRMS.API) in 136.7609ms
2026-01-25 23:20:36.564 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.GetById (HRMS.API)'
2026-01-25 23:20:36.567 +03:00 [INF] HTTP GET /api/Banks/2 responded 404 in 175.3013 ms
2026-01-25 23:20:36.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks/2 - 404 null application/json; charset=utf-8 191.7572ms
2026-01-25 23:20:42.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Banks/1 - null null
2026-01-25 23:20:42.337 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.BanksController.GetById (HRMS.API)'
2026-01-25 23:20:42.340 +03:00 [INF] Route matched with {action = "GetById", controller = "Banks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HRMS.API.Controllers.BanksController (HRMS.API).
2026-01-25 23:20:42.352 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_BankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BANK_ID], [b].[BANK_NAME_AR], [b].[BANK_NAME_EN], [b].[SWIFT_CODE], [b].[BANK_CODE], [b].[ADDRESS], [b].[PHONE], [b].[EMAIL], [b].[CREATED_AT], [b].[CREATED_BY], [b].[IS_DELETED], [b].[UPDATED_AT], [b].[UPDATED_BY], [b].[VERSION_NO]
FROM [HR_CORE].[BANKS] AS [b]
WHERE [b].[BANK_ID] = @__request_BankId_0
2026-01-25 23:20:42.367 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Core.BankDto, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:20:42.375 +03:00 [INF] Executed action HRMS.API.Controllers.BanksController.GetById (HRMS.API) in 29.5565ms
2026-01-25 23:20:42.378 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.BanksController.GetById (HRMS.API)'
2026-01-25 23:20:42.381 +03:00 [INF] HTTP GET /api/Banks/1 responded 200 in 44.5849 ms
2026-01-25 23:20:42.384 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Banks/1 - 200 null application/json; charset=utf-8 54.1105ms
2026-01-25 23:21:00.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Auth/me - null null
2026-01-25 23:21:00.045 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.GetCurrentUser (HRMS.API)'
2026-01-25 23:21:00.048 +03:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCurrentUser() on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:21:00.067 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:21:00.083 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.GetCurrentUser (HRMS.API) in 26.5655ms
2026-01-25 23:21:00.085 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.GetCurrentUser (HRMS.API)'
2026-01-25 23:21:00.086 +03:00 [INF] HTTP GET /api/Auth/me responded 200 in 42.0070 ms
2026-01-25 23:21:00.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Auth/me - 200 null application/json; charset=utf-8 72.6906ms
2026-01-25 23:22:13.577 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 247
2026-01-25 23:22:13.589 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:22:13.590 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:22:13.600 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:22:13.632 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:22:13.652 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:22:13.849 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:22:13.871 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:22:13.879 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 272.4453ms
2026-01-25 23:22:13.882 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:22:13.885 +03:00 [INF] HTTP POST /api/Auth/register responded 400 in 296.7627 ms
2026-01-25 23:22:13.889 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 400 null application/json; charset=utf-8 311.9927ms
2026-01-25 23:22:37.188 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 245
2026-01-25 23:22:37.198 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:22:37.200 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:22:37.201 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:22:37.231 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:22:37.237 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:22:37.240 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 33.8284ms
2026-01-25 23:22:37.252 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:22:37.254 +03:00 [INF] HTTP POST /api/Auth/register responded 400 in 55.9526 ms
2026-01-25 23:22:37.258 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 400 null application/json; charset=utf-8 69.7537ms
2026-01-25 23:22:47.719 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 253
2026-01-25 23:22:47.723 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:22:47.726 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:22:47.728 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:22:47.738 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:22:47.757 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:22:47.936 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:22:47.941 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:22:47.944 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 212.7103ms
2026-01-25 23:22:47.946 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:22:47.948 +03:00 [INF] HTTP POST /api/Auth/register responded 400 in 224.8670 ms
2026-01-25 23:22:47.951 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 400 null application/json; charset=utf-8 232.44ms
2026-01-25 23:23:03.795 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 254
2026-01-25 23:23:03.800 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:23:03.802 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:23:03.803 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:23:03.815 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:23:03.922 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:23:04.100 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:23:04.106 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:23:04.108 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 300.2618ms
2026-01-25 23:23:04.110 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:23:04.112 +03:00 [INF] HTTP POST /api/Auth/register responded 400 in 312.7929 ms
2026-01-25 23:23:04.116 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 400 null application/json; charset=utf-8 321.0374ms
2026-01-25 23:23:21.707 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 252
2026-01-25 23:23:21.718 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:23:21.740 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:23:21.755 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:23:21.844 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:23:21.858 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:23:22.018 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:23:22.025 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:23:22.094 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [EmployeeId], [FullNameAr], [FullNameEn], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-01-25 23:23:22.110 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 23:23:32.064 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 10297.8746ms
2026-01-25 23:23:32.071 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:23:32.075 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at HRMS.Application.Services.AuthService.RegisterAsync(RegisterRequest request) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Services\AuthService.cs:line 77
   at HRMS.API.Controllers.AuthController.Register(RegisterRequest request) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:23:32.142 +03:00 [ERR] HTTP POST /api/Auth/register responded 500 in 10424.1170 ms
2026-01-25 23:23:32.154 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 500 null text/plain; charset=utf-8 10446.5578ms
2026-01-25 23:23:36.644 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 252
2026-01-25 23:23:36.652 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:23:36.655 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:23:36.809 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:23:36.843 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:23:36.856 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:23:37.123 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:23:37.138 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:23:37.162 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [EmployeeId], [FullNameAr], [FullNameEn], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-01-25 23:23:37.183 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 23:23:42.019 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 5185.1908ms
2026-01-25 23:23:42.025 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:23:42.028 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at HRMS.Application.Services.AuthService.RegisterAsync(RegisterRequest request) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Services\AuthService.cs:line 77
   at HRMS.API.Controllers.AuthController.Register(RegisterRequest request) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:23:42.091 +03:00 [ERR] HTTP POST /api/Auth/register responded 500 in 5438.6202 ms
2026-01-25 23:23:42.096 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 500 null text/plain; charset=utf-8 5451.5924ms
2026-01-25 23:23:46.659 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 252
2026-01-25 23:23:46.665 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:23:46.667 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:23:46.669 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:23:46.691 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:23:46.710 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:23:46.875 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:23:46.881 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:23:46.901 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [EmployeeId], [FullNameAr], [FullNameEn], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-01-25 23:23:46.915 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HRMS.Infrastructure.Data.HRMSDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-25 23:23:53.914 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 7240.2978ms
2026-01-25 23:23:53.919 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:23:53.923 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_EMPLOYEES_EmployeeId". The conflict occurred in database "HRMS_Hospital", table "HR_PERSONNEL.EMPLOYEES", column 'EMPLOYEE_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2fc772d4-7254-4374-a8d0-d822cbecf356
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at HRMS.Application.Services.AuthService.RegisterAsync(RegisterRequest request) in G:\HRMS_Hospital\Backend\HRMS\HRMS.Application\Services\AuthService.cs:line 77
   at HRMS.API.Controllers.AuthController.Register(RegisterRequest request) in G:\HRMS_Hospital\Backend\HRMS\HRMS.API\Controllers\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-25 23:23:54.001 +03:00 [ERR] HTTP POST /api/Auth/register responded 500 in 7336.5186 ms
2026-01-25 23:23:54.004 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 500 null text/plain; charset=utf-8 7345.3467ms
2026-01-25 23:24:04.130 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 251
2026-01-25 23:24:04.136 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:24:04.137 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:24:04.139 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:24:04.183 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-01-25 23:24:04.208 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 65.0871ms
2026-01-25 23:24:04.210 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:24:04.212 +03:00 [INF] HTTP POST /api/Auth/register responded 400 in 76.2950 ms
2026-01-25 23:24:04.215 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 400 null application/problem+json; charset=utf-8 84.8422ms
2026-01-25 23:24:14.113 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/register - application/json 255
2026-01-25 23:24:14.117 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:24:14.119 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:24:14.121 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HRMS.Application.DTOs.Auth.RegisterRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:24:14.133 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:24:14.190 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:24:14.480 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:24:14.487 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:24:14.495 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [EmployeeId], [FullNameAr], [FullNameEn], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-01-25 23:24:14.521 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-01-25 23:24:14.564 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-01-25 23:24:14.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[Name], [a].[NameAr], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-01-25 23:24:14.626 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:24:14.635 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:24:14.702 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p24='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p25='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTimeOffset), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [EmployeeId] = @p7, [FullNameAr] = @p8, [FullNameEn] = @p9, [IsActive] = @p10, [LastLoginAt] = @p11, [LockoutEnabled] = @p12, [LockoutEnd] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [RefreshToken] = @p19, [RefreshTokenExpiryTime] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyStamp] = @p25;
2026-01-25 23:24:14.749 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-25 23:24:14.811 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:24:14.817 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:24:14.835 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [EmployeeId] = @p5, [FullNameAr] = @p6, [FullNameEn] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2026-01-25 23:24:14.844 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:24:14.849 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Register (HRMS.API) in 724.455ms
2026-01-25 23:24:14.851 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Register (HRMS.API)'
2026-01-25 23:24:14.853 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 735.5797 ms
2026-01-25 23:24:14.856 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/register - 200 null application/json; charset=utf-8 743.3625ms
2026-01-25 23:24:45.873 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/login - application/json 85
2026-01-25 23:24:45.908 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:24:45.909 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-01-25 23:24:45.916 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HRMS.Application.DTOs.Auth.LoginRequest) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:24:45.945 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:24:46.167 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:24:46.186 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:24:46.209 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [EmployeeId] = @p5, [FullNameAr] = @p6, [FullNameEn] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2026-01-25 23:24:46.226 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-25 23:24:46.239 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:24:46.246 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:24:46.251 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [EmployeeId] = @p5, [FullNameAr] = @p6, [FullNameEn] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2026-01-25 23:24:46.258 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:24:46.260 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Login (HRMS.API) in 338.2358ms
2026-01-25 23:24:46.262 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Login (HRMS.API)'
2026-01-25 23:24:46.264 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 356.0024 ms
2026-01-25 23:24:46.265 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/login - 200 null application/json; charset=utf-8 392.0571ms
2026-01-25 23:24:55.152 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/logout - null 0
2026-01-25 23:24:55.156 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:24:55.158 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.Logout (HRMS.API)'
2026-01-25 23:24:55.165 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:24:55.179 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:24:55.187 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.Logout (HRMS.API) in 10.9785ms
2026-01-25 23:24:55.191 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.Logout (HRMS.API)'
2026-01-25 23:24:55.193 +03:00 [INF] HTTP POST /api/Auth/logout responded 401 in 37.3281 ms
2026-01-25 23:24:55.196 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/logout - 401 null application/json; charset=utf-8 44.2437ms
2026-01-25 23:25:10.387 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/refresh-token - application/json 12
2026-01-25 23:25:10.392 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:25:10.394 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.RefreshToken (HRMS.API)'
2026-01-25 23:25:10.407 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:25:10.453 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2026-01-25 23:25:10.466 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:25:10.469 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.RefreshToken (HRMS.API) in 48.4328ms
2026-01-25 23:25:10.471 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.RefreshToken (HRMS.API)'
2026-01-25 23:25:10.473 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 401 in 81.3987 ms
2026-01-25 23:25:10.476 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/refresh-token - 401 null application/json; charset=utf-8 90.1128ms
2026-01-25 23:25:30.451 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/refresh-token - application/json 90
2026-01-25 23:25:30.469 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:25:30.479 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.RefreshToken (HRMS.API)'
2026-01-25 23:25:30.484 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:25:30.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2026-01-25 23:25:30.508 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-01-25 23:25:30.516 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-01-25 23:25:30.525 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[EmployeeId], [a].[FullNameAr], [a].[FullNameEn], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2026-01-25 23:25:30.539 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [EmployeeId] = @p5, [FullNameAr] = @p6, [FullNameEn] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2026-01-25 23:25:30.548 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[HRMS.Application.DTOs.Auth.AuthResponse, HRMS.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-25 23:25:30.551 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.RefreshToken (HRMS.API) in 61.5303ms
2026-01-25 23:25:30.553 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.RefreshToken (HRMS.API)'
2026-01-25 23:25:30.554 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 85.2627 ms
2026-01-25 23:25:30.557 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/refresh-token - 200 null application/json; charset=utf-8 105.8562ms
2026-01-25 23:25:37.471 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7053/api/Auth/me - null null
2026-01-25 23:25:37.477 +03:00 [INF] Executing endpoint 'HRMS.API.Controllers.AuthController.GetCurrentUser (HRMS.API)'
2026-01-25 23:25:37.478 +03:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCurrentUser() on controller HRMS.API.Controllers.AuthController (HRMS.API).
2026-01-25 23:25:37.483 +03:00 [INF] Executing OkObjectResult, writing value of type 'HRMS.Core.Utilities.Result`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-25 23:25:37.529 +03:00 [INF] Executed action HRMS.API.Controllers.AuthController.GetCurrentUser (HRMS.API) in 7.6489ms
2026-01-25 23:25:37.531 +03:00 [INF] Executed endpoint 'HRMS.API.Controllers.AuthController.GetCurrentUser (HRMS.API)'
2026-01-25 23:25:37.534 +03:00 [INF] HTTP GET /api/Auth/me responded 200 in 57.3203 ms
2026-01-25 23:25:37.537 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7053/api/Auth/me - 200 null application/json; charset=utf-8 65.668ms
2026-01-25 23:26:02.579 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/add-role?userId=1&roleName=1 - null 0
2026-01-25 23:26:02.585 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:26:02.603 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin)
2026-01-25 23:26:02.626 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-25 23:26:02.627 +03:00 [INF] HTTP POST /api/Auth/add-role responded 401 in 42.3768 ms
2026-01-25 23:26:02.629 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/add-role?userId=1&roleName=1 - 401 0 null 50.4453ms
2026-01-25 23:26:08.029 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7053/api/Auth/add-role?userId=1&roleName=2 - null 0
2026-01-25 23:26:08.033 +03:00 [INF] CORS policy execution successful.
2026-01-25 23:26:08.037 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (System_Admin)
2026-01-25 23:26:08.039 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-25 23:26:08.043 +03:00 [INF] HTTP POST /api/Auth/add-role responded 401 in 9.8718 ms
2026-01-25 23:26:08.048 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7053/api/Auth/add-role?userId=1&roleName=2 - 401 0 null 18.6617ms
