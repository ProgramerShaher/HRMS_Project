# ๐ฆ Domain Entities - HR_PAYROLL Schema

## โ ุงูููุงูุงุช ุงูููุดุฃุฉ

ุชู ุฅูุดุงุก ุฌููุน ููุงูุงุช HR_PAYROLL ุจุชุตููู ูุจุณุท ููุงุณุจ **SQL Server** ุงููุณุชููุ ูุน ุฅุฒุงูุฉ ุชุนููุฏุงุช ุงูุฑุจุท ุงููุจุงุดุฑ ุจุฃุณููุจ Oracle ุงููุฏูู ุญุณุจ ุฑุบุจุชู.

---

## ๐ ูุงุฆูุฉ ุงูููุงูุงุช

### **1. SalaryElement** (ุนูุงุตุฑ ุงูุฑุงุชุจ)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/SalaryElement.cs`  
**ุงูุฌุฏูู ูู SQL:** `SALARY_ELEMENTS`

**ุงููุตู:** ุชุนุฑูู ุจููุฏ ุงูุฑุงุชุจ (ูุซู: ุงูุฑุงุชุจ ุงูุฃุณุงุณูุ ุจุฏู ุงูุณููุ ุฎุตู ุงูุชุฃุฎูุฑ).

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `ElementId` (PK)
- `ElementNameAr` - ุงุณู ุงูุจูุฏ
- `ElementType` - ููุนู (ุงุณุชุญูุงู / ุฎุตู)
- `IsTaxable` - ูู ูุฎุถุน ููุถุฑูุจุฉ

---

### **2. EmployeeSalaryStructure** (ูููู ุงูุฑุงุชุจ)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/EmployeeSalaryStructure.cs`  
**ุงูุฌุฏูู ูู SQL:** `EMPLOYEE_SALARY_STRUCTURE`

**ุงููุตู:** ูุฑุจุท ูู ููุธู ุจุงูุนูุงุตุฑ ุงููุณุชุญูุฉ ูู (ูู ูุณุชุญู ุจุฏู ุณููุ ูู ุฎุตู ุงูุชุฃูููุงุชุ).

---

### **3. PayrollRun** (ูุณูุฑุงุช ุงูุฑูุงุชุจ)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/PayrollRun.cs`  
**ุงูุฌุฏูู ูู SQL:** `PAYROLL_RUNS`

**ุงููุตู:** ููุซู "ุงูุดูุฑ ุงููุงูู" ุงูุฐู ูุชู ุตุฑู ุงูุฑูุงุชุจ ููู (ูุซู: ุฑูุงุชุจ ุดูุฑ ููุงูุฑ 2026).

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `Year`, `Month` - ุงููุชุฑุฉ
- `Status` - ุญุงูุฉ ุงููุณูุฑ (DRAFT, APPROVED, PAID)
- `TotalPayout` - ุฅุฌูุงูู ุงููุจูุบ ุงููุตุฑูู

---

### **4. Payslip** (ูุณููุฉ ุงูุฑุงุชุจ)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/Payslip.cs`  
**ุงูุฌุฏูู ูู SQL:** `PAYSLIPS`

**ุงููุตู:** ููุฎุต ุฑุงุชุจ ุงูููุธู ููุดูุฑ ุงููุญุฏุฏ.

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `BasicSalary` - ุงูุฃุณุงุณู
- `TotalAllowances` - ุฅุฌูุงูู ุงูุจุฏูุงุช
- `TotalDeductions` - ุฅุฌูุงูู ุงูุฎุตููุงุช
- `NetSalary` - ุงูุตุงูู ุงููุณุชุญู

---

### **5. PayslipDetail** (ุชูุงุตูู ุงููุณููุฉ)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/PayslipDetail.cs`  
**ุงูุฌุฏูู ูู SQL:** `PAYSLIP_DETAILS`

**ุงููุตู:** ุงูุชูุงุตูู ุงูุฏูููุฉ ููู ูุณููุฉ (ุณุทุฑ ููู ุจูุฏ: 5000 ุฃุณุงุณูุ 1000 ุณููุ -300 ุชุฃูููุงุช).

---

### **6. Loan** (ุงูุณูู ูุงููุฑูุถ)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/Loan.cs`  
**ุงูุฌุฏูู ูู SQL:** `LOANS`

**ุงููุตู:** ุฅุฏุงุฑุฉ ุงูุณูู ุงูููููุญุฉ ููููุธููู.

**ุงูุนูุงูุงุช:**
- `Installments` โ ูุงุฆูุฉ ุงูุฃูุณุงุท ุงูุดูุฑูุฉ

---

### **7. LoanInstallment** (ุฃูุณุงุท ุงูุณูู)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/LoanInstallment.cs`  
**ุงูุฌุฏูู ูู SQL:** `LOAN_INSTALLMENTS`

**ุงููุตู:** ุฌุฏูู ุณุฏุงุฏ ุงูุณููุฉุ ููุชู ุชุญุฏูุซู ุนูุฏ ุงูุฎุตู ูู ุงูุฑุงุชุจ ุชููุงุฆูุงู.

---

### **8. EndOfServiceCalc** (ููุงูุฉ ุงูุฎุฏูุฉ)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/EndOfServiceCalc.cs`  
**ุงูุฌุฏูู ูู SQL:** `END_OF_SERVICE_CALC`

**ุงููุตู:** ุงุญุชุณุงุจ ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ ุจูุงุกู ุนูู ุณููุงุช ุงูุฎุฏูุฉ ูุงูุฑุงุชุจ ุงูุฃุฎูุฑ.

---

### **9. PayrollAdjustment** (ุงูุชุนุฏููุงุช)
**ุงููุณุงุฑ:** `HRMS.Core/Entities/Payroll/PayrollAdjustment.cs`  
**ุงูุฌุฏูู ูู SQL:** `PAYROLL_ADJUSTMENTS`

**ุงููุตู:** ูุฅุถุงูุฉ ููุงูุขุช ุฃู ุฎุตููุงุช ุงุณุชุซูุงุฆูุฉ ูุดูุฑ ูุนูู ูุฏููุงู.

---

## ๐ ููุงุญุธุงุช ุงูุชุตููู ุงููุจุณุท

1.  **Code First Convention**: ุชู ุงูุงุนุชูุงุฏ ุนูู ุชุณููุงุช C# ุงูููุงุณูุฉุ ููุง ูุฌุนู EF Core ููุดุฆ ุงูุฃุนูุฏุฉ ุจุฃุณูุงุก ููุฑูุกุฉ (ูุซู `SalaryElementId` ุจุฏูุงู ูู `SAL_ELEM_ID` ุงููุฏูู).
2.  **ุฅุฒุงูุฉ ุงูุชุนููุฏ**: ุชู ุญุฐู `[Column]` ูู ุงูุฎุตุงุฆุต ุงูุชู ุชุชุทุงุจู ุฃุณูุงุคูุงุ ููุง ุฌุนู ุงูููุฏ ุฃูุธู ูุฃุณูู ูููุฑุงุกุฉ.
3.  **ุงูุนูุงูุงุช**: ุชู ุงูุญูุงุธ ุนูู ุนูุงูุงุช `virtual` ูุถูุงู ุนูู ุงูุชุญููู ุงููุณูู (Lazy Loading).
