<div class="fixed top-0 left-0 right-0 h-20 px-8 flex items-center justify-between transition-all duration-300 pointer-events-none"
     [class.pr-80]="layoutService.sidebarVisible()"
     [class.pr-8]="!layoutService.sidebarVisible()">
    
    <!-- Background Layer (Glass) -->
    <div class="absolute inset-0 glass-panel pointer-events-auto shadow-sm"></div>

    <!-- Content -->
    <div class="relative z-10 w-full flex items-center justify-between pointer-events-auto h-full">
        
        <!-- Right: Toggle & Breadcrumb -->
        <div class="flex items-center gap-6">
            <button pButton icon="pi pi-bars" 
                    class="p-button-rounded p-button-text !text-slate-600 hover:!bg-white/60 !w-11 !h-11 !bg-white/40 backdrop-blur-md shadow-sm border border-white/60 transition-all hover:scale-105" 
                    (click)="layoutService.toggleSidebar()">
            </button>
            
            <div class="flex flex-col select-none">
                <h1 class="text-2xl font-bold text-slate-800 tracking-tight leading-none font-sans">لوحة التحكم</h1>
                <div class="flex items-center gap-2 mt-1.5 opacity-80">
                    <span class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></span>
                    <span class="text-xs text-slate-500 font-medium">متصل</span>
                </div>
            </div>
        </div>

        <!-- Left: Search & User Actions -->
        <div class="flex items-center gap-5">
            
            <!-- Search -->
            <div class="relative hidden lg:block group">
                <div class="absolute inset-0 bg-blue-500/5 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                <div class="search-input-wrapper relative flex items-center bg-white/60 border border-slate-200/60 rounded-full px-4 py-2.5 shadow-sm w-72">
                    <i class="pi pi-search text-slate-400 text-lg ml-2 group-focus-within:text-blue-500 transition-colors"></i>
                    <input type="text" 
                           placeholder="بحث..." 
                           class="bg-transparent border-none outline-none text-sm w-full text-slate-700 placeholder:text-slate-400 font-medium font-sans" />
                    <span class="hidden group-focus-within:block text-[10px] text-blue-500 font-bold bg-blue-50 px-1.5 py-0.5 rounded ml-1 animate-fade-in">ESC</span>
                </div>
            </div>

            <!-- Actions -->
            <div class="flex items-center gap-2 bg-white/40 p-1.5 rounded-full border border-white/50 shadow-sm backdrop-blur-md hover:bg-white/60 transition-colors">
                
                <!-- Notifications -->
                <button class="w-10 h-10 rounded-full flex items-center justify-center text-slate-500 hover:text-blue-600 hover:bg-white transition-all relative group" 
                        pTooltip="الإشعارات" tooltipPosition="bottom">
                    <i class="pi pi-bell text-xl"></i>
                    <span class="absolute top-2.5 right-3 w-2 h-2 bg-red-500 border-2 border-white rounded-full group-hover:scale-110 transition-transform"></span>
                </button>

                <!-- Settings/Globe -->
                <button class="w-10 h-10 rounded-full flex items-center justify-center text-slate-500 hover:text-blue-600 hover:bg-white transition-all"
                        (click)="layoutService.toggleDirection()"
                        pTooltip="تغيير اللغة" tooltipPosition="bottom">
                    <i class="pi pi-globe text-xl"></i>
                </button>

                <!-- Profile -->
                <div class="relative pl-1 pr-1.5 cursor-pointer group">
                    <img src="https://i.pravatar.cc/150?u=admin" class="w-9 h-9 rounded-full border-2 border-white shadow-sm group-hover:shadow-md transition-all group-hover:scale-105">
                    <div class="absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-white rounded-full flex items-center justify-center">
                         <i class="pi pi-verified text-[10px] text-blue-500"></i>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
