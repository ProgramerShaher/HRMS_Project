@if (authService.isAuthenticated()) {
    <div class="h-screen flex overflow-hidden bg-slate-50 dark:bg-zinc-950 text-slate-900 dark:text-zinc-100 font-sans" dir="rtl">
        
        <!-- Sidebar (Fixed Width, Full Height, Z-50) -->
        <!-- Sidebar (Fixed Width/Collapsed, Full Height, Z-50) -->
        <app-sidebar class="z-50 shrink-0 h-full transition-all duration-300 ease-in-out"
                     [ngClass]="{
                        'w-72': !layoutService.isSidebarCollapsed(),
                        'w-20': layoutService.isSidebarCollapsed()
                     }"></app-sidebar>

        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col relative w-full h-full overflow-hidden">
            
            <!-- Topbar (Inside Main Area) -->
            <app-topbar></app-topbar>

            <!-- Scrollable Page Content -->
            <main class="flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth relative">
                <router-outlet></router-outlet>
            </main>
        </div>
    </div>
} @else {
    <!-- Empty Layout for Auth (Login/Register) -->
    <router-outlet></router-outlet>
}