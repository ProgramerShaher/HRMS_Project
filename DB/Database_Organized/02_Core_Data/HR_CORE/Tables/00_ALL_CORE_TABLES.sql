-- =================================================================================
-- سكربت إنشاء جميع الجداول (75 جدول) - بدون Foreign Keys
-- الإصدار: النهائي الكامل
-- =================================================================================

-- للاتصال بـ Oracle 23ai Free (استخدم FREEPDB1)
-- للاتصال بـ Oracle XE (استخدم XEPDB1)
ALTER SESSION SET CONTAINER = FREEPDB1;

PROMPT ========================================
PROMPT إنشاء جداول HR_CORE (13 جدول)
PROMPT ========================================

CREATE TABLE HR_CORE.COUNTRIES (
    COUNTRY_ID NUMBER(3) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    COUNTRY_NAME_AR VARCHAR2(100) NOT NULL,
    COUNTRY_NAME_EN VARCHAR2(100) NOT NULL,
    CITIZENSHIP_NAME_AR VARCHAR2(100),
    ISO_CODE CHAR(2) UNIQUE,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.CITIES (
    CITY_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    COUNTRY_ID NUMBER(3) NOT NULL,
    CITY_NAME_AR VARCHAR2(100) NOT NULL,
    CITY_NAME_EN VARCHAR2(100) NOT NULL,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.BRANCHES (
    BRANCH_ID NUMBER(3) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    BRANCH_NAME_AR VARCHAR2(100) NOT NULL,
    BRANCH_NAME_EN VARCHAR2(100),
    CITY_ID NUMBER(5),
    ADDRESS VARCHAR2(200),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.DEPARTMENTS (
    DEPT_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    DEPT_NAME_AR VARCHAR2(100) NOT NULL,
    DEPT_NAME_EN VARCHAR2(100),
    PARENT_DEPT_ID NUMBER(5),
    BRANCH_ID NUMBER(3) NOT NULL,
    COST_CENTER_CODE VARCHAR2(50),
    MANAGER_ID NUMBER,
    IS_ACTIVE NUMBER(1) DEFAULT 1,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.JOB_GRADES (
    GRADE_ID NUMBER(3) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    GRADE_NAME VARCHAR2(50) NOT NULL,
    MIN_SALARY NUMBER(10, 2),
    MAX_SALARY NUMBER(10, 2),
    TICKET_CLASS VARCHAR2(20),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.JOBS (
    JOB_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    JOB_TITLE_AR VARCHAR2(100) NOT NULL,
    JOB_TITLE_EN VARCHAR2(100),
    DEFAULT_GRADE_ID NUMBER(3),
    IS_MEDICAL NUMBER(1) DEFAULT 0,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.DOCUMENT_TYPES (
    DOC_TYPE_ID NUMBER(3) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    DOC_NAME_AR VARCHAR2(100) NOT NULL,
    IS_MANDATORY NUMBER(1) DEFAULT 0,
    REQUIRES_EXPIRY NUMBER(1) DEFAULT 1,
    ALERT_DAYS_BEFORE NUMBER(3) DEFAULT 30,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.BANKS (
    BANK_ID NUMBER(3) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    BANK_NAME_AR VARCHAR2(100) NOT NULL,
    BANK_NAME_EN VARCHAR2(100),
    BANK_CODE VARCHAR2(20),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.SYSTEM_SETTINGS (
    SETTING_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    SETTING_KEY VARCHAR2(100) NOT NULL UNIQUE,
    SETTING_VALUE VARCHAR2(500),
    SETTING_TYPE VARCHAR2(20) CHECK (SETTING_TYPE IN ('STRING', 'NUMBER', 'DATE', 'BOOLEAN')),
    DESCRIPTION_AR VARCHAR2(200),
    IS_EDITABLE NUMBER(1) DEFAULT 1,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.AUDIT_LOGS (
    LOG_ID NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    TABLE_NAME VARCHAR2(100) NOT NULL,
    RECORD_ID NUMBER(15) NOT NULL,
    ACTION_TYPE VARCHAR2(20) CHECK (ACTION_TYPE IN ('INSERT', 'UPDATE', 'DELETE', 'APPROVE', 'REJECT')),
    OLD_VALUE CLOB,
    NEW_VALUE CLOB,
    PERFORMED_BY VARCHAR2(50) NOT NULL,
    PERFORMED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    IP_ADDRESS VARCHAR2(50),
    USER_AGENT VARCHAR2(200)
);

CREATE TABLE HR_CORE.NOTIFICATIONS (
    NOTIFICATION_ID NUMBER(15) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    RECIPIENT_ID NUMBER(10) NOT NULL,
    NOTIFICATION_TYPE VARCHAR2(50) CHECK (NOTIFICATION_TYPE IN ('LEAVE_APPROVAL', 'CONTRACT_EXPIRY', 'DOCUMENT_EXPIRY', 'PAYSLIP_READY', 'GENERAL')),
    TITLE_AR VARCHAR2(200) NOT NULL,
    MESSAGE_AR VARCHAR2(500),
    IS_READ NUMBER(1) DEFAULT 0,
    READ_AT TIMESTAMP,
    PRIORITY VARCHAR2(20) DEFAULT 'NORMAL' CHECK (PRIORITY IN ('LOW', 'NORMAL', 'HIGH', 'URGENT')),
    REFERENCE_TABLE VARCHAR2(100),
    REFERENCE_ID NUMBER(15),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.WORKFLOW_APPROVALS (
    APPROVAL_ID NUMBER(15) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    REQUEST_TYPE VARCHAR2(50) NOT NULL,
    REQUEST_ID NUMBER(15) NOT NULL,
    APPROVER_LEVEL NUMBER(1) NOT NULL,
    APPROVER_ID NUMBER(10) NOT NULL,
    STATUS VARCHAR2(20) DEFAULT 'PENDING' CHECK (STATUS IN ('PENDING', 'APPROVED', 'REJECTED', 'DELEGATED')),
    APPROVAL_DATE TIMESTAMP,
    COMMENTS VARCHAR2(500),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_CORE.REPORT_TEMPLATES (
    TEMPLATE_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    TEMPLATE_NAME_AR VARCHAR2(100) NOT NULL,
    REPORT_TYPE VARCHAR2(50),
    SQL_QUERY CLOB,
    PARAMETERS CLOB,
    IS_ACTIVE NUMBER(1) DEFAULT 1,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

PROMPT تم إنشاء 13 جدول في HR_CORE

PROMPT ========================================
PROMPT إنشاء جداول HR_PERSONNEL (11 جدول)
PROMPT ========================================

CREATE TABLE HR_PERSONNEL.EMPLOYEES (
    EMPLOYEE_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_NUMBER VARCHAR2(20) NOT NULL UNIQUE,
    FIRST_NAME_AR VARCHAR2(50) NOT NULL,
    SECOND_NAME_AR VARCHAR2(50),
    THIRD_NAME_AR VARCHAR2(50),
    HIJRI_LAST_NAME_AR VARCHAR2(50) NOT NULL,
    FULL_NAME_EN VARCHAR2(200) NOT NULL,
    GENDER CHAR(1) CHECK (GENDER IN ('M', 'F')),
    BIRTH_DATE DATE NOT NULL,
    MARITAL_STATUS VARCHAR2(20) CHECK (MARITAL_STATUS IN ('SINGLE', 'MARRIED', 'DIVORCED', 'WIDOWED')),
    NATIONALITY_ID NUMBER(3) NOT NULL,
    JOB_ID NUMBER(5) NOT NULL,
    DEPT_ID NUMBER(5) NOT NULL,
    MANAGER_ID NUMBER(10),
    JOINING_DATE DATE NOT NULL,
    STATUS VARCHAR2(20) DEFAULT 'ACTIVE' CHECK (STATUS IN ('ACTIVE', 'ON_LEAVE', 'TERMINATED', 'RESIGNED')),
    EMAIL VARCHAR2(100),
    MOBILE VARCHAR2(20),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.EMPLOYEE_DOCUMENTS (
    DOC_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    DOC_TYPE_ID NUMBER(3) NOT NULL,
    DOC_NUMBER VARCHAR2(50),
    ISSUE_DATE DATE,
    EXPIRY_DATE DATE,
    ISSUE_PLACE VARCHAR2(100),
    ATTACHMENT_PATH VARCHAR2(500),
    IS_ACTIVE NUMBER(1) DEFAULT 1,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.EMPLOYEE_QUALIFICATIONS (
    QUALIFICATION_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    DEGREE_TYPE VARCHAR2(50) NOT NULL,
    MAJOR_AR VARCHAR2(100) NOT NULL,
    UNIVERSITY_AR VARCHAR2(200),
    COUNTRY_ID NUMBER(3),
    GRADUATION_YEAR NUMBER(4),
    GRADE VARCHAR2(20),
    ATTACHMENT_PATH VARCHAR2(500),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.EMPLOYEE_EXPERIENCES (
    EXPERIENCE_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    COMPANY_NAME_AR VARCHAR2(200) NOT NULL,
    JOB_TITLE_AR VARCHAR2(100),
    START_DATE DATE NOT NULL,
    END_DATE DATE,
    IS_CURRENT NUMBER(1) DEFAULT 0,
    RESPONSIBILITIES VARCHAR2(500),
    REASON_FOR_LEAVING VARCHAR2(200),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.EMPLOYEE_CERTIFICATIONS (
    CERT_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    CERT_NAME_AR VARCHAR2(200) NOT NULL,
    ISSUING_AUTHORITY VARCHAR2(200),
    ISSUE_DATE DATE,
    EXPIRY_DATE DATE,
    CERT_NUMBER VARCHAR2(100),
    IS_MANDATORY NUMBER(1) DEFAULT 0,
    ATTACHMENT_PATH VARCHAR2(500),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.EMPLOYEE_ADDRESSES (
    ADDRESS_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    ADDRESS_TYPE VARCHAR2(20) CHECK (ADDRESS_TYPE IN ('CURRENT', 'PERMANENT', 'EMERGENCY')),
    CITY_ID NUMBER(5),
    DISTRICT VARCHAR2(100),
    STREET VARCHAR2(200),
    BUILDING_NO VARCHAR2(20),
    POSTAL_CODE VARCHAR2(20),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.EMERGENCY_CONTACTS (
    CONTACT_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    CONTACT_NAME_AR VARCHAR2(100) NOT NULL,
    RELATIONSHIP VARCHAR2(50),
    PHONE_PRIMARY VARCHAR2(20) NOT NULL,
    PHONE_SECONDARY VARCHAR2(20),
    IS_PRIMARY NUMBER(1) DEFAULT 0,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.EMPLOYEE_BANK_ACCOUNTS (
    ACCOUNT_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    BANK_ID NUMBER(3) NOT NULL,
    ACCOUNT_NUMBER VARCHAR2(50) NOT NULL,
    IBAN VARCHAR2(50),
    IS_PRIMARY NUMBER(1) DEFAULT 1,
    IS_ACTIVE NUMBER(1) DEFAULT 1,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.CONTRACTS (
    CONTRACT_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    CONTRACT_TYPE VARCHAR2(50) CHECK (CONTRACT_TYPE IN ('FULL_TIME', 'PART_TIME', 'LOCUM', 'VISITING')),
    START_DATE DATE NOT NULL,
    END_DATE DATE,
    IS_RENEWABLE NUMBER(1) DEFAULT 1,
    BASIC_SALARY NUMBER(10, 2) NOT NULL,
    HOUSING_ALLOWANCE NUMBER(10, 2) DEFAULT 0,
    TRANSPORT_ALLOWANCE NUMBER(10, 2) DEFAULT 0,
    OTHER_ALLOWANCES NUMBER(10, 2) DEFAULT 0,
    VACATION_DAYS NUMBER(3) DEFAULT 30,
    WORKING_HOURS_DAILY NUMBER(2) DEFAULT 8,
    CONTRACT_STATUS VARCHAR2(20) DEFAULT 'ACTIVE' CHECK (CONTRACT_STATUS IN ('ACTIVE', 'EXPIRED', 'TERMINATED')),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.CONTRACT_RENEWALS (
    RENEWAL_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CONTRACT_ID NUMBER(10) NOT NULL,
    OLD_END_DATE DATE NOT NULL,
    NEW_START_DATE DATE NOT NULL,
    NEW_END_DATE DATE NOT NULL,
    RENEWAL_DATE DATE DEFAULT SYSDATE,
    NOTES VARCHAR2(500),
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

CREATE TABLE HR_PERSONNEL.DEPENDENTS (
    DEPENDENT_ID NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMPLOYEE_ID NUMBER(10) NOT NULL,
    NAME_AR VARCHAR2(100) NOT NULL,
    RELATIONSHIP VARCHAR2(50) NOT NULL,
    BIRTH_DATE DATE,
    NATIONAL_ID VARCHAR2(20),
    IS_ELIGIBLE_FOR_TICKET NUMBER(1) DEFAULT 1,
    IS_ELIGIBLE_FOR_INSURANCE NUMBER(1) DEFAULT 1,
    CREATED_BY VARCHAR2(50), CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50), UPDATED_AT TIMESTAMP,
    IS_DELETED NUMBER(1) DEFAULT 0, VERSION_NO NUMBER(10) DEFAULT 1
);

PROMPT تم إنشاء 11 جدول في HR_PERSONNEL

-- سأكمل في الرد التالي بسبب حد الطول...
